(()=>{var Br={67832:(G,N,t)=>{"use strict";t.d(N,{rm:()=>R});var v=t(35608),D=t.n(v);const w=null,L=v.ungzip,p=o=>w(new TextEncoder().encode(o)),R=o=>new TextDecoder().decode(L(new Uint8Array(o)))},71789:(G,N,t)=>{"use strict";t.d(N,{Qs:()=>n,vn:()=>_,Ev:()=>h});var v=t(81165),D=t(53705),w=t(92029),L=t(3153);const p="hzv5",R="init",o="flpk",i=(f,A)=>f.slice(-3)+"/"+f+"/"+A+".zip",E=()=>globalThis[p],n=()=>(0,D.i3)(E()),a=()=>(0,w.hK)(E(),"missing HZV5 data"),_=async()=>(a(),E()[R]),h=async f=>{if(a(),(0,L.cQ)(f))throw new Error("no cmt data");const[A,y,s,e]=E()[o],r={t10s:A[0],size:A[1],tre:(0,v.J)(A[2])},c=y.map(P=>{let[M,C,u]=P;return{t10s:M,size:C,pbx:(0,v.J)(u)}}),m=s.map(P=>{let[M,C]=P;return{t10s:M,pch:C}});return[r,c,m,new Date(e)]}},7106:(G,N,t)=>{"use strict";t.d(N,{Lp:()=>h,Vv:()=>e,_M:()=>R,gG:()=>n,hc:()=>_,lD:()=>a,mb:()=>f,xK:()=>E});var v=t(34605),D=t(12107),w=t(67173),L=t(94189),p=t(38099);const R=(r,c)=>{const m=r.tableData&&r.tableData.links,P=r.tableData.mergeCells;if(!m)return"";const M=[],{selectionLeftTopInfo:{x:C,y:u},selectionRightBottomInfo:{x:j,y:K}}=c;for(let T=C;T<=j;T++)for(let x=u;x<=K;x++)M.push(m[x][T]);if(P[C+"-"+u]){const[T,x]=P[C+"-"+u];if(C+T-1===j&&u+x-1===K)return M[0]}return(M.length>1?"":M[0]).split(",").map(T=>{var x;return((x=r.interactions.find(X=>X.subKey===T))==null?void 0:x.key)||""})},o={"text-align":["textAlign","center"],"vertical-align":["verticalAlign","middle"],"align-items":["alignItems","center"],"justify-content":["justifyContent","center"],"font-size":["fontSize",14],color:["color","#101010"],"font-weight":["fontWeight","normal"],"font-style":["fontStyle","normal"],"text-decoration":["textDecoration","normal"],"line-height":["lineHeight","20px"],padding:["padding",4],"white-space":["whiteSpace","per-line"]},i={center:"center",left:"flex-start",right:"flex-end",justify:"space-between"},E=["default","noBorderInterlacing","hasBorderInterlacing","topBg","leftBg","topLeftBg"],n=r=>{const{tableConfig:{innerBorderV:c,innerBorderH:m,outerBorder:P}}=r;return{innerBorderV:(0,w.O_)(c),innerBorderH:(0,w.O_)(m),outerBorder:(0,w.O_)(P)}},a=r=>{const c=[];return Object.entries(r).forEach(m=>{let[P,M]=m;const[C,u]=M,[j,K]=P.split("-");for(let I=0;I<C;I++)for(let g=0;g<u;g++){const T=Number(j)+I+"-"+(Number(K)+g);T!==P&&c.push(T)}}),c},_=(r,c,m,P)=>{let M={selectArea:{width:0,height:0,top:-3e3,left:-3e3},copyArea:{width:0,height:0,top:-3e3,left:-3e3},firstCell:{width:0,height:0,background:"#fff"}};if(!r)return M;try{const{selectionLeftTopInfo:{x:C,y:u},selectionRightBottomInfo:{x:j,y:K}}=r,{top:I,left:g}=D.R.tableHandle.el.querySelector(".jexcel_content").getBoundingClientRect(),{top:T,left:x,height:X,width:se}=D.R.tableHandle.el.querySelector('[data-xy="'+C+"-"+u+'"]').getBoundingClientRect();let ne=1,ge=1;for(let Q=C;Q<=j;Q++)ne+=m[Q].width;for(let Q=u;Q<=K;Q++)ge+=c[Q].height;let Z=null;if(P){const{start:Q,end:ie,isV:le,isToTopOrLeft:_e}=P;let be=-2,Te=-2;const{x:Re,y:ue}=ie,{x:Oe,y:Be}=Q;for(let Ne=Oe;Ne<=Re;Ne++)be+=m[Ne].width;for(let Ne=Be;Ne<=ue;Ne++)Te+=c[Ne].height;let Ie,Ke;_e&&({top:Ie,left:Ke}=D.R.tableHandle.el.querySelector('[data-xy="'+Oe+"-"+Be+'"]').getBoundingClientRect()),Z={width:le?be+1:be+ne+1,height:le?Te+ge:Te,top:((_e&&le?Ie:T)-I+2)/D.R.externalFunc.getMbScale()*100,left:((_e&&!le?Ke:x)-g+2)/D.R.externalFunc.getMbScale()*100}}M={firstCell:{width:se/D.R.externalFunc.getMbScale()*100,height:X/D.R.externalFunc.getMbScale()*100},copyArea:Z,selectArea:{width:ne,height:ge,top:(T-I)/D.R.externalFunc.getMbScale()*100,left:(x-g)/D.R.externalFunc.getMbScale()*100}}}catch(C){console.error("gJSBS",C)}return M},h=r=>{const c={};return f(r).forEach((P,M)=>{const C=o[M]&&o[M][0]||M;if(C==="alignItems")c.justifyContent=P;else if(C==="justifyContent")c.alignItems=P;else if(C==="background"){const u=(0,v.Gd)(P);c[C]=u}else c[C]=P}),c.alignItems=c.textAlign?i[c.textAlign]:"flex-start",c},f=r=>{const c=new Map;return r&&r.split(";").filter(m=>m).forEach(m=>{const[P,M]=m.split(":");c.set(P.trim(),M.trim())}),c},A={ha:"left",va:"middle","font-size":14,color:"#101010",boldType:0,"font-style":"normal","text-decoration":"normal","line-height":20,padding:4,background:"#FFFFFF"},y={"flex-start":"top",center:"middle","flex-end":"bottom"},s=r=>{const c=(0,L.OI)(r);return(0,p.Qq)({isEnable:!0,color:(0,L.ls)(c)})},e=r=>{const c=f(r),m={...A};return c.forEach((P,M)=>{["font-size","line-height","padding"].includes(M)?m[M]=parseInt(P.replace("px","")):M==="font-weight"?m.boldType=+(P==="bold"):M==="text-align"?m.ha=P:M==="align-items"?m.va=y[P]:m[M]=P}),{appearance:{background:s(m.background)},text:{boldType:m.boldType,color:m.color,fontSize:m["font-size"],fontStyle:m["font-style"],lineHeight:m["line-height"],textDecoration:m["text-decoration"],ha:m.ha,va:m.va,padding:m.padding}}}},79486:(G,N,t)=>{"use strict";t.d(N,{Bs:()=>X,Q0:()=>P,hD:()=>ge,jr:()=>ne,om:()=>m,q8:()=>T,yS:()=>g});var v=t(87587),D=t(15670),w=t(21940),L=t(12155),p=t(38246),R=t(66421),o=t(51784),i=t(29815),E=t(71789),n=t(9756),a=t(53233),_=t(78467),h=t(27056),f=t(7221),A=t(38133),y=t(85689),s=t(79857),e=t(43980),r=t(45294);t.g.ENV&&t.g.ENV.IS_SKT_HTTP&&(0,w.WL)(!0),(0,s.T)(e.uT,e.n_);const c=async(Z,Q)=>{console.warn("[onTransferError]",Z,Q),Z==="Tot"||Z==="5XX"?MB.notice({text:I18N.Common.offline_alert,duration:5*1e3,showClose:!0,priority:1}):Z==="4XX"&&(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>MB.global.onBackButtonClick()))},m=async Z=>{let{cid:Q,project_meta_cid:ie,userId:le}=Z;return(0,w.od)({userId:le,projCid:Q,flpakKey:ie,isDummyCmt:!0,isAllowDat:!0,onTransferError:c})},P=async Z=>{const{sdkStore:Q}=await(0,w.Qb)({flpakKey:Z});return Q},M=Z=>{let{cssCur:Q,emitCur:ie}=Z,le={locKey:"",curX:NaN,curY:NaN};document.addEventListener("pointermove",(0,v.P2)(()=>{try{if(Q.getSocketStat().length<=1)return;const _e=(0,r.U)();if(!_e)return;const{current:{currentScreen:be},screencontainer:{cursorPos:Te}}=_e,Re=be&&(be.cid||be.key);if(!Re||!Te)return;const{x:ue,y:Oe}=Te;if(le.locKey===Re&&le.curX===ue&&le.curY===Oe)return;ie(Re,ue,Oe),le={locKey:Re,curX:ue,curY:Oe}}catch(_e){console.error("TODO: cssCur push error",_e)}},.05*1e3,!0),{passive:!0})},C=(0,v.P2)(()=>{var Z,Q;(Z=MB)==null||(Q=Z.__store__)==null||Q.dispatch({type:"entry:rebuild:screen-widget-tree"})},.5*1e3),u=(0,v.P2)(()=>{var Z,Q,ie,le,_e;!((Z=MB)==null||(Q=Z.__store__)==null)&&Q.dispatch&&MB.__store__.dispatch({type:"entry:comment:rebuild:commentList"}),!((ie=MB)==null||(le=ie.webpackInterface)==null||(_e=le.store)==null)&&_e.dispatch&&MB.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"})},.5*1e3),j={log:Z=>{let{type:Q,payload:ie}=Z},repaint:Z=>{let{type:Q,payload:ie}=Z;Q===p.K&&u()}},K={repaint:Z=>{let{type:Q,payload:ie}=Z;Q===L.K&&C()}},I=(Z,Q)=>{if(Z.getFlatTree().get("B@main").sub.length===0){const ie=(0,n.wc)([],Q);Z.applyDiff(ie),Z.resetUndo()}},g=async Z=>{let{projectBasicCid:Q}=Z;const{projectBasic:ie,projectMetaList:le}=await(0,a.zf)(Q),[_e]=le;{const{userId:be,flatKey:Te}=await(0,a.tr)({projectBasicCid:Q});console.log("[p2edit] uId="+be+" key="+Te+" pbCid="+Q);const Re=await(0,w.od)({userId:be,projCid:Q,flpakKey:Te,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,onTransferError:c});Re.roSdkStore=Re.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...Re,rootSdk:Re}),M(Re),sdkStore.subscribe(K.repaint),cmtStore.subscribe(j.repaint),I(flatStore,ie)}return{projectBasic:ie,projectMeta:_e}},T=async Z=>{let{projectBasicCid:Q,project_basic:ie,project_meta:le,accessToken:_e,password:be}=Z;const Te=ie,Re=le;{const{userId:ue,flatKey:Oe}=await(0,a.MT)({projectBasicCid:Q,accessToken:_e,password:be});console.log("[p2edit] uId="+ue+" key="+Oe+" pbCid="+Q);const Be=!!ue;try{const Ie=await(0,w.od)({userId:ue,projCid:Q,flpakKey:Oe,isAllowDat:Be,isAllowCmt:Be,isAllowCur:Be,token:_e,passwd:be});Ie.roSdkStore=Ie.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...Ie,rootSdk:Ie}),(0,A.s_)()||M(Ie),sdkStore.subscribe(K.repaint),cmtStore.subscribe(j.repaint),I(flatStore,Te)}catch(Ie){const Ke=Number(Ie.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,_.mB)({status:Ke})}}return{projectBasic:Te,projectMeta:Re}},x=async()=>{const Z=createFlatStore(createInitialFlatTree(),createClockStore({})),Q=createSdkStore(Z),ie=createShowMeTheTree(Z),le=createShowMeHotTree(Q);Object.assign(globalThis,{flatStore:Z,sdkStore:Q,showMeTheTree:ie,showMeHotTree:le});const _e=initMockBasicData(Q);if(Z.applyDiff(_e),DevUrlOptions.getIsPlayAxure())buildAxureData(Q);else{switch(DevUrlOptions.getTestData()){case"td1":testDataSet.buildTestData1(_e);break;case"td2":testDataSet.buildTestData2(_e);break;case"td3":testDataSet.buildTestData3(_e);break;default:testDataSet.buildTestData1(_e);break}Z.applyDiff(_e)}Z.resetUndo()},X=async Z=>{let{projectBasicCid:Q,project_basic:ie,project_meta:le,accessToken:_e,password:be,projectVersion:Te}=Z;const Re=ie,ue=le;{const{userId:Oe,flatKey:Be}=await(0,h.tr)({prj2VersionCid:Te,projectCid:Q});console.log("[p2edit] uId="+Oe+" key="+Be+" pbCid="+Q);try{const Ie=await(0,w.od)({userId:Oe,projCid:Q,flpakKey:Be,isAllowDat:!0,isAllowCmt:!1,isAllowCur:!1,token:_e,passwd:be});Ie.roSdkStore=Ie.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...Ie,rootSdk:Ie}),I(flatStore,Re)}catch(Ie){const Ke=Number(Ie.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,_.mB)({status:Ke})}}return{projectBasic:Re,projectMeta:ue}},se=async Z=>{let{project_meta:Q}=Z;const ie=Q;{const le=ie.cid;try{const _e=await setupSdk({userId:null,flpakKey:le,isDummyCmt:!0});_e.roSdkStore=_e.sdkStore.createRoSdkStore(),Object.assign(globalThis,{..._e,rootSdk:_e}),sdkStore.subscribe(K.repaint)}catch(_e){const be=Number(_e.toString().split("status")[1].split(":")[1].split(",")[0]);return crashedPageWithUser({status:be})}}return{projectMeta:ie}},ne=async Z=>{let{projectBasicCid:Q,project_basic:ie,project_meta:le}=Z;const _e=ie,be=le;{const Te="",Re=le.cid;try{const ue=await(0,w.od)({userId:Te,projCid:Q,flpakKey:Re,isDummyCmt:!0,__fetchFlpakAsync:E.Ev});ue.roSdkStore=ue.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...ue,rootSdk:ue}),M(ue),sdkStore.subscribe(K.repaint),cmtStore.subscribe(j.repaint),I(flatStore,_e)}catch(ue){const Oe=Number(ue.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,_.mB)({status:Oe})}}return{projectBasic:_e,projectMeta:be}},ge=async Z=>{let{projectBasicCid:Q}=Z;const{market_template:ie,project_metas:le}=await(0,f.Mv)(Q),_e=le[0],be=_e.cid;{const Te=await(0,w.od)({userId:null,projCid:Q,flpakKey:be,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,onTransferError:c});Te.roSdkStore=Te.sdkStore.createRoSdkStore(),Object.assign(globalThis,{...Te,rootSdk:Te}),M(Te),sdkStore.subscribe(K.repaint),cmtStore.subscribe(j.repaint),I(flatStore,ie)}return{projectBasic:ie,projectMeta:_e}}},66216:(G,N,t)=>{"use strict";t.d(N,{Sm:()=>v.Sm,WX:()=>v.WX,XC:()=>v.XC,e7:()=>v.e7});var v=t(95890),D=t(72969),w=t.n(D),L=t(96106)},74223:(G,N,t)=>{"use strict";t.d(N,{I2:()=>p,MI:()=>R,f1:()=>L});var v=t(1074),D=t.n(v),w=t(70423);const L=(o,i)=>{if(!(o!=null&&o.cid))return-1;let E=0,n="",a=o;for(;a&&!a.root_project&&(E=E+1,n=a.parent_cid,!!n);)a=i.get(n);return E};function p(o){return o&&Object.entries(o).reduce((i,E)=>{let[n,a]=E;return Object.assign(i,{[D()(n)]:a})},{})}const R=(o,i,E)=>{const n=(0,w.Rv)()?"_self":i;return window.open(o,n,E)}},56620:(G,N,t)=>{"use strict";t.d(N,{K4:()=>be,KG:()=>ie,P:()=>Z,Z1:()=>n,dm:()=>ne,eb:()=>_,gA:()=>x,gR:()=>r,gT:()=>h,iw:()=>Te,jk:()=>P,nG:()=>m,s9:()=>Re,wZ:()=>se,xM:()=>ge});var v=t(7108),D=t.n(v),w=t(98674),L=t(27783),p=t(8465),R=t(68557),o=t(11685),i=t(66180),E=t(65266);const n=(0,p.V)(()=>(0,w.ZO)(window.MBLocale,window.I18N)),a=(0,p.V)(()=>(0,w.sA)(window.MBLocale,window.I18N)),_=[o.l.WRichText,o.l.WRect,o.l.WOval,o.l.WPolygon,o.l.WStar,o.l.WVector,o.l.WTriangle],h=[o.l.WRichText,o.l.WRect,o.l.WOval,o.l.WLine,o.l.WImage,o.l.WLR],f=[o.l.WMTextInput,o.l.WMTextArea,o.l.WMSelect,o.l.WMFileInput,o.l.WSelectionControlRadio,o.l.WSelectionControlCheckbox,o.l.WAndroidSwitch,o.l.WIOSSwitch,o.l.WSlider,o.l.WDigitalStepper],A=[o.l.WDropMenu,o.l.WNavigationMenu,o.l.WNavigationMenuV,o.l.WNavigationMenuH,o.l.WMobileTabBars,o.l.WSegmentedControl,o.l.WCollapse,o.l.WTabs,o.l.WPaginationMobile,o.l.WPaginationWeb],y=[o.l.WBarChart,o.l.WHorizontalBarChart,o.l.WLineChart,o.l.WLineAreaChart,o.l.WMixedBarLineChart,o.l.WPieChart,o.l.WRingChart,o.l.WProgressChart,o.l.WRadarChart],s=[o.l.WImage,o.l.WCarousel,o.l.WWebpage,o.l.WVideo,o.l.WAudio,o.l.WQRCode,o.l.WMapView,o.l.WMTooltip],e=[o.l.WRichText,o.l.WRect,o.l.WOval,o.l.WLine,o.l.WImage,o.l.WLR,o.l.WButton,o.l.WButtonSolid,o.l.WPlaceholder,o.l.WTable,o.l.WSticky,o.l.WTear,o.l.WArrow,o.l.WIphoneXSB,o.l.WMTextInput,o.l.WMTextArea,o.l.WMSelect,o.l.WDropMenu,o.l.WPolygon,o.l.WStar,o.l.WTriangle],r=[o.l.WButton,o.l.WButtonSolid,o.l.WPlaceholder,o.l.WTable,o.l.WSticky,o.l.WArrow,o.l.WMTextInput,o.l.WMTextArea,o.l.WMSelect,o.l.WPolygon,o.l.WStar,o.l.WTriangle,o.l.WCarousel,o.l.WWebpage,o.l.WVideo,o.l.WAudio,o.l.WQRCode,o.l.WMFileInput,o.l.WMTooltip,o.l.WMapView,o.l.WTear,o.l.WIphoneXSB],c=[o.l.BarChart,o.l.HorizontalBarChart,o.l.LineChart,o.l.LineAreaChart,o.l.PieChart,o.l.RingChart,o.l.ProgressChart,o.l.RadarChart],m=[o.l.WDropMenu,o.l.WNavigationMenu,o.l.WNavigationMenuV,o.l.WNavigationMenuH,o.l.WCollapse,o.l.WSegmentedControl,o.l.WTabs,o.l.WPaginationMobile,o.l.WPaginationWeb,o.l.WSlider,o.l.WDigitalStepper,o.l.WIOSSwitch,o.l.WAndroidSwitch,o.l.WMobileTabBars,o.l.WSelectionControlRadio,o.l.WSelectionControlCheckbox],P=[o.l.WRect,o.l.WOval,o.l.WPolygon,o.l.WStar,o.l.WVector,o.l.WLine,o.l.WTriangle],M=e.map(ue=>L.qw[ue]),C=f.map(ue=>L.qw[ue]),u=A.map(ue=>L.qw[ue]),j=()=>y.map(ue=>L.qw[ue]),K=s.map(ue=>L.qw[ue]),I=[...m].map(ue=>L.qw[ue]),g=[...h,...r].map(ue=>L.qw[ue]),T=[...h,...r].filter(ue=>![o.l.PG,o.l.Annotate].includes(ue)).map(ue=>L.qw[ue]),x=ue=>{let{mode:Oe="",withDynamicWidget:Be,marketTemplateList:Ie,builtinListInvisibleSet:Ke=new Set}=ue;if(Oe==="library"){if(!Be)return{comboGroupList:[],screenList:[]};const Ne=[],Ge=[];for(const Ve of Ie)Ve.category==="combo_group"?Ne.push(Ve):Ve.category==="screen_list"&&Ge.push(Ve);return{comboGroupList:Ne,screenList:Ge}}else{if(!Be)return{comboGroupList:[],screenList:[]};const Ne=[],Ge=[];for(const Ve of Ie){const{cid:ft}=Ve;Ke.has(ft)||(Ve.category==="combo_group"?Ne.push(Ve):Ve.category==="screen_list"&&Ge.push(Ve))}return{comboGroupList:Ne,screenList:Ge}}},X=ue=>{const[Oe,Be,Ie,Ke,Ne,Ge,Ve,ft]=ue;return{groupCid:Oe,title:Be,id:Ie,cat:Ke,view_box:Ne,path:Ge,keywords:Ve,lib:ft}},se=ue=>{const Oe=[];for(const Be of ue){if(!Be)continue;const Ie=X(Be);Ie.type=R.em[Ie.title]||"svg",Oe.push(Ie)}return Oe},ne=ue=>{const Be=(Ne=>{let Ge=M;if(Ne){const Ve=M.map(dt=>dt),ft=n();Ge=Ve.concat(ft)}return{cid:i.$V,groupName:I18N.dConst.library.highCommon,items:Ge}})(ue);let Ie=u;if(ue){const Ne=u.map(Ge=>Ge);Ne.splice(1,0,a()),Ie=Ne}return[{...Be},{cid:i.Ag,groupName:I18N.Resources.form_widget,items:C},{cid:i.rC,groupName:I18N.Resources.nav_widget,items:Ie},{cid:i.Pz,groupName:I18N.Resources.chart_widget,items:j()},{cid:i.q8,groupName:I18N.Resources.multimedia_widget,items:K}]},ge=()=>ne(!1).map(ue=>{let{cid:Oe,groupName:Be}=ue;return{cid:Oe,groupName:Be}}),Z=(ue,Oe)=>{const Ke=(ue?g.concat(n()).concat(a()):T).concat(I).concat(j()).filter(Ne=>{let{name:Ge}=Ne;return I18N.w[Ge]?I18N.w[Ge].includes(Oe):Ge.includes(Oe)});return Ke.length>0?{cid:i.gb,groupName:I18N.LeftSidePanel.builtin,type:E.B.Widget,items:Ke}:null},Q="2022-04-13 00:00:00",ie=ue=>ue?D()(ue).isBefore(Q)?!0:D()().isAfter(D()(ue).add(1,"days")):!1,le={Draft:1,RichDraft:2,Text:3},_e=ue=>ue===o.l.WSticky||ue===o.l.WTear?le.Draft:_.includes(ue)?le.RichDraft:le.Text,be=ue=>_e(ue)===le.Draft,Te=ue=>_e(ue)===le.RichDraft,Re=ue=>_e(ue)===le.Text},41768:(G,N,t)=>{"use strict";t.d(N,{$$:()=>u,AX:()=>C,D6:()=>s,ER:()=>M,Eb:()=>_,Fv:()=>P,GX:()=>x,I:()=>I,I3:()=>e,Lc:()=>ge,Oc:()=>i,Py:()=>n,Q2:()=>E,RT:()=>w,Sf:()=>ne,YE:()=>L,_:()=>f,_D:()=>p,ad:()=>r,an:()=>g,d$:()=>A,eF:()=>h,h8:()=>se,hA:()=>T,jr:()=>y,kj:()=>a,p4:()=>X,vL:()=>m,yM:()=>K,zt:()=>c});var v=t(67894);const D={iphone:0,android:1,ipad:2,web:3,apple_watch:4,smart_car:5,customize:6},w=Object.entries(v).map(Z=>{let[Q,ie]=Z;return{device:Q,modalList:Object.entries(ie).map(le=>{let[_e,{name:be,width:Te,height:Re,hide:ue}]=le;return{name:be,width:Te,height:Re,hide:ue,key:_e}})}}).sort((Z,Q)=>D[Z.device]-D[Q.device]),L=Object.entries(v).reduce((Z,Q)=>{let[ie,le]=Q;return Object.assign(Z,Object.entries(le).reduce((_e,be)=>{let[Te,{name:Re,width:ue,height:Oe,hide:Be}]=be;return Object.assign(_e,{[Te]:{name:Re,width:ue,height:Oe,device:ie,hide:Be}})},{Android:{name:"Android",width:360,height:640,device:"android"}}))},{}),p=["iphone_12_pro_max","iphone_12_pro","iphone_se"],o=Object.entries(v).map(Z=>{let[Q,ie]=Z;return{device:Q,modelList:Object.entries(ie).map(le=>{let[_e,{name:be}]=le;return{name:be,key:_e}})}}).filter(Z=>["iphone","android"].includes(Z.device)).reduce((Z,Q)=>[...Z,...Q.modelList],[]).map(Z=>Z.key),i=Z=>o.includes(Z);let E=function(Z){return Z.LIGHT="light",Z.DARK="dark",Z}({});const n="dark",a={grid_size:10,theme:E.LIGHT},_="#ffffff",h={h:20,v:10},f={row:{count:0,gutter:20,size:144},col:{count:4,gutter:20,size:0}},A="rgba(41, 141, 248, 0.24)",y="screen-history-onLeave-project",s=!!Number(sessionStorage.getItem("inClowdz")),e={light:"rgba(245, 245, 245, 1)",dark:"rgba(21, 21, 21, 1)"},r={[E.LIGHT]:4126537215,[E.DARK]:353703423},c=[4,8,16,32,64,100,120,150,200,300,400,500,600,800,1e3,1600,3200,4e3],m=c[0],P=c[c.length-1],M=18,C=144,u=98,j=380,K=36,I=250,g=240,T=42,x=250,X=240,se=184,ne=48,ge=(Z,Q)=>{const ie=Q==null?void 0:Q.fill;return!ie||!(ie!=null&&ie.fillIsVisible)?r[Z||E.LIGHT]:ie.solidColor}},68951:(G,N,t)=>{"use strict";t.d(N,{O:()=>D});var v=t(26844);let D=function(w){return w[w.USER_COMBO=v._H.USER_COMBO]="USER_COMBO",w[w.ORG_COMBO=v._H.ORG_COMBO]="ORG_COMBO",w[w.PROJECT_MAIN=v._H.PROJECT_MAIN]="PROJECT_MAIN",w[w.PROJECT_TRASHCAN=v._H.PROJECT_TRASHCAN]="PROJECT_TRASHCAN",w[w.PROJECT_TEMPLATE=v._H.PROJECT_TEMPLATE]="PROJECT_TEMPLATE",w[w.PANEL_TEMPLATE=v._H.PANEL_TEMPLATE]="PANEL_TEMPLATE",w}({})},4091:(G,N,t)=>{"use strict";t.d(N,{S3:()=>D,kC:()=>p,ky:()=>L,mp:()=>R,pX:()=>v});const v="/proto",D=i=>v+"/"+i,w=i=>{const E=/^\/proto\/design\/(?:([^/]+?))$/i.exec(i);return E?E[1]:new Error("project cid error")},L=i=>{let{search:E,pathname:n}=i;return n.includes("/sharing")?n.includes("dashboard")||n.includes("htmlzip")?n.split("/").at(-3):n.includes("embed/v2")?location.pathname.split("/").at(-4):n.split("/").at(-2):new URLSearchParams(E).get("token")||/^\/proto\/([^/]+?)(?:\/forum|\/uichina|\/embed|\/embed\/v2|\/htmlzip|\/sharing|\/ro)?\/?$/i.exec(n)[1]},p="/p2mkt_view",R=i=>p+"/"+i,o=i=>/^\/p2mkt_view\/(?:([^/]+?))$/i.exec(i)[1]},62609:(G,N,t)=>{"use strict";t.d(N,{K:()=>D,N:()=>w});var v=t(25926);const D=function(L,p,R){const o=p.getGuidesData()||"[]",i=new Set(JSON.parse(o)),E=new Set;return{checkGuideHasShown:n=>i.has(n),checkGuideToBeShown:n=>E.has(n),getState:()=>({commonGuidesHasShown:Array.from(i),commonGuidesToBeShown:Array.from(E)}),tryToShowGuide:n=>{var a,_;if(i.has(n)||!((a=MB)!=null&&(_=a.user)!=null&&_.id))return;const h=document.getElementById("MD_"+n);if(h){h.style.display="block";return}E.add(n),(0,v.k)(n,L,R)},markGuideAsRead:n=>{i.add(n),p.setGuidesData(JSON.stringify(Array.from(i)))},batchMarkGuideAsRead:n=>{n.forEach(a=>i.add(a)),p.setGuidesData(JSON.stringify(Array.from(i)))},closeGuide:n=>{const a=document.getElementById("MD_"+n);a&&a.parentNode&&a.parentNode.removeChild(a)},closeAllGuide:()=>{const n=document.getElementById("GUIDES");n&&n.parentNode&&n.parentNode.removeChild(n)},removeGuide:n=>{i.delete(n),p.setGuidesData(JSON.stringify(Array.from(i)))}}},w=L=>{let{store:p,api:R,commonGuidesData:o,isDesign:i,isPreview:E}=L;MB.commonGuideHelper=D(p,{getGuidesData:()=>o,setGuidesData:R.updateUserCommonGuidesData},{isDesign:i,isPreview:E})}},65266:(G,N,t)=>{"use strict";t.d(N,{B:()=>v});let v=function(D){return D.Widget="search_widget",D.MarketTemplate="search_template",D.Group="search_group",D.SelfMakeCombo="search_make_combo",D.Resources="search_resources",D.IconList="search_icon_list",D.Icon="search_icon",D.Asset="search_asset",D.FindPicture="search_find_picture",D}({})},76637:(G,N,t)=>{"use strict";t.d(N,{NM:()=>R,PV:()=>o});var v=t(7485),D=t(66216),w=t(89870);let L;(function(i){function E(a,_){const h={..._};for(const[f,A]of Object.entries(a))h[f]===void 0&&(h[f]=A);return h}i.merge=E;function n(a,_){const h={};for(const[f,A]of Object.entries(a))h[f]=_(A);return h}i.mapValues=n})(L||(L={}));let p;(function(i){function E(n){const a={};for(const[_,h]of Object.entries(n))h.shortcut!==void 0&&h.action!==void 0&&h.system!==!0&&(a[h.shortcut]=h.action);return a}i.toKeys=E})(p||(p={}));const R=(0,v.memo)(i=>{const E=(0,v.useContext)(D.XC),n=(0,w.I0)();return(0,v.useEffect)(()=>{const a=L.mapValues(i.sheet.keys,h=>()=>Array.isArray(h)?h.map(f=>n(f)):n(h)),_={...i.sheet,keys:a};return E.bind(_),()=>{E.unbind(_)}}),null}),o=(0,v.memo)(i=>{const E=(0,v.useContext)(D.XC),n=(0,w.I0)();return(0,v.useEffect)(()=>{const a=L.mapValues(i.sheet.keys,f=>()=>Array.isArray(f)?f.map(A=>n(A)):n(f)),_={...i.sheet,keys:a},h=[...E.sheetsBound];return h.forEach(f=>E.unbind(f)),E.bind(_),()=>{E.unbind(_),h.forEach(f=>E.bind(f))}}),null})},14049:(G,N,t)=>{"use strict";t.d(N,{Z:()=>R});var v=t(89870),D=t(77646),w=t(77200),L=t(40251);const p=(0,D.P1)([w.XL,w.jQ,w.GP,w.yT,w.M0],(o,i,E,n,a)=>{const{isEmbedV2:_,isSquare:h}=E;return{isPanelPreviewMode:n,isFullScreenMode:o,isMinimized:i,isEmbedV2:_,isSquare:h,leftPaneWidth:a}}),R=(0,v.$j)(o=>p(o))(L.Z)},59780:(G,N,t)=>{"use strict";t.d(N,{Z:()=>R});var v=t(89870),D=t(77646),w=t(77200),L=t(56960);const p=(0,D.P1)([w.Ds,w.os,w.v8,w.H9,w.ts,w.kc],(o,i,E,n,a,_)=>{let{isFullScreenMode:h}=_;const f=!(i.x===n.x&&i.y===n.y);return{mode:o,isDisplaced:f,isProjectMain:E,topBtnRight:h?100:0,zoomOptionBarRight:16,currentUser:a,isFullScreenMode:h}}),R=(0,v.$j)(o=>p(o))(L.Z)},16335:(G,N,t)=>{"use strict";t.d(N,{Z:()=>E});var v=t(89870),D=t(77646),w=t(77200),L=t(31033),p=t(4218),R=t(5259),o=t(19029);const i=(0,D.P1)([R.dq,w.Ds,w.v8,w.XL,w.jQ,o.Yb],(n,a,_,h,f,A)=>{const y=a===L.nh,s=n&&MB.user.id;return{commentMode:n,isLayerPanelShow:y,isCommentPanelShow:s,isFullScreenMode:h,isMinimized:f,isStickyTearpanelShow:A}}),E=(0,v.$j)(n=>i(n))(p.Z)},10737:(G,N,t)=>{"use strict";t.d(N,{Z:()=>o});var v=t(89870),D=t(77646),w=t(77200),L=t(86800);const p=i=>i.container.artboards.isShowSplash,R=(0,D.P1)([w.CL,w.vo,w.gz,p,w.GP,w.yT,w.Uq],(i,E,n,a,_,h,f)=>{let{activePageKey:A,activeCanvasKey:y}=f;return{screen:i,project:E,isImmersive:n,isShowSplash:a,previewOptions:_,isPanelPreviewMode:h,activePageKey:A,activeCanvasKey:y}}),o=(0,v.$j)(i=>R(i))(L.Z)},8274:(G,N,t)=>{"use strict";t.d(N,{R:()=>v});const v={keys:{"ctrl+enter":{type:"entry:enter:full-screen-mode"},"command+enter":{type:"entry:enter:full-screen-mode"},esc:{type:"entry:preview:escape:key"},"ctrl+numpad_add":{type:"entry:preview:zoom-in"},"command+numpad_add":{type:"entry:preview:zoom-in"},"ctrl+=":{type:"entry:preview:zoom-in"},"command+=":{type:"entry:preview:zoom-in"},"ctrl+numpad_subtract":{type:"entry:preview:zoom-out"},"command+numpad_subtract":{type:"entry:preview:zoom-out"},"ctrl+-":{type:"entry:preview:zoom-out"},"command+-":{type:"entry:preview:zoom-out"},"ctrl+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}]}}},68517:(G,N,t)=>{"use strict";t.d(N,{An:()=>m,Bh:()=>P,Cp:()=>e,E9:()=>r,PG:()=>M,iF:()=>y,iy:()=>f,mF:()=>a,oS:()=>c,qb:()=>A,sx:()=>s,w:()=>h});var v=t(34605),D=t(57427),w=t(56741),L=t(50072),p=t(16822),R=t(67173),o=t(94189),i=t(95100),E=t(55827);const n=(C,u,j)=>{const{x:K,y:I}=C,{x:g,y:T}=u,x=Math.sqrt((K-g)*(K-g)+(I-T)*(I-T)),X=Math.atan2(T-I,g-K),se=Math.cos(X),ne=Math.sin(X);return{x:C.x,y:C.y,complex:{a:se*x,b:ne*x,c:-ne*x*(j||1),d:se*x*(j||1)}}},a=C=>{if(C.type===L.Y_.LinearGradient){const{v:u,x:j,y:K,complex:I,colors:g,stops:T}=C,x=w.wx.parse({x:j,y:K,complex:I}),X=D.S.xy(j,K),se={u:X.x,v:X.y},ne=D.S.add(x.applyWithoutXY(D.S.xy(1,0)),X),ge={u:ne.x,v:ne.y};return{fillIsVisible:u,fill:"linearGradient",pointFrom:se,pointTo:ge,widthEllipse:0,knobList:T.map((Z,Q)=>({rate:Z,color:(0,v.q)({R:g[Q][0]*255,G:g[Q][1]*255,B:g[Q][2]*255,A:g[Q][3]*100})}))}}else if(C.type===L.Y_.RadialGradient){const{v:u,x:j,y:K,complex:I,colors:g,stops:T}=C,x=w.wx.parse({x:j,y:K,complex:I}),X=D.S.xy(j,K),se={u:X.x,v:X.y},ne=D.S.add(x.applyWithoutXY(D.S.xy(1,0)),X),ge={u:ne.x,v:ne.y},Z=I.d/I.a||-I.c/I.b;return{fillIsVisible:u,fill:"radialGradient",pointFrom:se,pointTo:ge,widthEllipse:Z,knobList:T.map((Q,ie)=>({rate:Q,color:(0,v.q)({R:g[ie][0]*255,G:g[ie][1]*255,B:g[ie][2]*255,A:g[ie][3]*100})}))}}else if(C.type===L.Y_.Solid){const{v:u,color:j}=C;return{fillIsVisible:u,fill:"solid",solidColor:(0,v.q)({R:j[0]*255,G:j[1]*255,B:j[2]*255,A:j[3]*100})}}else throw new Error("not compatiable")},_=C=>{const{R:u,G:j,B:K,A:I}=(0,v.is)(C);return[u/255,j/255,K/255,I/100]},h=(C,u)=>{let{w:j,h:K}=u;if(C.fill==="linearGradient"){const{fillIsVisible:I,pointFrom:g,pointTo:T,knobList:x}=C,X={x:g.u,y:g.v},se={x:T.u,y:T.v},{x:ne,y:ge,complex:Z}=n(X,se);return{v:I,blend:0,type:1,o:1,x:ne,y:ge,complex:{a:Z.a,b:Z.b,c:Z.c*Math.pow(K/j,2),d:Z.d},stops:x.map(Q=>Q.rate),colors:x.map(Q=>_(Q.color))}}else if(C.fill==="radialGradient"){const{fillIsVisible:I,pointFrom:g,pointTo:T,widthEllipse:x,knobList:X}=C,se={x:g.u,y:g.v},ne={x:T.u,y:T.v},{x:ge,y:Z,complex:Q}=n(se,ne,x);let ie=Q;return w.wx.parse({complex:Q,x:ge,y:Z}).decompose().ro/Math.PI*180%90!==0&&(ie={a:Q.a,b:Q.b,c:Q.c*Math.pow(K/j,2),d:Q.d}),{v:I,blend:0,type:2,o:1,x:ge,y:Z,complex:ie,stops:X.map(le=>le.rate),colors:X.map(le=>_(le.color))}}else if(C.fill==="solid"){const{fillIsVisible:I,solidColor:g}=C;return{v:I,blend:0,type:0,color:_(g)}}else throw new Error("not compatiable: "+C)},f=C=>{if(C.type===L.Y_.LinearGradient){const{v:u,o:j,x:K,y:I,type:g,blend:T,complex:x,colors:X,stops:se}=C,ne=w.wx.parse({x:K,y:I,complex:x}),ge=D.S.xy(K,I),Z=D.S.add(ne.applyWithoutXY(D.S.xy(1,0)),ge);return[Number(u),T,(0,i.x_)(j),g,(0,E.Lm)(ge),(0,E.Lm)(Z),(0,i.iA)(0),se.map((Q,ie)=>""+(0,i.x_)(Q)+(0,E.LU)({r:X[ie][0],g:X[ie][1],b:X[ie][2],a:X[ie][3]}))].join(",")}else if(C.type===L.Y_.RadialGradient){const{v:u,o:j,x:K,y:I,type:g,blend:T,complex:x,colors:X,stops:se}=C,ne=w.wx.parse({x:K,y:I,complex:x}),ge=D.S.xy(K,I),Z=D.S.add(ne.applyWithoutXY(D.S.xy(1,0)),ge),Q=x.d/x.a||-x.c/x.b;return[Number(u),T,(0,i.x_)(j),g,(0,E.Lm)(ge),(0,E.Lm)(Z),(0,i.iA)(Q),se.map((ie,le)=>""+(0,i.x_)(ie)+(0,E.LU)({r:X[le][0],g:X[le][1],b:X[le][2],a:X[le][3]}))].join(",")}else if(C.type===L.Y_.Solid){const{v:u,type:j,blend:K,color:I}=C;return[Number(u),K,(0,i.x_)(0),j,(0,E.LU)({r:I[0],g:I[1],b:I[2],a:I[3]})].join(",")}else throw new Error("not compatiable")},A=(C,u)=>{const j=C.split(","),{w:K,h:I}=u;if(Number(j[3])===L.Y_.LinearGradient){const[g,T,x,X,se,ne,ge,...Z]=j,{x:Q,y:ie,complex:le}=n((0,E.s$)(se),(0,E.s$)(ne));return{v:g!=="0",blend:Number(T),type:Number(X),o:(0,i.Ul)(x),x:Q,y:ie,complex:{a:le.a,b:le.b,c:le.c*Math.pow(I/K,2),d:le.d},stops:Z.map(_e=>(0,i.Ul)(_e.slice(0,2))),colors:Z.map(_e=>Object.values((0,E.A$)(_e.slice(2))))}}else if(Number(j[3])===L.Y_.RadialGradient){const[g,T,x,X,se,ne,ge,...Z]=j,{x:Q,y:ie,complex:le}=n((0,E.s$)(se),(0,E.s$)(ne),(0,i.mq)(ge));let _e=le;return w.wx.parse({complex:le,x:Q,y:ie}).decompose().ro/Math.PI*180%90!==0&&(_e={a:le.a,b:le.b,c:le.c*Math.pow(I/K,2),d:le.d}),{v:g!=="0",blend:Number(T),type:Number(X),o:(0,i.Ul)(x),x:Q,y:ie,complex:_e,stops:Z.map(be=>(0,i.Ul)(be.slice(0,2))),colors:Z.map(be=>Object.values((0,E.A$)(be.slice(2))))}}else if(Number(j[3])===L.Y_.Solid){const[g,T,x,X,se]=j;return{v:g!=="0",blend:Number(T),type:Number(X),color:Object.values((0,E.A$)(se))}}else throw new Error("not compatiable: "+C)},y=C=>{const u=h(C.fill,{w:C.width,h:C.height});return u.v?u.type===L.Y_.LinearGradient?"url('data:image/svg+xml;charset=utf8,"+encodeURIComponent((0,R.pO)(u))+"')":u.type===L.Y_.RadialGradient?"url('data:image/svg+xml;charset=utf8,"+encodeURIComponent((0,R.fg)(u))+"')":u.type===L.Y_.Solid?p.I.toRGBAStr(u.color):"":"transparent"},s=function(C,u){if(u===void 0&&(u=!0),typeof C=="number"){const j=(0,o.ls)(C),K=p.I.rgba(j.R/255,j.G/255,j.B/255,j.A/100);return[u?1:0,1,"zz",L.Y_.Solid,(0,E.LU)({r:K[0],g:K[1],b:K[2],a:K[3]})].join(",")}else if(typeof C=="object"){const j=p.I.rgba(C.r/255,C.g/255,C.b/255,C.a/100);return[u?1:0,1,"zz",L.Y_.Solid,(0,E.LU)({r:j[0],g:j[1],b:j[2],a:j[3]})].join(",")}else if(C.startsWith("#")){let j=C;j.length<7&&(j="#"+C[1]+C[1]+C[2]+C[2]+C[3]+C[3]);const K=p.I.hex(j);return[u?1:0,1,"zz",L.Y_.Solid,(0,E.LU)({r:K[0],g:K[1],b:K[2],a:K[3]})].join(",")}else{const j=p.I.getRGBAColor(C);return[u?1:0,1,"zz",L.Y_.Solid,(0,E.LU)({r:j[0],g:j[1],b:j[2],a:j[3]})].join(",")}},e=C=>{if(typeof C=="number")return{fillIsVisible:!0,fill:"solid",solidColor:C};if(typeof C=="object")return{fillIsVisible:!0,fill:"solid",solidColor:{R:C.R,G:C.G,B:C.B,A:C.A}};if(C.startsWith("#")){let u=C;u.length<7&&(u="#"+C[1]+C[1]+C[2]+C[2]+C[3]+C[3]);const j=p.I.hex(u);return{fillIsVisible:!0,fill:"solid",solidColor:(0,v.q)({R:j[0]*255,G:j[1]*255,B:j[2]*255,A:j[3]*100})}}else{const u=p.I.getRGBAColor(C);return{fillIsVisible:!0,fill:"solid",solidColor:(0,v.q)({R:u[0]*255,G:u[1]*255,B:u[2]*255,A:u[3]*100})}}},r=C=>{let u=C;u.length<7&&(u="#"+C[1]+C[1]+C[2]+C[2]+C[3]+C[3]);const j=p.I.hex(u);return(0,v.q)({R:j[0]*255,G:j[1]*255,B:j[2]*255,A:j[3]*100})},c=C=>{const u=C.split(","),j=(0,E.A$)(u[4]);return(0,o.SF)({R:Math.round(j.r*255),G:Math.round(j.g*255),B:Math.round(j.b*255),A:Math.round(j.a*100)})},m=C=>{const u=C.split(","),j=(0,E.A$)(u[4]);return"rgba("+Math.round(j.r*255)+","+Math.round(j.g*255)+","+Math.round(j.b*255)+","+j.a+")"},P=(C,u)=>{const j=C.split(",");if(Number(j[3])===L.Y_.Solid){const{r:K,g:I,b:g,a:T}=(0,E.A$)(j[4]);return p.I.rgb2hex({r:Math.round(K*255),g:Math.round(I*255),b:Math.round(g*255)})+"&"+T}else return A(C,u)},M=C=>{if(typeof C=="string"){const[u,j]=C.split("&"),{r:K,g:I,b:g}=p.I.hex2rgb(u);return[1,0,(0,i.x_)(1),0,(0,E.LU)({r:K/255,g:I/255,b:g/255,a:j})].join(",")}else return f(C)}},60747:(G,N,t)=>{"use strict";t.d(N,{Zl:()=>a,sD:()=>n,uL:()=>i});var v=t(94462),D=t(67894),w=t(2909),L=t(98385),p=t(41768);const R=Object.fromEntries(Object.entries(p.YE).filter(A=>{let[y]=A;return!["Android",...p._D].includes(y)})),o=A=>!!v[A.model],i=A=>o(A)?"device":"none",E=(A,y,s)=>{const e=a(A,y),r=s==="landscape";let c,m;return y==="device"&&e.bg?[c,m]=r?[e.height,e.width]:[e.width,e.height]:[c,m]=r?[A.height,A.width]:[A.width,A.height],{width:c,height:m}},n=(A,y,s,e)=>{const r=a(A,y),[c,m]=s?[r.height,r.width]:[r.width,r.height],P=e&&A.platform!=="web"?60:0;return{width:c,height:m+P}},a=(A,y)=>_(A,y)||h(A,y),_=(A,y)=>{let{model:s}=A;return y!=="device"?null:v[s]?{...v[s]}:null},h=(A,y)=>{const s=y==="none"?0:12,e=A.width+s*2,r=A.height+s*2,[c,m]=(0,w.CB)(A)?[Math.min(e,r),Math.max(e,r)]:[e,r];return{device:"default",top:s,left:s,width:c,height:m}},f=(A,y,s,e,r)=>{var c;const m=r===Orientation.landscape;let P=SHELL[y],M=(c=DEVICE_MODEL[A])==null?void 0:c[y];if(!M||M&&(m?e:s)!==M.width){const C=Object.keys(R).filter(u=>!HIDE_MODAL.includes(u)).find(u=>R[u].width===(m?e:s));if(!C)return null;M=R[C],P=SHELL[C]}return!P||!M?null:m?{...P,bg:P.bg+"_land",screenWidth:M.height,screenHeight:M.width,width:P.height,height:P.width,top:P.left,left:P.top}:{...P,screenWidth:M.width,screenHeight:M.height}}},59729:(G,N,t)=>{"use strict";t.d(N,{gn:()=>o,ll:()=>R});var v=t(74223);const D="jsid",w=()=>{try{const E=new URLSearchParams(location.search).get(D);E?window.localStorage.setItem(D,E):window.localStorage.removeItem(D)}catch(i){window.localStorage.removeItem(D)}},L=function(i){i===void 0&&(i=!1);try{if(ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return"";const E=window.localStorage.getItem(D);return E?i?"&jsid="+E:"?jsid="+E:""}catch(E){return""}};function p(i){const E=/^[^?#]+\?([^#]+)/.test(i),n=L(E),a=n&&(i==null?void 0:i.includes(n==null?void 0:n.slice(1)));return""+i+(a?"":n)}const R=i=>{const E=p(i);location.href=E},o=(i,E,n)=>{const a=p(i);(0,v.MI)(a,E,n)}},14730:(G,N,t)=>{"use strict";t.d(N,{QT:()=>s,T_:()=>E,Tj:()=>_,ce:()=>A,qH:()=>a,tX:()=>n,vb:()=>f});var v=t(18582),D=t(20209),w=t(13228),L=t(59234),p=t(11685),R=t(52048);const o=Object.fromEntries(v.map(e=>[e.family,e.typeList.map(r=>(0,D.a7)(r,0))])),i=Object.fromEntries(v.map(e=>[e.family,["normal",...e.typeList.find(r=>r.toLowerCase().includes("italic"))?["italic"]:[]]])),E=()=>{const e=(0,w.e)(),r=$(e).find(".ah");let c=12;for(let m=12;m>=1;m--)r.css("font-size",m+"px"),r.css("line-height","100%"),r.text("a").height()===m&&(c=m);return c},n=e=>e.type===p.l.WRichText?{width:(0,L.bZ)(e),height:(0,L.xz)(e)}:{width:e.width,height:e.height},a=e=>e.type===p.l.WRichText?h(e):e.height,_=e=>e.type===p.l.WRichText?A(e):e.height,h=e=>{if(e.type!==p.l.WRichText)return null;const c=(0,w.e)().getElementsByClassName("auto-width")[0];c.classList.add(e.richTextV1.fontDirection),c.style.height=e.height+"px",c.innerHTML=(0,R.gh)(e);const m=c.getBoundingClientRect();return c.classList.remove(e.richTextV1.fontDirection),Math.ceil(m.width)},f=e=>{if(e.type!==p.l.WRichText)return null;const c=(0,w.e)().getElementsByClassName("auto-height")[0];c.classList.add(e.richTextV1.fontDirection),c.style.width=e.width+"px",c.innerHTML=(0,R.gh)(e);const m=c.getBoundingClientRect();return c.classList.remove(e.richTextV1.fontDirection),Math.ceil(m.height)},A=e=>{if(e.type!==p.l.WRichText)return null;const r=MB.__store__.getState().common.scale,c=document.getElementById("test-design-dom"+e.cid),m=(0,R.y1)(e.cid);let P;return c?P=c.getBoundingClientRect().height:P=m.getBoundingClientRect().height,Math.ceil(P/(r/100))},y=(e,r)=>{const c={...e[0],children:void 0},m={...e[0].children[0],text:void 0};return r.map(P=>({...c,children:[{...m,text:P}]}))},s=e=>{const r=new Set;return e.text.forEach(c=>{c.children.forEach(m=>{var P,M;let C=(0,D.a7)(m.fontWeight,m.boldType);C=(P=o[m.fontFamily])!=null&&P.includes(C)?C:400;const u=(M=i[m.fontFamily])!=null&&M.includes(m.fontStyle)?m.fontStyle:"normal",j=m.fontFamily+"|"+u+"|"+C;r.add(j)})}),r}},38625:(G,N,t)=>{"use strict";t.d(N,{CQ:()=>p,Gn:()=>L,iw:()=>E,ne:()=>i});var v=t(42966),D=t(52454),w=t(54635);const L=n=>{var a,_,h,f,A;const y=(a=MB)==null||(_=a.user)==null?void 0:_.id,s=y?(h=MB)!=null&&(f=h.currentProject)!=null&&(A=f.accesses)!=null&&A[y]?"\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u975E\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55"},p=n=>{},R=n=>{var a,_;const h=(a=MB)!=null&&(_=a.currentProject)!=null&&_.is_org_project?"\u4F01\u4E1A\u9879\u76EE":"\u4E2A\u4EBA\u9879\u76EE"},o=(n,a,_,h)=>{const A=isSketchLayer(a.id)?a.type:i18nWidgetName(a.name)||""},i=n=>{const a=(0,w.Q7)()},E=(n,a,_)=>{}},49345:(G,N,t)=>{"use strict";t.d(N,{G1:()=>L,Sr:()=>D,ms:()=>p});var v=t(25797);const D=R=>(0,v.Gf)("/api/payment/v4/coupon/workspace_guide_2203_coupon",{space_type:R}),w=()=>fetchGetJSON("/api/web/v3/initial"),L=R=>(0,v.Gf)("/api/web/v3/account/workspace_guide_days",{org_cid:R}),p=()=>(0,v.EE)("/api/dashboard/v4/orgs/list")},53233:(G,N,t)=>{"use strict";t.d(N,{BG:()=>r,IS:()=>At,KQ:()=>X,MT:()=>Ft,W:()=>Q,YN:()=>h,ZP:()=>Pt,kk:()=>Tt,sE:()=>lt,tr:()=>Et,zf:()=>m});var v=t(76333),D=t(27056),w=t(7221),L=t(73669),p=t(25797),R=t(44766),o=t(68557),i=t(35517),E=t(22686),n=t(43980),a=t(79486);const _=(U,H)=>{const ee=new Error("[NO SENTRY] "+U);return Object.assign(ee,H),ee},h=U=>(0,p.EE)("/api/web/v3/workspace/design/initial?project_cid="+U),f=(U,H)=>fetchGetJSON("/api/web/v3/workspace/design/readonly_initial?access_token="+U+"&password="+H),A=async(U,H)=>{const ee="/api/flat/web_v1/preview/initial?access_token="+U+"&view_mode="+H,pe=await fetch(ee,{credentials:"same-origin"}),Ce=await pe.json();if(pe.status!==200)throw _("[fetchGetHead] failed with "+pe.status+": "+ee,{status:pe.status,error_type:Ce==null?void 0:Ce.error_type});return Ce},y=()=>(0,p.EE)("/api/web/v3/guide/guide_data"),s=U=>(0,p._Z)("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:U}}),e=U=>(0,p._Z)("/api/web/v3/guide/workspace_guides_2203",{guide:{workspace_guides_2203:U}}),r=(U,H)=>(0,p.IP)("/api/web/v4/project_upper/project_basics/"+U,{...H}),c=(U,H)=>(0,p.IP)("/api/flat/web_v1/fcg/"+U,{...H}),m=async U=>{const{project_basic:H,project_metas:ee}=await(0,p.EE)("/api/web/v4/project_upper/project_basics/"+U);return{projectBasic:H,projectMetaList:ee}},P=async U=>{const{library_accesses:H}=await(0,p.EE)("/api/library/v3/orgs/"+U+"/library_accesses");return{libraryAccesses:H}},M=async U=>{const{members:H}=await(0,p.EE)("/api/dashboard/v5/orgs/"+U+"/members");return H},C=()=>(0,p.EE)("/api/web/v3/configuration/design_activity"),u=()=>(0,p.EE)("/api/web/v3/configuration/square_topic"),j=()=>(0,p.EE)("/api/web/v3/configuration/workspace"),K=async()=>{let U=[];try{const H=await(0,p.EE)("/api/web/v3/configuration/square_search_keywords");H!=null&&H.keywords&&(U=H==null?void 0:H.keywords.split(/[,，]/))}catch(H){await(0,i.Vz)(H)}return U},I=async()=>{let U=[];try{const H=await(0,p.EE)("/api/library/v4/recent_keywords");H!=null&&H.keywords&&(U=H==null?void 0:H.keywords)}catch(H){await(0,i.Vz)(H)}return U},g=()=>(0,p._E)("/api/library/v4/recent_keywords"),T=U=>(0,p.Mn)("/api/library/v4/recent_keywords",{keyword:U}),x=async()=>{let U=null;try{const H=await(0,p.EE)("/api/library/v4/workspace_labels");H!=null&&H.keywords&&(U=H==null?void 0:H.keywords)}catch(H){await(0,i.Vz)(H)}return U},X=async()=>{var U;let H;try{H=await(0,p.EE)("/api/library/v3/project_upper/user_combo_groups")}catch(ee){return await(0,i.Vz)(ee),{}}return{userComboGroupList:(U=H)==null?void 0:U.user_combo_groups}},se=async U=>{let H;try{H=await(0,p.bX)("/api/library/v4/users/combo_groups/"+U.cid,{...U})}catch(ee){return await(0,i.Vz)(ee),{}}return H},ne=U=>(0,p.IP)("/screen_aligns/"+U.cid,{...U}),ge=U=>(0,p._E)("/api/library/v3/project_upper/user_combo_groups/"+U),Z=U=>se(U),Q=async U=>{var H;let{orgCid:ee}=U,pe;try{pe=await(0,p.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+ee)}catch(Ce){return await(0,i.Vz)(Ce),{}}return{orgComboGroupList:(H=pe)==null?void 0:H.org_combo_groups}},ie=async(U,H)=>{let ee;try{ee=await(0,p.bX)("/api/library/v4/orgs/combo_groups/"+U.cid+"?org_cid="+H,{...U})}catch(pe){return await(0,i.Vz)(pe),{}}return ee},le=U=>(0,p._E)("/api/library/v3/project_upper/org_combo_groups/"+U),_e=async U=>{const{org_combo_group:H}=await(0,p.IP)("/api/library/v3/project_upper/org_combo_groups/"+U.cid,{...U});return{org_combo_group:H}},be=async(U,H,ee)=>{let{upperCid:pe,projectMetaCid:Ce}=H,{nextUpperCid:Le,nextProjectMetaCid:Xe}=ee;try{await(0,p.Gf)("/project-buffer/prototype/check-transfer/screen-glue?upperCid="+pe,{projectMetaCid:Ce,screenGlueCidList:U,nextUpperCid:Le,nextProjectMetaCid:Xe})}catch(ye){await(0,i.Vz)(ye)}},Te=async U=>{let{orgComboGroupCid:H}=U,ee;try{ee=await(0,p.EE)("/api/library/v3/project_upper/org_combo_groups/"+H)}catch(Ye){return await(0,i.Vz)(Ye),{}}const{project_meta:pe,screen_glues:Ce,screen_metas:Le,screen_aligns:Xe}=ee,ye=[pe],Qe=await(0,R.L9)({projectMetaList:ye,screenMetaList:Le});return{projectMeta:pe,screenGlueList:Ce,screenMetaList:Le,projectScreenObjectList:Qe,screenAligns:Xe}},Re=async U=>{let{userComboGroupCid:H}=U,ee;try{ee=await(0,p.EE)("/api/library/v3/project_upper/user_combo_groups/"+H)}catch(Ye){return await(0,i.Vz)(Ye),{}}const{project_meta:pe,screen_glues:Ce,screen_metas:Le,screen_aligns:Xe}=ee,ye=[pe],Qe=await(0,R.L9)({projectMetaList:ye,screenMetaList:Le});return{projectMeta:pe,screenGlueList:Ce,screenMetaList:Le,projectScreenObjectList:Qe,screenAligns:Xe}},ue=async U=>{let{userLocale:H,projectBasicCid:ee}=U;try{return await(0,a.yS)({projectBasicCid:ee})}catch(pe){MB.global.popupHelper.alertAsync({desc:I18N.dModule.project_load_failed,isHTML:!0,confirmText:I18N.dModule.confirm}).then(()=>{MB.global.onBackButtonClick()}),(0,n.uT)("\u9879\u76EE\u6253\u4E0D\u5F00"),console.error(pe)}},Oe=async U=>{const{project_metas:H,screen_metas:ee,screen_glues:pe,market_template:Ce,icon_group:Le}=await(0,w.Mv)(U),{category:Xe}=Ce,ye=Xe===E.yr;if(Xe===E.Jc){const{title:Ye,source:st}=Le,rt=await(0,p.EE)(st),ot=o.em[Ye]||"svg",{iconGroupData:Vt,iconData:Zt}=(0,o._7)(rt,ot);return{marketTemplate:Ce,iconGroupData:Vt,iconData:Zt}}else{const Ye=[];if(ye){const st={};ee.forEach(rt=>{st[rt.screen_glue_cid]=rt.cid});for(const rt of pe){const{cid:ot,name:Vt,project_meta_cid:Zt}=rt;Ye.push({cid:ot,name:Vt,type:Ce.category,projectBasicCid:Ce.cid,projectMetaCid:Zt,screenGlue:rt,screenMetaCid:st[rt.cid]||""})}}else{const st=pe.find(rt=>rt.type==="project-main");for(const rt of ee){const{cid:ot,name:Vt,project_meta_cid:Zt,screen_glue_cid:Cr}=rt;st.cid===Cr&&Ye.push({cid:ot,name:Vt,type:Ce.category,projectBasicCid:Ce.cid,projectMetaCid:Zt,screenGlue:st,screenMetaCid:ot})}}return{marketTemplate:Ce,marketTemplateItemList:Ye,projectMetaList:H,screenGlueList:pe,screenMetaList:ee}}},Be=async()=>{const U=await(0,w.Wk)(E.yr),H=await(0,w.Wk)(E.Jc),ee=await(0,w.Wk)(E.md),pe=U.concat(H).concat(ee),Ce=pe.filter(Qe=>{let{category:Ye}=Qe;return[E.yr,E.md].includes(Ye)}),Le=pe.filter(Qe=>{let{category:Ye}=Qe;return Ye===E.Jc}),Xe=new Map,ye=new Map;for(const Qe of pe){const{category:Ye,cid:st}=Qe;Ye===E.Jc?ye.set(st,Qe):Xe.set(st,Qe)}return{marketTemplateList:Ce,iconLibraryList:Le,marketTemplateListMap:Xe,iconLibraryListMap:ye}},Ie=U=>{let{marketTemplateCid:H}=U;return(0,p._E)("/api/community/v1/market_template/use/"+H)},Ke=async U=>{let{projectMetaList:H,screenGlueList:ee,screenMetaList:pe}=U;const Ce=await(0,R.L9)({projectMetaList:H,screenMetaList:pe});return{marketTemplateDataMap:Ve(H,ee,pe,Ce)}},Ne=()=>(0,p.EE)("/api/community/v1/icon_group/builtin_icon_group"),Ge=async U=>{const{icon_group:{title:H,source:ee},market_template:pe}=await(0,w.Mv)(U.cid),Ce=await(0,p.EE)(ee),Le=o.em[H]||"svg",{iconGroupData:Xe,iconData:ye}=(0,o._7)(Ce,Le);return{iconGroupData:Xe,iconData:ye,marketTemplate:pe}},Ve=(U,H,ee,pe)=>{const Ce={};for(const Le of U)Ce[Le.cid]={projectMeta:Le,screenGlueList:[],screenMetaList:[],projectScreenObjectList:[]};for(const Le of H)Ce[Le.project_meta_cid].screenGlueList.push(Le);for(const Le of ee)Ce[Le.project_meta_cid].screenMetaList.push(Le);for(const Le of Object.values(Ce))if(Le.screenMetaList.length)for(const Xe of Le.screenMetaList){const ye=pe.find(Qe=>Qe.cid===Xe.cid);ye&&Le.projectScreenObjectList.push(ye)}return Ce},ft=()=>Date.now(),dt=(U,H,ee,pe)=>(0,p.kt)("/node-history-statistics/new_history",{action:U,project_cid:H,team_cid:ee,org_cid:pe,time:ft()}),Xt=U=>{let{projectCid:H,teamCid:ee,orgCid:pe}=U;dt(0,H,ee,pe)};let bt=null;const nr=U=>{let{projectCid:H,teamCid:ee,orgCid:pe}=U;bt&&ft()-bt<60*5*1e3||(bt=ft(),dt(1,H,ee,pe))},sr=async()=>{try{const{asset_groups:U}=await(0,p.sE)("/api/library/v3/asset_data/me/asset_groups");return{userAssetGroupList:U}}catch(U){await(0,i.Vz)(U)}},or=async U=>{let{orgCid:H}=U;try{const{asset_groups:ee}=await(0,p.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+H);return{orgAssetGroupList:ee}}catch(ee){await(0,i.Vz)(ee)}},vt=async U=>{try{const{asset:H,user_asset:ee}=await(0,p.NS)("/api/library/v3/asset_data/me/search_by_url",{image_url:U});return{asset:H,user_asset:ee}}catch(H){await(0,i.Vz)(H)}},ir=async(U,H)=>{try{const{asset:ee,org_asset:pe}=await(0,p.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:U,org_cid:H});return{asset:ee,org_asset:pe}}catch(ee){await(0,i.Vz)(ee)}},ct=async U=>{try{const{user_asset_group:H}=await(0,p.bX)("/api/library/v4/users/asset_groups/"+U.cid,{...U});return{user_asset_group:H}}catch(H){await(0,i.Vz)(H)}},zt=async U=>{try{const{org_asset_group:H}=await(0,p.bX)("/api/library/v4/orgs/asset_groups/"+U.cid,{...U});return{org_asset_group:H}}catch(H){await(0,i.Vz)(H)}},ar=async U=>{try{return await(0,p.bX)("/users/assets/"+U.asset_cid,{...U})}catch(H){await(0,i.Vz)(H)}},Ot=async U=>{try{return await(0,p.bX)("/orgs/assets/"+U.cid+"?org_cid="+U.org_cid,{...U})}catch(H){await(0,i.Vz)(H)}},yt=async U=>{let{cid:H,name:ee,groupCid:pe}=U;try{await(0,p.NS)("/users/assets",{cid:H,name:ee,group_cid:pe})}catch(Ce){await(0,i.Vz)(Ce)}},cr=async U=>{let{orgCid:H,cid:ee,name:pe,groupCid:Ce}=U;try{const Le=await(0,p.NS)("/orgs/assets",{cid:ee,org_cid:H,name:pe,group_cid:Ce});return Le==null?void 0:Le.cid}catch(Le){await(0,i.Vz)(Le)}},lr=async U=>{let{user_asset_group_cid:H,org_cid:ee,org_asset_group_cid:pe}=U;try{return(0,p.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:H,org_cid:ee,org_asset_group_cid:pe})}catch(Ce){await(0,i.Vz)(Ce)}},ur=async U=>{let{orgCid:H="me",keyword:ee,type:pe="all"}=U;const{assets:Ce,combos:Le,asset_groups:Xe,combo_groups:ye,related_asset_groups:Qe,related_combo_groups:Ye}=await(0,p.EE)("/api/library/v3/asset_data/search?org_cid="+H+"&keyword="+ee+"&type="+pe);return{assets:Ce.map(st=>({cid:st.asset_cid,...st})),combos:Le,assetGroups:Xe,comboGroups:ye,relatedAssetGroups:Qe,relatedComboGroups:Ye}},pt=async U=>{try{const{user_asset_group:H,user_assets:ee}=await(0,p.sE)("/users/asset_groups/"+U);return{user_asset_group:H,userAssets:ee}}catch(H){await(0,i.Vz)(H)}},Yt=async U=>{try{const{org_asset_group:H,org_assets:ee}=await(0,p.sE)("/orgs/asset_groups/"+U);return{org_asset_group:H,orgAssets:ee}}catch(H){await(0,i.Vz)(H)}},dr=async U=>{await(0,p._E)("/users/assets/"+U)},Jt=async U=>{await(0,p._E)("/orgs/assets/"+U.cid+"?org_cid="+U.org_cid)},Ut=async U=>{await(0,p._E)("/users/asset_groups/"+U)},pr=async U=>{await(0,p._E)("/orgs/asset_groups/"+U)},fr=U=>(0,p.EE)("/update_web_version?next_web_version="+U),Qt=U=>(0,p._Z)("/preferences/update",{...U}),Nt=(U,H)=>(0,p.bX)("/api/library/v4/users/combo_groups/"+U,{...H}),qt=U=>(H,ee)=>{const pe={...ee,org_cid:U};return(0,p.bX)("/api/library/v4/orgs/combo_groups/"+H,{...pe})},mr=async(U,H)=>{try{return await(0,p.bX)("/api/library/v4/users/asset_groups/"+U,{...H})}catch(ee){await(0,i.Vz)(ee)}},hr=U=>async(H,ee)=>{try{const pe={...ee,org_cid:U};return await(0,p.bX)("/api/library/v4/orgs/asset_groups/"+H,{...pe})}catch(pe){await(0,i.Vz)(pe)}},F=async(U,H)=>{let ee=null;try{const pe=await(0,p.sE)("/api/community/v1/workspace?category="+U+"&plabel="+H);pe!=null&&pe.market_templates&&(ee=pe==null?void 0:pe.market_templates)}catch(pe){await(0,i.Vz)(pe)}return ee},We=async U=>{let H=null;try{const ee=await(0,p.EE)("/flpak/w-p2wsearch?"+U);ee!=null&&ee.data&&(H=ee)}catch(ee){await(0,i.Vz)(ee)}return H},Ze=async U=>{let H=null;try{const ee=await(0,p.EE)("/flpak/w-p2meta/"+U);ee!=null&&ee.length&&(H=ee)}catch(ee){await(0,i.Vz)(ee)}return H},lt=async U=>{let{currentComboPanel:H,projectMetaCid:ee}=U;try{await(0,p.Gf)("/flpak/w-migrate-"+H+"-combo-group/"+ee+"?mode=normal")}catch(pe){await(0,i.Vz)(pe)}},Et=async U=>{let{projectBasicCid:H}=U;try{const{userId:ee,flatKey:pe}=await(0,p.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+H);return{userId:ee,flatKey:pe}}catch(ee){await(0,i.Vz)(ee)}},Ft=async U=>{let{projectBasicCid:H,accessToken:ee,password:pe}=U;try{const{userId:Ce,flatKey:Le}=await(0,p.EE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+H+"&access_token="+ee+"&password="+pe);return{userId:Ce,flatKey:Le}}catch(Ce){await(0,i.Vz)(Ce)}},At=U=>(0,p.EE)("/api/dashboard/v5/orgs/"+U),Tt=async U=>{const{project:H}=await(0,p.EE)("/api/dashboard/v5/projects/"+U);return H},Pt={requestProjectFullData:ue,requestUserComboGroupList:X,requestOrgComboGroupList:Q,requestCreateUserComboGroup:se,requestCreateOrgComboGroup:ie,requestDeleteUserComboGroup:ge,requestUpdateUserComboGroup:Z,requestDeleteOrgComboGroup:le,requestUpdateOrgComboGroup:_e,requestProjectTransferScreenGlue:be,requestUserComboGroupDataFromCid:Re,requestOrgComboGroupDataFromCid:Te,requestSketchArtboardList:v.cH,requestSketchArtboardById:v.LD,requestSliceByArtboardId:v.s,requestSliceZipByArtboardId:v.LT,requestUserCommonGuidesData:y,updateUserCommonGuidesData:s,updateUser2203GuidesData:e,checkSharingPermission:v.b9,fetchProjectComment:v.Jk,fetchProjectScreenCommentThreadCountMap:v.bN,requestMarketTemplateDataForLibrary:Be,requestMarketTemplateDataFromCid:Oe,requestMarketTemplateItemListDataForLibrary:Ke,requestMarketTemplateItemUnused:Ie,fetchCreateCommentThread:v.Q6,fetchCreateComment:v.C6,fetchDeleteCommentThread:v.bz,fetchDeleteComment:v.sv,updateProjectBasicsInfo:r,updateComboProjectBasicsInfo:c,getProjectAllVersions:D.Bl,postCreateNewVersion:D.nG,putUpdateVersionInfo:D.dp,postCheckoutVersion:D.UJ,getProjectOnlineCollaborators:D.go,deleteVersion:D.h_,requestProjectShare:L.o7,updateCurrentProjectShare:L.Of,getAllSharings:L.UC,trackViewProject:Xt,trackEditProject:nr,requestUserAssetGroupList:sr,requestOrgAssetGroupList:or,requestMeAssetDataBySearchUrl:vt,requestOrgAssetDataBySearchUrl:ir,requestUpdateUserAssetGroup:ct,requestUpdateOrgAssetGroup:zt,requestUpdateUserAsset:ar,requestUpdateOrgAsset:Ot,requestDeleteUserAsset:dr,requestDeleteOrgAsset:Jt,requestDeleteUserAssetGroup:Ut,requestDeleteOrgAssetGroup:pr,requestCreateOrgAsset:cr,requestCreateUserAsset:yt,requestUserAssetGroupToOrgAssetGroup:lr,requestLibrarySearchData:ur,requestOrgMembers:M,requestAllLibraryAccess:P,requestDesignInitialData:h,requestBuiltinIconGroup:Ne,collectProjectMetaDataMap:Ve,requestConfigurationData:C,requestConfigurationSquareTopicData:u,requestWorkspaceConfiguration:j,requestConfigurationHotKeyWords:K,requestRecentKeywords:I,requestDeleteRecentKeywords:g,requestAddRecentKeywords:T,requestConfigurationWorkspaceLabels:x,requestUpdateRecentImportResources:w.Im,requestUserAssetsDataFromCid:pt,requestOrgAssetsDataFromCid:Yt,requestUserStarredList:w.Wk,requestUserUsedResources:w.jj,requestStarredResources:w.kU,requestUnStarredResources:w.ZW,requestResourcesDetailData:w.Mv,requestRecentResourcesList:w.pS,requestHotIcons:w.w3,requestResourceHisotry:w.D4,requestResourcesListForSource:w.AY,requestIconGroupIconDataForCid:Ge,requestResourcesListByCategory:w._l,requestUpdateScreenAlign:ne,requestUpdateWebVersion:fr,requestUpdatePreference:Qt,requestSortUserAssetGroup:mr,requestSortOrgAssetGroup:hr,requestSortUserComboGroup:Nt,requestSortOrgComboGroup:qt,requestFindMarketTemplates:F,requestSearchResourcesData:We,requestResourcesDetails:Ze}},76333:(G,N,t)=>{"use strict";t.d(N,{C6:()=>P,Jk:()=>r,LD:()=>A,LT:()=>s,Q6:()=>m,b9:()=>e,bN:()=>c,bz:()=>M,cH:()=>f,s:()=>y,sv:()=>C});var v=t(44766),D=t(25797),w=t(73669),L=t(46295);const p=g=>{let{isVersions:T}=g;return{requestPreviewSetting:n,requestPreviewInitialData:i,requestPreviewEmbedInitial:_,requestProjectFullDataByAccessToken:h,requestSketchArtboardList:f,requestSketchArtboardById:A,requestSliceByArtboardId:y,requestSliceZipByArtboardId:s,checkSharingPermission:e,fetchProjectComment:r,fetchProjectScreenCommentThreadCountMap:c,requestProjectShare:T?requestProjectShareVersion:requestProjectSharePreview,requestUserCommonGuidesData:R,updateUserCommonGuidesData:o,fetchCreateCommentThread:m,fetchCreateComment:P,fetchDeleteCommentThread:M,fetchDeleteComment:C,updateProjectBasicsInfo:u,updateComboProjectBasicsInfo:j,requestPreviewInitialData4ReadOnlyV2:E}},R=()=>fetchGetJSON("/api/web/v3/guide/guide_data"),o=g=>fetchPutHead("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:g}}),i=async g=>{let{projectAccessToken:T,projectEncryptedPassword:x}=g;const X=x?"&password="+x:"";return(0,D.EE)("/api/web/v3/workspace/design/readonly_initial?access_token="+T+X)},E=async g=>{let{projectAccessToken:T,view_mode:x}=g;return fetchGetJSON("/api/flat/web_v1/preview/initial?access_token="+T+"&view_mode="+x)},n=g=>{let{projectAccessToken:T,password:x}=g;return(0,D.EE)("/api/web/v3/workspace/preview/setting?access_token="+T+"&password="+(x||""))},a=g=>{let{projectAccessToken:T,password:x}=g;return(0,D.EE)("/api/flat/web_v1/preview/setting?access_token="+T+"&password="+(x||""))},_=g=>{let{projectAccessToken:T}=g;return(0,D.EE)("/api/web/v3/workspace/preview/embed_initial?access_token="+T)},h=async g=>{let{projectAccessToken:T,projectEncryptedPassword:x,userLocale:X,projectVersion:se}=g;const ne=await(0,v.lA)({projectBasicAccessToken:T,projectBasicEncryptedPassword:x,userLocale:X,projectVersion:se});if(!ne)return;const{projectMetaList:[ge],screenGlueList:Z,screenMetaList:Q,projectScreenObjectList:ie,projectBasic:le,screenAlignList:_e}=ne;return{projectMeta:ge,screenGlueList:Z,screenMetaList:Q,projectScreenObjectList:ie,projectBasic:le,screenAlignList:_e}},f=g=>(0,D.EE)("/api/web/v3/project_data/artboards?project_cid="+g),A=g=>(0,D.EE)("/api/web/v3/project_data/artboards/layers?artboard_id="+g),y=g=>(0,D.EE)("/api/web/v3/project_data/artboards/slices_json?artboard_id="+g),s=g=>{let{artboardId:T,encryptedPassword:x}=g;return(0,D.EE)("/api/web/v3/project_data/artboards/slices_zip?artboard_id="+T+"&encrypted_password="+x)},e=async g=>{try{const{result:T}=await(0,D.EE)("/api/accesses/v4/project/"+g+"/permission_check?permission=P:update");return T}catch(T){return!1}},r=g=>{let{projectCid:T,projectEncryptedPassword:x,accessToken:X}=g;return(0,D.EE)("/api/prototype/point_comments/v3/comments?project_cid="+T+"&password="+(x||"")+"&access_token="+X)},c=g=>{let{projectAccessToken:T,projectEncryptedPassword:x}=g;return(0,D.EE)("/api/web/v3/workspace/preview/"+T+"/screen_comments_thread_count_map?encrypted_password="+(x||""))},m=g=>(0,D._Z)("/api/prototype/point_comments/v3/commentthreads/"+g.cid+".json",{...g}),P=g=>(0,D._Z)("/api/prototype/point_comments/v3/comments/"+g.cid+".json",{...g}),M=g=>(0,D.Bh)("/api/prototype/point_comments/v3/commentthreads/"+g+".json"),C=g=>(0,D.Bh)("/api/prototype/point_comments/v3/comments/"+g+".json"),u=(g,T)=>fetchPutJSON("/api/web/v3/project_upper/project_basics/"+g,{...T}),j=(g,T)=>fetchPutJSON("/api/flat/web_v1/fcg/"+g,{...T}),K=(g,T)=>fetchGetJSON("/api/web/v3/project_upper/project_basics/auth/"+g+"?password="+T);var I={requestPreviewSetting:n,requestPreviewSettingV2:a,requestPreviewInitialData:i,requestProjectFullDataByAccessToken:h,requestSketchArtboardList:f,requestSketchArtboardById:A,requestSliceByArtboardId:y,requestSliceZipByArtboardId:s,checkSharingPermission:e,requestPreviewEmbedInitial:_,fetchProjectComment:r,fetchProjectScreenCommentThreadCountMap:c,requestProjectShare:w.o7,fetchCreateCommentThread:m,fetchCreateComment:P,fetchDeleteCommentThread:M,fetchDeleteComment:C}},46295:(G,N,t)=>{"use strict";const v={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},D=async()=>({projectShareMock:v})},9795:(G,N,t)=>{"use strict";t.d(N,{F:()=>E,f:()=>n});var v=t(67041),D=t(18030),w=t(2568),L=t(76188),p=t(57237),R=t(99284),o=t(47416);const i=[{key:"md",data:w},{key:"mb",data:L},{key:"ci",data:p},{key:"fa5",data:D},{key:"antFill",data:R},{key:"antOutline",data:o}],E={};i.forEach(a=>{let{key:_,data:h}=a;return h.forEach(f=>{f.type=_,_==="fa5"?E[_+"-"+f.id+"-"+f.lib]=f:E[_+"-"+f.id]=f})});const n={};v.forEach(a=>{a.type="fa",n["fa-"+a.id]=a})},68557:(G,N,t)=>{"use strict";t.d(N,{G5:()=>R,_7:()=>w,em:()=>L,lo:()=>p});var v=t(37506);const D=o=>{const[i,E,n,a,_,h,f,A]=o;return{id:i,cat:E,view_box:n,path:a,keywords:_,lib:h,fill:f,stroke:A}},w=(o,i)=>{const E={},n={},a=[];E.All=a;for(const _ of o){const h=D(_);h.cid=(0,v._G)(),h.icongroup=!0,h.type=i,a.push(h);const{cat:f}=h;if(n[h.cid]=h,f)for(const A of f.split(","))(E[A]||(E[A]=[])).push(h)}return{iconGroupData:E,iconData:n}},L={"Font Awesome":"fa","Font Awesome 5":"fa5","Material Design":"md",MockingBot:"mb",Mockitt:"mb","Custom Icons":"ci","Ant Icon OutLine":"antOutline","Ant Icon Fill":"antFill",Zenticons:"ze","Hawcons Stroke":"haStroke","Hawcons Fill":"haFill","RemixIcon Line":"riLine","RemixIcon Fill":"riFill","Icon Font":"if","Strawberry Line":"stLine",Strawberry:"st",Icofont:"if",iconfont:"if",IconPark:"iconPark","Semi Design":"semiDesign","Arco Design":"arcoDesign"},p={fa:"Font Awesome",md:"Material Design",mb:"Mockitt",ci:"Custom Icons",fa5:"Font Awesome 5",antOutline:"Ant Icon OutLine",antFill:"Ant Icon Fill",ze:"Zenticons",haStroke:"Hawcons Stroke",haFill:"Hawcons Fill",riLine:"RemixIcon Line",riFill:"RemixIcon Fill",if:"Icon Font",stLine:"Strawberry Line",st:"Strawberry",iconPark:"IconPark",semiDesign:"Semi Design\u56FE\u6807\u5E93",arcoDesign:"Arco Design"},R=["Icon Font","Icofont","iconfont"]},32380:(G,N,t)=>{"use strict";t.d(N,{H:()=>p,m:()=>L});var v=t(25797),D=t(69930),w=t(65155);const L=function(R){var o;R===void 0&&(R="");const{isExperience:i,isLoggedExperience:E}=(o=MB.global)==null?void 0:o.designOptions;if(R==="isSave"){if(i)return MB.global.popupHelper.loginAsync({onConfirm:p}),!0;if(E){const n=MB.getRootProject&&MB.getRootProject();return MB.global.popupHelper.teamSelectModalAsync({projectCid:n==null?void 0:n.cid,onConfirm:a=>D.R.api.experienceTriggerAllSaveAfterLogin(a)}),!0}else return!1}else return i?(MB.global.popupHelper.loginAsync({onConfirm:p}),!0):!1},p=async()=>{if((0,w._$)()){window.top.location.reload();return}const{user:R}=await(0,v.EE)("/api/web/v3/initial");(0,v._Z)("/api/web/v3/guide/complete_workspace_guide"),MB.user=R,Object.assign(MB.global.designOptions,{isExperience:!1,isLoggedExperience:!0}),MB.action("update:design:options",{designOptions:{...MB.global.designOptions}}),MB.action("current:update:state",{currentUser:R});const o=MB.getRootProject&&MB.getRootProject();MB.global.popupHelper.teamSelectModalAsync({projectCid:o==null?void 0:o.cid,onConfirm:i=>D.R.api.experienceTriggerAllSaveAfterLogin(i)})}},95534:(G,N,t)=>{"use strict";t.d(N,{Z:()=>E});var v=t(20018),D=t(7485),w=t(7627),L=t.n(w),p=t(14974),R=t(71464),o=t(27004),i=t(35269);class E extends D.PureComponent{constructor(){super(...arguments),(0,v.Z)(this,"setComponentRef",a=>this.modal=a),(0,v.Z)(this,"getEntry",()=>{const a=new URLSearchParams(location.search),_=a&&a.get("view_mode");return _?R.I[_]:""})}componentDidMount(){const{dispatch:a,onConfirm:_}=this.props,h=this;window.onmessage=async function(f){f.data==="loginSuccess"?(typeof a=="function"&&a({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),_()):f.data==="close"&&h.modal.close()},o.x.userSourceTrack(this.getEntry())}render(){const{isOpen:a,onClose:_,type:h,source:f}=this.props,A=this.getEntry(),y=A?"&entry="+A:"",s=location.origin+"/embed/auth_box?type="+h+(f?"&source="+f:"")+y;return(0,i.jsx)(p.B,{isOpen:a,onClose:_,ref:this.setComponentRef,className:"login-modal",children:(0,i.jsx)("iframe",{src:s})})}}(0,v.Z)(E,"propTypes",{source:L().string,isOpen:L().bool,type:L().string,dispatch:L().func,onConfirm:L().func,onClose:L().func}),(0,v.Z)(E,"defaultProps",{type:"signin"})},59217:(G,N,t)=>{"use strict";t.d(N,{t:()=>R});var v=t(70103),D=t(24978),w=t(84741),L=t(57313),p=t(24455);const R=o=>{const i=(0,D.gk)(),E=(0,v.MT)(w.Z,(0,v.md)(i.middleware));return i.setEntryMap(L.T),o.getSelectedTrees=()=>(0,p.nAE)(E.getState()),o.__store__=E,o.action=(n,a)=>E.dispatch({type:n,payload:a}),o.getScale=()=>(0,p.yZr)(E.getState()),o.getNextWidgetZ=()=>(0,p.YTF)(E.getState()),o.getCurrentProjectMeta=()=>(0,p.e4v)(E.getState()),o.getCurrentScreen=()=>(0,p.CL6)(E.getState()),o.getCurrentDesignOptions=()=>(0,p.DTi)(E.getState()),o.getRootProject=()=>(0,p.OnT)(E.getState()),o.getScreenDataMap=()=>(0,p.giy)(E.getState()),o.getSelectionItems=()=>(0,p.dAH)(E.getState()),o.getRootItems=()=>(0,p.ZVZ)(E.getState()),o.renderLinks=()=>{E.dispatch({type:"entry:refresh:link-list"})},o.renderScreenList=()=>{E.dispatch({type:"entry:update:screen:list"})},o.workspaceAlertAsync=n=>{let{title:a,desc:_,confirmText:h,renderDesc:f}=n;return new Promise(A=>{E.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,canCancel:!1,title:a,desc:_,confirmText:h,renderDesc:f,onCancel:()=>A(!1),onConfirm:()=>A(!0)}})})},o.workspaceConfirmAsync=n=>{let{title:a,desc:_,className:h,confirmText:f,cancelText:A,renderDesc:y}=n;return new Promise(s=>{E.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,className:h,title:a,desc:_,confirmText:f,cancelText:A,renderDesc:y,onCancel:()=>s(!1),onConfirm:()=>s(!0)}})})},o.DesignLibraryConfirmAsync=n=>{let{title:a,desc:_,className:h,confirmText:f,cancelText:A,onModalConfirm:y,renderDesc:s}=n;return new Promise(e=>{E.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,className:h,title:a,desc:_,confirmText:f,cancelText:A,renderDesc:s,onCancel:()=>e(!1),onConfirm:()=>{e(!0),y()}}})})},E}},47662:(G,N,t)=>{"use strict";t.d(N,{J:()=>w});var v=t(20209),D=t(40769);const w=L=>{(0,v.zO)({defaultStyle:D.P,getStyleStr:{fontFamily:/modao.cc/.test(L)?p=>p+", sans-serif":p=>p}})}},23555:(G,N,t)=>{"use strict";t.d(N,{Z:()=>L});var v=t(89870),D=t(77200),w=t(98589);const L=(0,v.$j)(p=>{const R=(0,D.kc)(p),o=(0,D.GP)(p),{isWonderShare:i,isOnPremises:E}=(0,D.CD)(p),n=(0,D.Ds)(p);return{user:(0,D.ts)(p),mode:n,previewOptions:o,previewSetting:R,isWonderShare:i,isOnPremises:E,isHiddenToolBar:(0,D.qe)(p)}})(w.Z)},77200:(G,N,t)=>{"use strict";t.d(N,{Bi:()=>Ve,CD:()=>A,CL:()=>ie,Ci:()=>ft,Ds:()=>Ke,EB:()=>Te,EK:()=>ne,EZ:()=>Ne,Eg:()=>Yt,Ei:()=>Xt,GP:()=>f,H9:()=>fr,HR:()=>Oe,IR:()=>Ie,Kv:()=>pt,M0:()=>m,M2:()=>c,N2:()=>be,N7:()=>se,NK:()=>Ge,Nu:()=>ct,Ny:()=>ar,Rp:()=>X,S7:()=>_e,T4:()=>sr,Uq:()=>zt,V2:()=>ir,W9:()=>r,WM:()=>Z,Wf:()=>mr,XL:()=>vt,_L:()=>e,cM:()=>x,d8:()=>P,d9:()=>bt,e4:()=>g,fq:()=>ur,gh:()=>C,gi:()=>lr,gz:()=>yt,it:()=>Nt,jQ:()=>nr,jX:()=>Qt,kc:()=>h,ki:()=>Be,ku:()=>T,nB:()=>or,nS:()=>u,nV:()=>Re,os:()=>pr,pt:()=>y,px:()=>dr,qe:()=>j,rJ:()=>s,tF:()=>_,ts:()=>n,uX:()=>dt,v8:()=>Q,vo:()=>I,wp:()=>ue,yT:()=>le,yZ:()=>Ut,z7:()=>a});var v=t(77646),D=t(31033),w=t(18166),L=t(29661),p=t(54635),R=t(41768),o=t(11685),i=t(63697),E=t(38133);const n=F=>F.model.user,a=F=>F.container.common.scale,_=F=>F.container.common.screenCommentThreadCountMap,h=F=>F.container.previewSetting,f=F=>F.container.common.previewOptions,A=F=>F.container.common.designOptions,y=F=>F.container.common.guideOptions,s=F=>F.container.common.experienceSnapshotUrlMap,e=F=>F.container.common.offset,r=F=>F.container.common.keyFlags.isSpaceDown,c=F=>F.container.common.keyFlags.isShiftDown,m=F=>F.container.common.leftPaneWidth,P=F=>F.container.common.shellContainer,M=F=>F.container.common.previewOptions.isVersionEmbedded,C=F=>F.container.common.preference.theme,u=F=>F.container.common.panelHeight,j=F=>F.container.common.isHiddenToolBar,K=F=>F.model.screens,I=F=>F.container.current.rootProject,g=F=>F.container.current.projectMeta,T=F=>F.container.current.screenGlue,x=F=>F.container.current.projectShare,X=F=>F.container.current.previewCommonGuidesHasShown,se=F=>F.container.current.previewCommonGuidesToBeShown,ne=F=>F.container.current.screenMetaList,ge=F=>F.container.current.refreshCount,Z=F=>F.container.current.STRenderArea,Q=F=>!0,ie=F=>F.container.current.screenMeta,le=F=>F.container.current.isPanelPreviewMode,_e=F=>F.container.current.isCommunityComboPreview,be=F=>F.container.current.panelPreviewBasketKey,Te=F=>F.container.current.isPreviewCombo,Re=F=>F.container.current.folderStore,ue=F=>F.container.current.folderTreeData,Oe=F=>F.container.previewSetting.simulatorType,Be=F=>F.container.previewSetting.isShowShell,Ie=F=>F.container.previewSetting.isDummyApk,Ke=F=>F.container.previewSetting.toolbarActiveItem,Ne=F=>F.container.previewSetting.isStickyShow,Ge=F=>F.container.previewSetting.isStickyAvailable,Ve=F=>F.container.previewSetting.isHighlight,ft=F=>F.container.previewSetting.isShowOfflineModal,dt=F=>F.container.previewSetting.isAppOffline,Xt=F=>F.container.previewSetting.isAppCacheNeedUpToDate,bt=F=>F.container.previewSetting.isStatePanelShow,nr=F=>F.container.previewSetting.isMinimized,sr=F=>F.container.sharingManager.isShowSharingManager,or=(0,v.P1)([Ke],F=>({isPreview:F==="preview",isInspect:F==="inspect",isComment:F==="comment"})),vt=F=>F.container.previewSetting.isFullScreenMode,ir=F=>F.container.previewSetting.isShowColorPicker,ct=F=>F.container.previewSetting.theme,zt=F=>F.container.runner,ar=F=>F.container.runner.activeCid,Ot=(0,v.P1)([zt],F=>{var We;const{activeCid:Ze,screenInfoMap:lt}=F;return(We=lt[Ze])==null?void 0:We.canvasId}),yt=(0,v.P1)([Ke],F=>F===D.nh||F===D.Ab),cr=(0,v.P1)([Ke,Oe],(F,We)=>[D.nh,D.Ab].includes(F)||We!=="device"),lr=(0,v.P1)([K],F=>{const We={};return F.forEach(Ze=>We[Ze.cid]=Ze),We}),ur=F=>F.container.current.screenTreeData,pt=(0,v.P1)([K,g,T,x],(F,We,Ze,lt)=>{if((0,E.ax)()){const{screen_visible_list:Ft,screen_visible_switch:At}=lt;if(At){const{screenTreeData:Tt}=(0,L.$)(Ft);return Tt}}const{screenTreeData:Et}=(0,L.pb)();return Et}),Yt=(0,v.P1)([pt],F=>(0,w.qv)(F).filter(We=>We.bunch===o.l.RbPage)),dr=(0,v.P1)([Yt],F=>F.filter(We=>!(0,w.Vx)(We))),Jt=F=>F.container.common.viewport,Ut=F=>F.container.common.scale,pr=F=>F.container.common.offset,fr=F=>F.container.common.currentScreenOriginOffset,Qt=F=>F.container.common.hasChangedScaleManually,Nt=(0,v.P1)([zt,Jt,Ut,T,ue],(F,We,Ze,lt,Et)=>{let Ft=[Et,...Et.children];const{width:At,height:Tt}={};let Pt=1/0,U=1/0,H=-1/0,ee=-1/0;const{x:pe,y:Ce,w:Le,h:Xe}=(0,i.Ud)(Ft);Pt=pe,H=pe+Le,U=Ce,ee=Ce+Xe,Pt=Math.min(Pt*Ze/100,-We.width*3/2),H=Math.max(H*Ze/100,We.width*3/2),U=Math.min(U*Ze/100,-We.height*3/2),ee=Math.max(ee*Ze/100,We.height*3/2);const ye=lt.height>Tt?lt.height:Tt,Qe=lt.width>At?lt.width:At;let Ye=Math.max(-Pt,H,0),st=Math.max(-U,ee,0);const rt=We.height*100/ye,ot=We.width*100/Qe;return Ze>ot&&(Ye+=(Ze-ot)*5),Ze>rt&&(st+=(Ze-rt)*10),qt(Ye*2,st*2)}),qt=(0,p.LL)((F,We)=>({x:F,y:We})),mr=(0,v.P1)([C,I],(F,We)=>We.attr instanceof Object&&We.attr.bgcolor||R.I3[F]),hr=(0,v.P1)([ie,Jt,Ut,pr,T],(F,We,Ze,lt,Et)=>{if(!We)return{canvasTop:0,canvasLeft:0};const[Ft,At]=[F.width,F.orientation==="portrait"?Et.height:Et.width],Tt=Math.round(lt.x),Pt=Math.round(lt.y);return{canvasTop:We.top+Math.floor((We.height-At*Ze/100)/2)+Pt,canvasLeft:Math.floor((window.innerWidth-Ft*Ze/100)/2)+Tt}})},46807:(G,N,t)=>{"use strict";t.d(N,{Z:()=>L});var v=t(89870),D=t(77200),w=t(56719);const L=(0,v.$j)(p=>{const R=(0,D.kc)(p),o=(0,D.GP)(p),i=(0,D.S7)(p),E=(0,D.EB)(p);return{previewOptions:o,previewSetting:R,isCommunityComboPreview:i,isPreviewCombo:E}})(w.Z)},6301:(G,N,t)=>{"use strict";var v=t(46198),D=t(71789),w=t(77276),L=t(7485),p=t(39110),R=t(21202);const o={"sk-bouncedelay":"ZBrU7Yes6CevGkk6hArA"};window.$=window.jQuery=t(8435),t(39488),t(64615),t(63371),t(51575),t(11460);var i=t(14730),E=t(46807),n=t(20018),a=t(14049),_=t(16335),h=t(59780),f=t(89870),A=t(26750),y=t(34788),s=t.n(y),e=t(88662),r=t(60747),c=t(33258),m=t(41768),P=t(7627),M=t.n(P);const C={shell:"PM26Ljznui8RJWuxUXab"};var u=t(35269);class j extends L.PureComponent{render(){const{isHTMLZip:B,project:W,shellType:k,isLandscape:Y}=this.props,J=K(k,W,Y,B),te=k==="device"&&J===null?"none":k;return(0,u.jsx)("div",{className:C.shell+" "+te,style:J})}}j.propTypes={isHTMLZip:M().bool,project:M().object,shellType:M().string,isLandscape:M().bool};function K(V,B,W,k){switch(V){case"device":{const Y=(0,r.Zl)(B,V);if(!Y.bg)return null;const J=W?Y.bg+"_land":Y.bg,[te,fe,me,de]=W?[-Y.left,-Y.top,Y.height,Y.width]:[-Y.top,-Y.left,Y.width,Y.height];return{top:te,left:fe,width:me,height:de,backgroundImage:"url("+((0,D.Qs)()?".":"")+"/mb-proto2/images/devices/"+J+".png)"}}case"default":return null;case"none":return null}}var I=t(77200),g=t(21563),T=t(45090);const x=T.default.div.withConfig({displayName:"style__StyledAppSplash",componentId:"sc-11mlfir-0"})(["position:absolute;width:100%;height:100%;background:#f5f5f5;overflow:hidden;margin-bottom:500px;top:0;z-index:2;img{position:absolute;width:100%;height:100%;}.loading{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;width:100%;height:30px;.splash-loading{width:30px;height:30px;}}&.landscape{img{transform:rotate(90deg);transform-origin:bottom left;}}"]);class X extends L.PureComponent{render(){const{homeScreen:B,url:W,isPanelPreviewMode:k}=this.props,Y=0,J=0;let te;return B.width!==Y?te={top:0-Y,width:J,height:Y}:te={top:0,width:Y,height:"101%"},(0,u.jsxs)(x,{className:s()("splash",B.orientation),style:{backgroundColor:B.bgcolor},children:[W&&!k&&(0,u.jsx)("img",{src:W,style:te}),(0,u.jsx)("div",{className:"loading",children:(0,u.jsx)(g.Z,{className:"splash-loading"})})]})}}var se=t(77646),ne=t(55639),ge=t.n(ne),Z=t(4145),Q=t(99470),ie=t(18166),le=t(70956),_e=t(42091),be=t(25631),Te=t(30733);const Re="local_embed_toast_show";function ue(){const V=(0,Te.RD)(Re,null,Te.cM.Boolean),B=()=>{(0,Te.iO)(Re,!0,Te.cM.Boolean),k(!0)},[W,k]=(0,L.useState)(V);return(0,u.jsx)(u.Fragment,{children:!W&&(0,u.jsxs)(Oe,{isOpen:!0,children:[(0,u.jsx)("div",{className:"placeholder"}),(0,u.jsxs)("div",{className:"content",children:[(0,u.jsx)("img",{src:"/mb-workspace/images/preview/loading.gif",alt:"Loading..."}),(0,u.jsx)("span",{children:"\u53CC\u6307\u70B9\u51FB\u5C4F\u5E55\u8C03\u51FA\u8BBE\u7F6E\u9762\u677F"}),(0,u.jsx)("span",{children:"\u53EF\u76F4\u63A5\u8DF3\u8F6C\u9875\u9762"})]}),(0,u.jsx)("div",{className:"close-btn",children:(0,u.jsx)(_e.q,{onClick:B,name:"design/close_sm"})})]})})}const Oe=(0,T.default)(be.Z).withConfig({displayName:"EmbedToastModal__StyledPreviewAuthModal",componentId:"sc-f18fpm-0"})(["width:80%;min-width:255px;display:flex;flex-direction:row;padding-bottom:25px;.placeholder{width:10%;}.content{width:80%;display:flex;flex-direction:column;align-items:center;}.close-btn{display:flex;flex-direction:row-reverse;width:10%;height:32px;svg{width:32px;height:32px;}}"]);var Be=t(44051),Ie=t(17315);class Ke extends L.PureComponent{constructor(B){super(B),(0,n.Z)(this,"setElementRef",W=>this.$elem=W),(0,n.Z)(this,"initCollapseKeySet",()=>{const{activeCid:W,screenTreeData:k}=this.props,Y=(0,ie._i)(W,k),J=new Set(Y.map(te=>{let{cid:fe}=te;return fe}));this.setState({collapseKeySet:J})}),(0,n.Z)(this,"handleScreenMetaExpand",W=>{let{cid:k}=W;const{collapseKeySet:Y}=this.state,J=new Set(Y);Y.has(k)?J.delete(k):J.add(k),this.setState({collapseKeySet:J})}),(0,n.Z)(this,"handleSelectScreenMeta",(W,k)=>{const{activeCid:Y,dispatch:J}=this.props;(0,ie.Vx)(k)||(Y===k.cid?this.handleScreenMetaExpand(k):J({type:"entry:sync-runner:set-screen",payload:{cid:k.cid}}))}),(0,n.Z)(this,"handleClosePreviewSetting",()=>{this.setState({isOpen:!1})}),(0,n.Z)(this,"onClickOutside",W=>{let{target:k}=W;this.$elem.contains(k)||this.handleClosePreviewSetting()}),(0,n.Z)(this,"renderScreenMetaItem",W=>{let{depth:k,screenMeta:Y,hasScreenMetaChildren:J,collapseScreenMetaCidSet:te,activeScreenMetaCid:fe,dispatch:me}=W;const{runnerState:de}=this.props,{cid:he}=Y,ce=fe===he,Ee=te.has(he),Se=J||(0,ie.Vx)(Y);return(0,u.jsx)(Q.Z,{depth:k,screenMeta:Y,isActive:ce,isExpand:Ee,showExpander:Se,actionProps:this.literalActionProps,dispatch:me,runnerState:de})}),this.state={isOpen:!1,collapseKeySet:new Set},this.literalActionProps={onExpand:this.handleScreenMetaExpand,onSelect:this.handleSelectScreenMeta}}componentDidMount(){const B=this,W=document.querySelector("#workspace"),k=new(ge()).Manager(W);k.add(new(ge()).Tap({event:"doubletap",pointers:2})),k.on("doubletap",function(Y){B.setState({isOpen:!0})}),this.initCollapseKeySet()}render(){const{project:B,screenTreeData:W,activeCid:k,isStatePanelShow:Y,dispatch:J,runnerState:te,previewOptions:fe}=this.props,{isOpen:me,collapseKeySet:de}=this.state,{isEmbedV1:he,isEmbedV2:ce}=fe;return(0,u.jsxs)(u.Fragment,{children:[(he||ce)&&(0,u.jsx)(ue,{}),me&&(0,u.jsx)(Be.N8,{className:"mask"}),te.activeCid!==""&&(0,u.jsxs)(Be.eE,{className:s()({"is-open":me}),ref:this.setElementRef,children:[!Y&&(0,u.jsxs)(Ie.Z,{children:[(0,u.jsxs)("div",{className:"theHeader",children:[(0,u.jsx)("div",{className:"backBtn","data-value":""}),(0,u.jsx)("div",{className:"headerTitle",children:(0,u.jsx)("div",{className:"headerName",children:(0,le.FQ)(B.name)})})]}),(0,u.jsx)("div",{className:s()("screen-list",{"when-ws":!1}),children:(0,u.jsx)(Z.Z,{collapseScreenMetaCidSet:de,activeScreenMetaCid:k,isExpandTree:!1,screenTreeData:W,renderScreenMetaItem:this.renderScreenMetaItem,dispatch:J})})]}),!Y&&(0,u.jsx)(Ne,{onClose:this.handleClosePreviewSetting}),me&&(0,u.jsx)(A.ZP,{target:document,onClick:(0,A.Yc)(this.onClickOutside,{capture:!0})})]})]})}}(0,n.Z)(Ke,"propTypes",{project:M().object,dispatch:M().func,activeCid:M().string,screenTreeData:M().object,isStatePanelShow:M().bool,runnerState:M().object,previewOptions:M().object});const Ne=(0,L.memo)(V=>{let{onClose:B}=V;return(0,u.jsx)("div",{className:"theFooter",onClick:B,children:I18N.pPreview.mobileMenu.cancel})});Ne.propTypes={onClose:M().func};const Ge=(0,se.P1)([I.Kv,I.CL,I.vo,I.d9,I.Uq],(V,B,W,k,Y)=>{const J=B.cid;return{screenTreeData:V,activeCid:J,project:W,isStatePanelShow:k,runnerState:Y}}),Ve=(0,f.$j)(V=>Ge(V))(Ke);var ft=t(57690),dt=t(54861),Xt=t(38281),bt=t(43852);class nr extends L.PureComponent{constructor(B){super(B),(0,n.Z)(this,"shouldHasBorderRadius",(W,k)=>!W||k!=="device"?!1:!!W.includes("iphone_14")),this.state={homeScreen:B.screen}}componentDidMount(){const{previewOptions:B,isImmersive:W,isReadRunner:k}=this.props;if(k)return;const{isMobile:Y}=B;if(Y){const J=()=>{setTimeout(()=>{this.forceUpdate()},100)},te="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(te,J,!1)}MB.runnerController.initEventHandler(document.querySelector("#app"),{isImmersive:W,isMobile:Y})}render(){const{project:B,screen:W,scale:k,bgcolor:Y,isImmersive:J,isShowSplash:te,isPanelPreviewMode:fe,isShellShow:me,simulatorType:de,previewOptions:he,isReadRunner:ce}=this.props,{homeScreen:Ee}=this.state,{isMobile:Se}=he,{splash:De=""}=B;let Ae=(0,c.Wi)(W,B.device);const Pe=de==="outside_artboard",we=J||de!=="device";Se&&(Ae+=" is-mobile"),Pe&&we&&(Ae+=" is-outside-visible");const Ue=this.shouldHasBorderRadius(B==null?void 0:B.model,de);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(bt.i,{id:"simulator",className:Ae,children:[(0,u.jsx)("div",{id:"app",style:{borderRadius:Ue?"12px":void 0},children:(0,u.jsx)(Xt.Z,{})}),te&&(0,u.jsx)(X,{homeScreen:Ee,url:De,isPanelPreviewMode:fe}),(0,u.jsx)(dt.y,{}),Se&&(0,u.jsx)(ft.b,{})]}),Se&&(0,u.jsx)(Ve,{previewOptions:he})]})}}const sr=V=>V.container.artboards.isShowSplash,or=(0,f.$j)(V=>{const B=(0,I.CL)(V),W=(0,I.vo)(V),k=(0,I.gz)(V),Y=sr(V),J=(0,I.GP)(V),te=(0,I.yT)(V),fe=(0,I.HR)(V),me=(0,I.z7)(V);return{bgcolor:(0,I.Wf)(V),screen:B,project:W,previewOptions:J,isImmersive:k,isShowSplash:Y,isPanelPreviewMode:te,simulatorType:fe,scale:me,isReadRunner:!0}})(nr);class vt extends L.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isDraggingCanvas:!1}),(0,n.Z)(this,"handleKeyDown",B=>{const{dispatch:W}=this.props,k=B.target.matches("input")||B.target.matches("textarea");B.keyCode===32&&!k&&(B.preventDefault(),W({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))}),(0,n.Z)(this,"handleKeyUp",()=>{this.props.dispatch({type:"preview:reset:key:flags"})}),(0,n.Z)(this,"handleMouseDown",B=>{const{isSpaceDown:W}=this.props;(B.button===1||W)&&this.initDraggingCanvas(B)}),(0,n.Z)(this,"handleScaleAndOffsetChange",(B,W,k)=>this.props.dispatch({type:"design:set:scale-and-offset",payload:{scale:k,offset:{x:B,y:W}}})),(0,n.Z)(this,"handleOffsetChange",(B,W)=>{this.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:{x:B,y:W}}})})}initDraggingCanvas(B){const W=B.clientX,k=B.clientY,{x:Y,y:J}=this.props.canvasOffset;this.setState({isDraggingCanvas:!0});const te=me=>{const de={x:Y+(me.clientX-W),y:J+(me.clientY-k)};this.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:de}})},fe=()=>{this.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",fe)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",fe)}render(){const{scale:B,canvasOffset:W,project:k,screenGlue:Y,screen:J,isSpaceDown:te,isStickyShow:fe,isStickyAvailable:me,simulatorType:de,isShowShell:he,isLayerActive:ce,isCommentActive:Ee,isFullScreenMode:Se,isPreviewActive:De,isHTMLZip:Ae,theme:Pe}=this.props,{isDraggingCanvas:we}=this.state,{x:Ue,y:it}=W,at=ce||Ee,mt=at||!he||de!=="device"?"none":(0,r.uL)(k),gt=!at&&(0,c.SZ)({screenGlue:Y,screen:J,project:k}),Lt=J.orientation==="landscape"||J.width===k.height,Gt={width:375,height:812,minWidth:375,minHeight:812,transform:"matrix(1, 0, 0, 1, "+Ue+", "+it+")"},It={transform:"scale("+B/100+")"},_t=s()({"wait-drag":te||we,"is-immersive":at,"is-comment-active":Ee,"is-screen-expanded":at||de!=="device","is-fullscreen-mode":Se}),St={backgroundColor:m.I3[Pe]};return(0,u.jsxs)(e.Z,{x:Ue,y:it,scale:B,style:St,id:"simulator-container",className:_t,isDisabled:we,onMouseDown:this.handleMouseDown,onScaleAndOffsetChange:this.handleScaleAndOffsetChange,onOffsetChange:this.handleOffsetChange,children:[(ut,xt,Ht)=>(0,u.jsx)("div",{className:"screen-viewport",style:Gt,children:(0,u.jsxs)("div",{className:"zoom-area",style:It,children:[(0,u.jsx)(or,{isShellShow:gt}),gt&&(0,u.jsx)(j,{isHTMLZip:Ae,project:k,shellType:mt,isLandscape:Lt})]})},"1"),(0,u.jsx)(A.ZP,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}const ir=(0,f.$j)(V=>{const{container:{common:{offset:B,keyFlags:{isSpaceDown:W}}}}=V,{isHTMLZip:k}=(0,I.GP)(V),Y=(0,I.z7)(V),J=(0,I.CL)(V),te=(0,I.vo)(V),fe=(0,I.ku)(V),me=(0,I.NK)(V),de=(0,I.EZ)(V),he=(0,I.XL)(V),ce=(0,I.Nu)(V),{isPreview:Ee,isInspect:Se,isComment:De}=(0,I.nB)(V),Ae=(0,I.HR)(V),Pe=(0,I.ki)(V);return{scale:Y,canvasOffset:B,screen:J,project:te,screenGlue:fe,simulatorType:Ae,isSpaceDown:W,isStickyShow:de,isPreviewActive:Ee,isLayerActive:Se,isCommentActive:De,isFullScreenMode:he,isHTMLZip:k,isShowShell:Pe,isStickyAvailable:me,theme:ce}})(vt);var ct=t(66216),zt=t(8274),ar=t(76637),Ot=t(24011);const yt=T.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-7okk49-0"})(["width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}"],V=>V.theme.color_background_icon_hover);class cr extends L.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"keyboardManager",new ct.Sm)}preventDefault(B){B.preventDefault()}render(){return(0,u.jsx)(ct.XC.Provider,{value:this.keyboardManager,children:(0,u.jsx)(Ot.Z,{children:(0,u.jsxs)(yt,{onContextMenu:this.preventDefault,children:[(0,u.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[(0,u.jsx)(a.Z,{}),(0,u.jsx)(ir,{}),(0,u.jsx)(h.Z,{}),(0,u.jsx)(_.Z,{})]}),(0,u.jsx)(ar.NM,{sheet:zt.R}),(0,u.jsx)(ft.F,{})]})})})}}var lr=t(10737),ur=t(23555),pt=t(70423);const Yt=V=>{const{isEmbedV1:B=!1}=V||{};return{isDesktop:!((0,pt.tq)()||B),isInApp:!1,isMultiLink:!1,isMobile:(0,pt.tq)(),isIOSClient:(0,pt.B0)(),isStandAlone:(0,pt.IF)(),isEmbedV1:B,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,pt.Md)(),isForum:(0,pt._j)(),isElectron:(0,pt.d)(),isSquare:!1,isVersionEmbedded:!1,isFeishu:(0,pt.Rv)(),isWechat:(0,pt.CL)(),...V}},dr=V=>{const{isMobile:B,isEmbedV2:W,isSquare:k,isVersionEmbedded:Y}=V;return B?lr.Z:W||k?E.Z:Y?cr:ur.Z};var Jt=t(64721),Ut=t(78467),pr=t(75985),fr=t(76333);const Qt=V=>localStorageRemoveItem(V+"_pwd"),Nt=V=>(0,Te.GQ)(V+"_pwd"),qt=(V,B)=>localStorageSetItem(V+"_pwd",B),mr=V=>{const B=async(W,k,Y)=>{try{const{isHTMLZip:J,isMobile:te}=getPreviewOptions(MB.webpackInterface.store.getState());J||(te&&MB.messageBucket.send("ready"),await checkAuthorization(W,k),MB.global.popupHelper.promptGetPasswordAsync(!1));const fe=await V({projectAccessToken:W,projectVersion:Y,projectEncryptedPassword:k,userLocale:window.MBLocale});return qt(W,k),fe}catch(J){console.error("[getProjectFullData] failed: "+J),Qt(W)}};return async W=>{let{projectAccessToken:k,projectVersion:Y,projectEncryptedPassword:J,isPasswordRequired:te}=W;return J=J||new URLSearchParams(location.search).get("password")||Nt(k),await hr(B,te,k,J,Y)||[]}},hr=async(V,B,W,k,Y)=>{let J;if(J=await V(W,k,Y),!J&&!B){var te,fe;(te=MB)==null||(fe=te.messageBucket)==null||fe.send("mobileLoadProjectError",{errMsg:I18N.dPages.no_permission_to_app})}let me=1/0,de=!1,he=0;for(;!J&&me;)he++,me--,k=md5(await MB.global.popupHelper.promptGetPasswordAsync(!0,de)),J=await V(W,k,Y),J||(de=!0);return MB.global.popupHelper.promptGetPasswordAsync(!1),J},F=async(V,B)=>{let W;try{W=await checkAuthorization(V,B)}catch(k){W=k}return W},We=async function(V,B){B===void 0&&(B=MB.global.popupHelper);let W=!1,k=md5(await B.promptGetPasswordAsync(!0,!1));for((await F(V,k)).status===403&&(W=!0);W;)k=md5(await B.promptGetPasswordAsync(!0,W)),(await F(V,k)).status===403?W=!0:W=!1;return B.promptGetPasswordAsync(!1),k},Ze=(V,B,W)=>{if(!V)return!0;if(B){var k;return(W==null||(k=W.permissions.find(J=>J.user_id===V.id))==null?void 0:k.role)===void 0}else return V.id!==W.owner_id};var lt=t(69930),Et=t(86185),Ft=t(53233),At=t(79486),Tt=t(70103),Pt=t(23895),U=t(84884);const H={isInNewGuide:!1,isOnPremises:!1,canUploadToSquare:!1},ee=function(V){V===void 0&&(V="POPUP-HELPER-ROOT");const B=document.createElement("div");B.id=V,document.body.appendChild(B);const W=(0,Tt.MT)(Pt.Z);v.render((0,u.jsx)(f.zt,{store:W,children:(0,u.jsx)(U.Z,{})}),B);const{confirmAsync:k,alertAsync:Y,alertAsyncWide:J,alertAsyncBlocked:te,promptGetPasswordAsync:fe,loginAsync:me,teamSelectModalAsync:de,sharingAsync:he,chargeAsync:ce}=pe(W.dispatch);return{confirmAsync:k,alertAsync:Y,alertAsyncWide:J,alertAsyncBlocked:te,promptGetPasswordAsync:fe,loginAsync:me,teamSelectModalAsync:de,sharingAsync:he,chargeAsync:ce,destroy:()=>{v.unmountComponentAtNode(B),B.remove()}}},pe=V=>({confirmAsync:he=>{let{className:ce,title:Ee,desc:Se,isHTML:De,confirmText:Ae,cancelText:Pe,isClose:we}=he;return new Promise(Ue=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,className:ce,title:Ee,desc:Se,isHTML:De,type:"alert",alertType:"confirm",canClose:we!==!1,canCancel:!0,canConfirm:!0,cancelText:Pe,confirmText:Ae,onCancel:()=>Ue(!1),onConfirm:()=>Ue(!0)}}}))},alertAsync:he=>{let{title:ce,desc:Ee,isHTML:Se,confirmText:De}=he;return new Promise(Ae=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ce,desc:Ee,isHTML:Se,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:De,onConfirm:()=>Ae()}}}))},alertAsyncWide:he=>{let{title:ce,desc:Ee,isHTML:Se,confirmText:De}=he;return new Promise(Ae=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ce,desc:Ee,isHTML:Se,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:De,onConfirm:()=>Ae()}}}))},alertAsyncBlocked:he=>{let{title:ce,desc:Ee,isHTML:Se,confirmText:De}=he;return new Promise(Ae=>V({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ce,desc:Ee,isHTML:Se,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:De,onConfirm:()=>Ae()}}}))},promptGetPasswordAsync:(he,ce)=>new Promise(Ee=>V({type:"modal:update:state",payload:{previewAuthModal:{isOpen:he,isWrongPwd:ce,onConfirm:Se=>Se&&Ee(Se)}}})),loginAsync:he=>{let{onCancel:ce=Ce,onConfirm:Ee=Ce,type:Se="signin",source:De}=he;return V({type:"modal:update:state",payload:{loginModal:{source:De,isOpen:!0,type:Se,onCancel:ce,onConfirm:Ee}}})},teamSelectModalAsync:he=>{let{projectCid:ce="",onCancel:Ee=Ce,onConfirm:Se=Ce}=he;return V({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:ce,onCancel:Ee,onConfirm:Se}}})},sharingAsync:he=>{let{project:ce,theme:Ee,isGuestMode:Se,screenMetaList:De=[],onUpdateProject:Ae=Ce,extraInfo:Pe=H,screenMetaCidToVisit:we,user:Ue}=he;return V({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:ce,theme:Ee,extraInfo:Pe,isGuestMode:Se,screenMetaList:De,onUpdateProject:Ae,screenMetaCidToVisit:we,user:Ue}}})},chargeAsync:he=>V({type:"modal:update:state",payload:{chargeOverlay:{isOpen:!0,...he}}})}),Ce=()=>{};var Le=t(46295),Xe=t(62609);const{MB:ye}=window;ye.f.inSharing=!0;const Qe=V=>{let{initialData:B,designOptions:W,previewOptions:k,popupHelper:Y,sharing:J,password:te,api:{requestProjectFullDataByAccessToken:fe,requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:he,requestSliceZipByArtboardId:ce,checkSharingPermission:Ee,fetchProjectComment:Se,fetchProjectScreenCommentThreadCountMap:De,requestProjectShare:Ae,requestUserCommonGuidesData:Pe,updateUserCommonGuidesData:we,fetchCreateCommentThread:Ue,fetchCreateComment:it,fetchDeleteCommentThread:at,fetchDeleteComment:mt,updateProjectBasicsInfo:gt,updateComboProjectBasicsInfo:Lt}}=V;const{isMobile:Gt,isIOSClient:It,isStandAlone:_t,isHTMLZip:St}=k;ye.config.minFS=calcMinFontSize(),(_t||It)&&(document.documentElement.style.height="100vh");const{runnerController:ut,messageBucket:xt,webpackInterface:Ht,PreviewApp:Bt}=createPreviewRelated(getPreviewComponentByOptions(k));return setExternal({api:{requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:he,requestSliceZipByArtboardId:ce,checkSharingPermission:Ee,fetchProjectComment:Se,fetchProjectScreenCommentThreadCountMap:De,requestUserCommonGuidesData:Pe,updateUserCommonGuidesData:we,fetchCreateCommentThread:Ue,fetchCreateComment:it,fetchDeleteCommentThread:at,fetchDeleteComment:mt,updateProjectBasicsInfo:gt,updateComboProjectBasicsInfo:Lt}}),Object.assign(ye,{runnerController:ut,messageBucket:xt,webpackInterface:Ht,global:{popupHelper:Y,designOptions:W}}),ye.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:k}}),{requestData:async Kt=>{var Dt,tr,Rt,rr;let{projectAccessToken:kt,projectEncryptedPassword:Tr,isPasswordRequired:_r,projectBasicCid:jr}=Kt;const{user:Sr,org:Er,team:Lr,orgList:Or,preference:Kr,MBSketchPluginDownloadURL:wr,canEditByCurrentUser:Ir,project_basic:zr,project_meta:an,space:cn}=B,ln=getIsNeedInputPassword(Sr,cn,zr);let Dr=loadProjectEncryptedPassword(kt);const un=await tryCheckAuthorization(kt,Dr);if(_r&&ln&&un.status===403){var Vr;ye==null||(Vr=ye.messageBucket)==null||Vr.send("ready"),Dr=await checkAuthorizationWithPrompt(kt,createPopupHelper()),saveProjectEncryptedPassword(kt,Dr)}let br,xr;try{const{projectBasic:Wt,projectMeta:Ar}=await requestProjectFullDataFlat4ReadOnly({projectBasicCid:jr,accessToken:kt,project_basic:zr,project_meta:an,password:Dr||te});br=Wt,xr=Ar}catch(Wt){return setTimeout(()=>{var Ar,$r;return ye==null||(Ar=ye.messageBucket)==null?void 0:Ar.send("mobileLoadProjectError",{errMsg:"\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-"+(ye!=null&&($r=ye.user)!=null&&$r.id?"\u5DF2\u767B\u5F55\u4F46\u975E\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55")})},1e3),crashedPageWithUser(Wt)}ye.webpackInterface.store.dispatch({type:"entry:preview:update:current:sharing",payload:{sharing:J}}),ye.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:Kr||{}}});const dn=Ir&&(xr.is_org_project?!((Dt=br)!=null&&Dt.expired):!((tr=br)!=null&&tr.expired)||Sr.apps.length<=Sr.free_projects_count);if(Object.assign(ye,{user:Sr||{},canEditByCurrentUser:dn,org:Er||void 0}),ye.webpackInterface.store.dispatch({type:"entry:state:init"}),(Rt=ye.user)!=null&&Rt.id&&Er)try{const Wt=await DesignAPI.requestOrgMembers(Er.cid);ye.members=Wt}catch(Wt){console.log(Wt)}(rr=ye.user)!=null&&rr.id&&ye.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"}),hideLoading();let Zr="[]";try{const{guide:Wt}=await Pe();Zr=(Wt==null?void 0:Wt.workspace_guides)||[]}catch(Wt){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}return initCommonGuide({store:ye.webpackInterface.store,commonGuidesData:Zr,api:{updateUserCommonGuidesData:we},isDesign:!1,isPreview:!0}),{projectAlike:br,projectMeta:xr,projectShare:J}},renderPreview:(Kt,Dt,tr,Rt)=>{if(Rt!=null&&Rt.screen_visible_switch&&(Rt==null?void 0:Rt.screen_visible_list.length)===0)return setTimeout(()=>{var _r;return ye==null||(_r=ye.messageBucket)==null?void 0:_r.send("mobileLoadProjectError",{errMsg:"\u9875\u9762\u65E0\u753B\u677F\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),_jsx(CrashedPage,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")});const rr=new KeyboardManager,kt=new URLSearchParams(location.search),Tr=Gt?"preview":kt.has("inspect")?"inspect":kt.has("comment")?"comment":"preview";return _jsx(KeyboardManagerContext.Provider,{value:rr,children:_jsx(TooltipsManagerProvider,{children:_jsx(Bt,{store:Ht.store,previewMode:Tr,projectAlike:Kt,projectMeta:Dt,projectShare:Rt})})})}}},Ye=V=>{let{initialData:B,designOptions:W,previewOptions:k,popupHelper:Y,sharing:J,password:te,api:{requestProjectFullDataByAccessToken:fe,requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:he,requestSliceZipByArtboardId:ce,checkSharingPermission:Ee,requestProjectShare:Se,requestUserCommonGuidesData:De,updateUserCommonGuidesData:Ae,updateProjectBasicsInfo:Pe,updateComboProjectBasicsInfo:we}}=V;const{isMobile:Ue,isIOSClient:it,isStandAlone:at,isHTMLZip:mt}=k;ye.config.minFS=(0,i.T_)(),(at||it)&&(document.documentElement.style.height="100vh");const{runnerController:gt,messageBucket:Lt,webpackInterface:Gt,PreviewApp:It}=(0,Jt.o)(dr(k));return(0,lt.J)({api:{requestSketchArtboardList:me,requestSketchArtboardById:de,requestSliceByArtboardId:he,requestSliceZipByArtboardId:ce,checkSharingPermission:Ee,requestUserCommonGuidesData:De,updateUserCommonGuidesData:Ae,updateProjectBasicsInfo:Pe,updateComboProjectBasicsInfo:we}}),Object.assign(ye,{runnerController:gt,messageBucket:Lt,webpackInterface:Gt,global:{popupHelper:Y,designOptions:W}}),ye.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:k}}),{requestData:async _t=>{var St;let{projectAccessToken:ut,projectEncryptedPassword:xt,isPasswordRequired:Ht,projectBasicCid:Bt}=_t;const{user:Kt,org:Dt,team:tr,orgList:Rt,preference:rr,MBSketchPluginDownloadURL:kt,canEditByCurrentUser:Tr,project_basic:_r,project_meta:jr,space:Sr}=B,Er=Nt(ut);let Lr,Or;try{const{projectBasic:wr,projectMeta:Ir}=await(0,At.jr)({projectBasicCid:Bt,accessToken:ut,project_basic:_r,project_meta:jr,password:Er||te});Lr=wr,Or=Ir}catch(wr){return(0,Ut.mB)(wr)}return ye.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:J}}),ye.webpackInterface.store.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:(St=J.highlight)!=null?St:!0}}),ye.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:rr||{}}}),Object.assign(ye,{user:Kt||{},canEditByCurrentUser:!1,org:Dt||void 0}),ye.webpackInterface.store.dispatch({type:"entry:state:init"}),(0,Et.Z)(),{projectAlike:Lr,projectMeta:Or}},renderPreview:(_t,St,ut,xt)=>{if(xt!=null&&xt.screen_visible_switch&&(xt==null?void 0:xt.screen_visible_list.length)===0)return setTimeout(()=>{var Dt;return ye==null||(Dt=ye.messageBucket)==null?void 0:Dt.send("mobileLoadProjectError",{errMsg:"\u9875\u9762\u65E0\u753B\u677F\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),(0,u.jsx)(w.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>(0,Ut.HM)("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")});const Ht=new ct.Sm,Bt=new URLSearchParams(location.search),Kt=Ue?"preview":Bt.has("inspect")?"inspect":Bt.has("comment")?"comment":"preview";return(0,u.jsx)(ct.XC.Provider,{value:Ht,children:(0,u.jsx)(Ot.Z,{children:(0,u.jsx)(It,{store:Gt.store,previewMode:Kt,projectAlike:_t,projectMeta:St,projectShare:xt})})})}}},st=V=>{let{initialData:B,designOptions:W,previewOptions:k,popupHelper:Y,api:{requestProjectFullDataByAccessToken:J,requestSketchArtboardList:te,requestSketchArtboardById:fe,requestSliceByArtboardId:me,requestSliceZipByArtboardId:de,checkSharingPermission:he,fetchProjectComment:ce,fetchProjectScreenCommentThreadCountMap:Ee,requestProjectShare:Se,requestUserCommonGuidesData:De,updateUserCommonGuidesData:Ae,fetchCreateCommentThread:Pe,fetchCreateComment:we,fetchDeleteCommentThread:Ue,fetchDeleteComment:it,updateProjectBasicsInfo:at,updateComboProjectBasicsInfo:mt},experienceLoginModalHelper:gt}=V;const{isIOSClient:Lt,isStandAlone:Gt}=k,It=projectShareMock;ye.config.minFS=calcMinFontSize(),(Gt||Lt)&&(document.documentElement.style.height="100vh");const{runnerController:_t,messageBucket:St,webpackInterface:ut,PreviewApp:xt}=createPreviewRelated(getPreviewComponentByOptions(k));return setExternal({api:{requestSketchArtboardList:te,requestSketchArtboardById:fe,requestSliceByArtboardId:me,requestSliceZipByArtboardId:de,checkSharingPermission:he,fetchProjectComment:ce,fetchProjectScreenCommentThreadCountMap:Ee,requestUserCommonGuidesData:De,updateUserCommonGuidesData:Ae,fetchCreateCommentThread:Pe,fetchCreateComment:we,fetchDeleteCommentThread:Ue,fetchDeleteComment:it,updateProjectBasicsInfo:at,updateComboProjectBasicsInfo:mt}}),Object.assign(ye,{runnerController:_t,messageBucket:St,webpackInterface:ut,global:{popupHelper:Y,designOptions:W,experienceLoginModalHelper:gt}}),ye.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:k}}),{requestData:async Ht=>{var Bt;let{projectBasicCid:Kt}=Ht;const{user:Dt,org:tr,preference:Rt}=B,{projectBasic:rr,projectMeta:kt}=await requestExperienceFullDataFlat({projectBasicCid:Kt});return ye.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:It}}),ye.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:Rt||{}}}),Object.assign(ye,{user:Dt||{},canEditByCurrentUser:!1,org:tr||void 0}),ye.webpackInterface.store.dispatch({type:"entry:state:init"}),(Bt=ye.user)!=null&&Bt.id&&ye.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"}),hideLoading(),{projectAlike:rr,projectMeta:kt}},renderPreview:(Ht,Bt,Kt)=>{const Dt=new KeyboardManager,tr="preview";return _jsx(KeyboardManagerContext.Provider,{value:Dt,children:_jsx(TooltipsManagerProvider,{children:_jsx(xt,{store:ut.store,previewMode:tr,projectAlike:Ht,projectMeta:Bt,projectShare:It})})})}}};var rt=t(38625),ot=t(32380),Vt=t(37506),Zt=t(53236),Cr=t(70826);const Wr=V=>{let{projectMeta:B,screenGlueList:W,screenMetaList:k,screenObjectList:Y,nextUpperCid:J,nextProjectMetaCid:te=getRandomProjectMetaCid()}=V;const fe=buildProjectDocument({projectMeta:B,screenGlueList:W,screenMetaList:k,screenObjectList:Y}),{projectDocument:me}=remapProjectStoreLocalProjectDocument(fe,createRemapOptionForFullProjectDocument({projectMetaCid:B.cid,remapProjectMetaCid:te})),{projectMeta:de,screenGlueList:he,screenMetaList:ce,screenObjectList:Ee}=unbuildProjectDocument(me);return de.upper_cid=J,{projectMeta:de,screenGlueList:he,screenMetaList:ce,screenObjectList:Ee}};var Ur=t(44766),Xr=t(15670),Yr=t(67832);const q=async(V,B,W)=>{const k=packFlatTree(V),Y=gzipStringToU8A(k),J="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:B,treLen:String(Y.byteLength),treRawLen:String(k.length)}),te=await fetch(J,{method:"POST",body:Y,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(W))}});if(!te.ok)throw Object.assign(new Error("failed to create new flpak: "+J),{status:te.status});return te.json()};var d=t(59729);const b=async V=>{MB.safeLoading&&MB.safeLoading(I18N.dApis.save);const B=MB.getRootProject(),W={name:B.title,device:B.device,model:B.model,width:B.width,height:B.height,attr:B.attr};try{const{clientData:{upperCid:k}}=await newFlpakFromTree(window.fssDat.getFlatStore().getFlatTree(),V,W);refreshLocationHref("/proto/design/"+k)}catch(k){console.error("eTASAL",k)}},l={workspace:"me",link_line:!0,link_display:2,grid:!1,grid_size:10,ruler:!0,show_ruler_line:!0,show_align_line:!0,guide:!0,dashboard_guides:'["switch_workspace","design_mode"]',app_order:"asc",theme:"light",contain_select:!1,show_tooltip:!0,show_fs_warning:!0,show_toolbar_text:!0,show_drag_mode:!0,layout_information:null,recent_icons:"[]",recent_svg_icons:"[]",icon_size:null,icon_color:null,notification_status_filter:"all",builtin_list_invisible:"[]",show_daily_tips:!0,use_native_eyedropper:!1,state_link_default_transition:1,panel_link_default_transition:1},S=async()=>({...await requestWorkspaceInitialData(),preference}),O=async V=>{MB.safeLoading&&MB.safeLoading("\u9879\u76EE\u6062\u590D\u4E2D\uFF0C\u8BF7\u7A0D\u540E...");const{prevProjectBasicAttrs:B,projectMeta:W,importProjectBasicCid:k}=MB.importData,Y={...W,upper_cid:k};await fetchPostHead("/api/admin/v3/project_basic/recovery",{upper_cid:k,team_cid:V,project_meta:Y,prevProjectBasicAttrs:B})},z=async()=>{const{projectDocumentToRecover:V,isImportImage:B,importImagePrefix:W}=window.RECOVERY_DATA,{projectAlikeBasicJSON:k,projectMeta:Y,screenGlueNodeList:J}=V,te=[],{screenGlueList:fe,screenMetaList:me,screenObjectList:de}=unbuildProjectDocument({projectMeta:Y,screenGlueNodeList:J}),{cid:he,name:ce,device:Ee,model:Se,width:De,height:Ae,visibility:Pe}=k,we=getRandomProjectMetaCid(),{projectMeta:Ue,screenGlueList:it,screenMetaList:at,screenObjectList:mt}=duplicateProjectMeta({nextUpperCid:he,nextProjectMetaCid:we,projectMeta:Y,screenGlueList:fe,screenMetaList:me,screenObjectList:de}),gt=getRandomCid("pr");if(MB.importData={prevProjectBasicAttrs:{name:ce,device:Ee,model:Se,width:De,height:Ae,visibility:Pe},projectMeta:Ue,importProjectBasicCid:gt},B){const Lt=new Set([k.splash]);for(const{stateList:_t}of mt)for(const{itemList:St}of _t)for(const ut of St)ut.image&&ut.image.charAt(0)==="/"&&Lt.add(""+W+ut.image);const Gt=[...Lt].filter(Boolean),It={};for(const _t of Gt){const{asset:St}=await fetchPutJSON("/api/admin/v3/assets/create_from_url",{project_cid:gt,asset_url:_t,user_id:MB.user.id});It[_t]=St.image}for(const{stateList:_t}of mt)for(const{itemList:St}of _t)for(const ut of St)ut.image&&ut.image.charAt(0)==="/"&&(ut.image=It[""+W+ut.image])}return{projectMeta:Ue,screenGlueList:it,screenMetaList:at,projectScreenObjectList:mt,projectBasic:k,screenAlignList:te}};var re=t(7221);const oe=async V=>({...await fetchGetJSON("/api/web/v3/experience/design/initial?market_template_cid="+V),preference:{workspace:"me",link_line:!0,link_display:2,grid:!1,grid_size:10,ruler:!0,show_ruler_line:!0,show_align_line:!0,guide:!0,dashboard_guides:'["switch_workspace", "design_mode"]',app_order:"asc",theme:"light",contain_select:!1,show_tooltip:!0,show_fs_warning:!0,show_drag_mode:!0,layout_information:null,recent_icons:"[]",recent_svg_icons:"[]",icon_size:null,icon_color:null,notification_status_filter:"all",builtin_list_invisible:"[]",show_daily_tips:!0,state_link_default_transition:1,panel_link_default_transition:1,recently_used_screen_meta_icons:"[]"}}),ae=async V=>{let{projectUpperCid:B}=V;const{projectMetaList:[W],screenGlueList:k,screenMetaList:Y,projectScreenObjectList:J,projectUpper:te,screenAlignList:fe}=await fetchDataMarketTemplate({projectUpperCid:B}),me=getRandomProjectMetaCid();W.upper_type="project-basic";const{projectMeta:de,screenGlueList:he,screenMetaList:ce,screenObjectList:Ee}=duplicateProjectMeta({nextUpperCid:B,nextProjectMetaCid:me,projectMeta:W,screenGlueList:k,screenMetaList:Y,screenObjectList:J}),Se=new Map;return ce.forEach((De,Ae)=>{const Pe=Y[Ae],{cid:we,project_meta_cid:Ue}=Pe,it="/snapshot.png?projectMetaCid="+Ue+"&screenMetaCid="+we+"&screenStateCid=FIRST_STATE&zoomMode=thumbnail&cacheTag=cache";Se.set(De.cid,it)}),MB.experienceData={projectUpperCid:B,projectMeta:de,experienceSnapshotUrlMap:Se},{projectMeta:de,screenGlueList:he,screenMetaList:ce,projectScreenObjectList:Ee,projectBasic:{...te,limitation:{collaborators:0,storage:2e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:6553500,screens:6553500,commentable:!0}},screenAlignList:fe,experienceSnapshotUrlMap:Se}},ve=async()=>({marketTemplateList:[],marketTemplateListMap:new Map,iconLibraryList:[],iconLibraryListMap:new Map}),je=V=>{const B={...V,created_at:new Date().valueOf()},W={cid:getRandomCid("p"),mtime:Date.now()/1e3,upper_cid:B.cid,upper_type:"user-combo"};return{user_combo_group:B,project_meta:W}},ke=V=>{let{isLoggedIn:B,isImport:W}=V;return{requestUserAssetGroupList:()=>B||W?designAPI.requestUserAssetGroupList():{userAssetGroupList:[]},requestConfigurationData:designAPI.requestConfigurationData,requestConfigurationSquareTopicData:designAPI.requestConfigurationSquareTopicData,requestWorkspaceConfiguration:designAPI.requestWorkspaceConfiguration,requestConfigurationHotKeyWords:designAPI.requestConfigurationHotKeyWords,requestRecentKeywords:designAPI.requestRecentKeywords,requestDeleteRecentKeywords:designAPI.requestDeleteRecentKeywords,requestAddRecentKeywords:designAPI.requestAddRecentKeywords,requestConfigurationWorkspaceLabels:designAPI.requestConfigurationWorkspaceLabels,requestIconGroupIconDataForCid:designAPI.requestIconGroupIconDataForCid,requestFindMarketTemplates:designAPI.requestFindMarketTemplates,requestSearchResourcesData:designAPI.requestSearchResourcesData,requestResourcesDetails:designAPI.requestResourcesDetails,requestHotIcons:designAPI.requestHotIcons,requestMarketTemplateDataFromCid:designAPI.requestMarketTemplateDataFromCid,requestUpdateScreenAlign:designAPI.requestUpdateScreenAlign,requestSketchArtboardList:async()=>({artboards:[]}),requestSketchArtboardById:()=>null,requestSliceByArtboardId:async()=>({slices:[]}),requestSliceZipByArtboardId:async()=>({url:"/mock-slice.zip",status:200}),requestUserCommonGuidesData:async()=>({guide:{dashboard_guides:"",workspace_guides:'["newFeature", "videoTip", "widgetState", "pageState", "trashTip", "versioins"]',workspace_guides_version:"v2",default_team_cid:""},guide_project_template_cid:""}),updateUserCommonGuidesData:()=>null,updateUser2203GuidesData:()=>null,checkSharingPermission:async()=>(await new Promise(k=>setTimeout(k,100)),!0),fetchProjectComment:async()=>({org:null,team:null,members:[],threads:[],comments:[]}),fetchProjectScreenCommentThreadCountMap:()=>null,updateProjectBasicsInfo:()=>null,updateComboProjectBasicsInfo:()=>null,requestProjectShare,updateCurrentProjectShare:()=>null,requestMarketTemplateFullDataByCid:k=>{let{projectUpperCid:Y}=k;return W?requestMarketTemplateFullDataByCidImport():ae({projectUpperCid:Y})},requestUserComboGroupDataFromCid:k=>{let{userComboGroupCid:Y}=k;return B||W?designAPI.requestUserComboGroupDataFromCid({userComboGroupCid:Y}):null},requestUserComboGroupList:k=>B||W?designAPI.requestUserComboGroupList(k):{userComboGroupList:[]},requestCreateUserComboGroup:k=>B||W?designAPI.requestCreateUserComboGroup(k):je(k),requestUpdateUserComboGroup:k=>B||W?designAPI.requestUpdateUserComboGroup(k):{user_combo_group:k},requestDeleteUserComboGroup:k=>B||W?designAPI.requestDeleteUserComboGroup(k):null,requestMarketTemplateDataForLibrary:()=>B||W?designAPI.requestMarketTemplateDataForLibrary():ve(),requestMarketTemplateItemUnused:k=>{let{marketTemplateCid:Y}=k;return B||W?designAPI.requestMarketTemplateItemUnused({marketTemplateCid:Y}):null},requestMarketTemplateItemListDataForLibrary:k=>{let{projectMetaList:Y,screenGlueList:J,screenMetaList:te}=k;return B||W?designAPI.requestMarketTemplateItemListDataForLibrary({projectMetaList:Y,screenGlueList:J,screenMetaList:te}):null},experienceTriggerAllSaveAfterLogin:k=>W?experienceTriggerAllSaveAfterLoginImport(k):experienceTriggerAllSaveAfterLogin(k),requestUserStarredList,requestUserUsedResources,requestStarredResources,requestUnStarredResources,requestResourcesDetailData,requestRecentResourcesList,requestResourcesListForSource,requestUpdateRecentImportResources,requestResourcesListByCategory:k=>{let{category:Y,keyword:J}=k;return designAPI.requestResourcesListByCategory({category:Y,keyword:J})}}},$e=async V=>{let{initialData:B,previewOptions:W,api:k,projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:te,$root:fe,projectBasicCid:me,sharing:de,password:he}=V;const ce={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!B.is_on_premises,isWonderShare:!!B.is_wonder_share},{requestData:Ee,renderPreview:Se}=initPreview({api:k,initialData:B,popupHelper:createPopupHelper(),previewOptions:W,designOptions:ce,sharing:de,password:he});te&&setTimeout(()=>previewNoAccessSaTrack("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801"),0);const{projectAlike:De,projectMeta:Ae,projectShare:Pe}=await Ee({projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:te,projectBasicCid:me}),we=location.hash||"",Ue=we&&we.startsWith("#screen=")&&we.substr(8);ReactDOM.render(Se(De,Ae,Ue,Pe),fe)},He=async V=>{let{initialData:B,previewOptions:W,api:k,projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:te,$root:fe,projectBasicCid:me,sharing:de,password:he}=V;const ce={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!B.is_on_premises,isWonderShare:!!B.is_wonder_share},{requestData:Ee,renderPreview:Se}=Ye({api:k,initialData:B,popupHelper:ee(),previewOptions:W,designOptions:ce,sharing:de,password:he});te&&setTimeout(()=>(0,rt.CQ)("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801"),0);const{projectAlike:De,projectMeta:Ae}=await Ee({projectAccessToken:Y,projectEncryptedPassword:J,isPasswordRequired:te,projectBasicCid:me}),Pe=location.hash||"",we=Pe&&Pe.startsWith("#screen=")&&Pe.substr(8);v.render(Se(De,Ae,we),fe)},ze=async V=>{let{initialData:B,previewOptions:W,$root:k,projectBasicCid:Y}=V;const{user:J}=B,te=!!J,fe={isDesign:!0,isExperience:!te,isLoggedExperience:te,isOnPremises:!!B.is_on_premises,isWonderShare:!!B.is_wonder_share},me=createExperienceAPI({isLoggedIn:te,isImport:!1}),{requestData:de,renderPreview:he}=initExperiencePreview({api:me,initialData:B,popupHelper:createPopupHelper(),previewOptions:W,designOptions:fe,experienceLoginModalHelper}),{projectAlike:ce,projectMeta:Ee}=await de({projectBasicCid:Y}),Se=location.hash||"",De=Se&&Se.startsWith("#screen=")&&Se.substr(8);ReactDOM.render(he(ce,Ee,De),k)};var Fe=t(62737),nt=t(21426),xe=t(1e3);const et=T.default.div.withConfig({displayName:"styles__StyledExampleApp",componentId:"sc-93zovs-0"})(["&{position:absolute;top:0;left:0;bottom:0;right:0;transition:all 0.2s ease-in-out;.mb-loading{position:absolute;top:50%;left:50%;margin-top:-50px;margin-left:-50px;width:100px;height:100px;}}.mb-design-page{&,#mb-toolbar,.mb-left-panel{transition:all 0.2s ease-in-out;}&.is-collapse{opacity:0;#mb-toolbar{transform:translateY(-100%);}.mb-left-panel{transform:translateX(-100%);}.mb-rightpane{transform:translateX(100%);}}}.mb-preview-page{position:absolute;top:0;left:0;width:100%;bottom:0;font-size:12px;transition:all 0.2s ease-in-out;&.is-collapse{opacity:0;}}"]);var Je=t(43980),tt=t(27940),ht=t(4091),qe=t(65155);const Ct=V=>/\/app\/experience\//.test(V),wt=V=>/\/app\/design\//.test(V),jt=V=>/\/app\//.test(V)&&!Ct(V)&&!wt(V);class Mt extends L.PureComponent{constructor(B){var W;super(B),W=this,(0,n.Z)(this,"mousewheelHandle",ce=>{const Ee=ce.deltaX||ce.wheelDeltaX;if(!Ee)return;const Se=document.getElementById("workspace"),De=Se.scrollLeft+Se.offsetWidth===Se.scrollWidth&&Ee>0,Ae=Se.scrollLeft===0&&Ee<0;(De||Ae)&&ce.preventDefault()}),(0,n.Z)(this,"playDesignPageLeaveAnimation",function(ce){return ce===void 0&&(ce=200),W.setState({isDesignCollapse:!0}),new Promise(Ee=>setTimeout(Ee,ce))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var ce;if((0,qe._$)()){(0,qe.gB)(qe.Kk.enterPreview);return}const{initialData:{goback_url:Ee}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(Ee||"/dashboard/"+(((ce=MB.currentOrg)==null?void 0:ce.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(ce,Ee,Se)=>{let{isInspect:De,isComment:Ae}=Se;await this.playDesignPageLeaveAnimation();const we={previewMode:De?"inspect":Ae?"comment":"preview",projectCid:ce,screenCid:Ee};this.setState({isPreview:!0,previewData:we})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new ct.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null};const{popupHelper:k,designOptions:Y,api:J,initialData:te,prepareProjectUpper:fe}=B,{requestData:me,renderDesign:de,renderPreview:he}=(0,nt.a7)({api:J,popupHelper:k,experienceLoginModalHelper:ot.m,initialData:te,designOptions:Y,prepareProjectUpper:fe,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount});this.requestData=me,this.renderDesign=de}componentDidMount(){const B=performance.now(),{projectUpperCid:W,initialData:k,designOptions:Y}=this.props;let J=!1;location.pathname.includes((0,ht.S3)("review"))&&(J=!0),Promise.all([this.requestData(W,J),new Promise(fe=>setTimeout(fe,800))]).then(fe=>{let[{projectAlike:me,projectMeta:de}]=fe;this.setState({projectAlike:me,projectMeta:de},()=>{this.setState({isDataLoaded:!0})});const he=performance.now(),ce=Math.ceil((he-B)/1e3);typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{load_time:ce,project_name:k.projectName,project_cid:W,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&jt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91",preview_type:"\u7F16\u8F91\u6A21\u5F0F"}),ce>30&&(0,Je.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(fe=>{console.error("[ExampleApp] requestData failed",fe),typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:fe,preview_type:"\u7F16\u8F91\u6A21\u5F0F"})});const te=document.getElementById("workspace");te&&te.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){const B=document.getElementById("workspace");B&&B.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0})}render(){const{screenCid:B,designOptions:W}=this.props,{isLoading:k,isDataLoaded:Y,isDesignCollapse:J,isPreview:te,previewData:fe,projectAlike:me,projectMeta:de}=this.state,{renderDesign:he,handleBackToDesign:ce,renderPreview:Ee}=this,{isWonderShare:Se}=W;let De=!1;return location.pathname.includes((0,ht.S3)("review"))&&(De=!0),(0,u.jsx)(ct.XC.Provider,{value:this.keyboardManager,children:(0,u.jsx)(Ot.Z,{children:(0,u.jsxs)(et,{className:"example-app",children:[Y&&(0,u.jsx)(L.Fragment,{children:(0,u.jsx)(Fe.Z,{screenCid:B,isCollapse:J,projectAlike:me,projectMeta:de,renderDesign:he,isFromReadOnly:De})}),k&&(0,u.jsx)(g.Z,{className:"mb-loading",isNormal:Se})]})})})}}(0,n.Z)(Mt,"propTypes",{api:M().object,initialData:M().object,projectUpperCid:M().string,screenCid:M().string,designOptions:M().object,prepareProjectUpper:M().func,popupHelper:M().object});class $t extends L.PureComponent{constructor(B){var W;super(B),W=this,(0,n.Z)(this,"playDesignPageLeaveAnimation",function(Pe){return Pe===void 0&&(Pe=200),W.setState({isDesignCollapse:!0}),new Promise(we=>setTimeout(we,Pe))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var Pe;if((0,qe._$)()){(0,qe.gB)(qe.Kk.enterPreview);return}const{initialData:{goback_url:we}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(we||"/dashboard/"+(((Pe=MB.currentOrg)==null?void 0:Pe.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(Pe,we,Ue)=>{let{isInspect:it,isComment:at}=Ue;await this.playDesignPageLeaveAnimation();const gt={previewMode:it?"inspect":at?"comment":"preview",projectCid:Pe,screenCid:we};this.setState({isPreview:!0,previewData:gt})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new ct.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null,projectShare:void 0};const{popupHelper:k,designOptions:Y,api:J,initialData:te,prepareProjectUpper:fe,sharing:me,password:de,isHtmlZip:he,isSquare:ce,isEmbedV2:Ee}=B,Se=!(he||ce||Ee),{requestData:De,renderDesign:Ae}=(0,nt.nr)({api:J,popupHelper:k,experienceLoginModalHelper:ot.m,initialData:te,designOptions:Y,prepareProjectUpper:fe,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:me,password:de,showGuide:Se});this.requestData=De,this.renderDesign=Ae}componentDidMount(){const B=performance.now(),{projectUpperCid:W,initialData:k,designOptions:Y}=this.props;let J=!1;location.pathname.includes((0,ht.S3)("review"))&&(J=!0),Promise.all([this.requestData(W,J),new Promise(te=>setTimeout(te,800))]).then(te=>{let[{projectAlike:fe,projectMeta:me,projectShare:de}]=te;this.setState({projectAlike:fe,projectMeta:me,projectShare:de},()=>{this.setState({isDataLoaded:!0})});const he=performance.now(),ce=Math.ceil((he-B)/1e3);typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{load_time:ce,project_name:k.projectName,project_cid:W,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&jt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91",preview_type:"\u53EA\u8BFB\u6A21\u5F0F"}),ce>30&&(0,Je.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(te=>{console.error("[ExampleApp] requestData failed",te),typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:te,preview_type:"\u53EA\u8BFB\u6A21\u5F0F"})})}render(){const{screenCid:B,designOptions:W,isHtmlZip:k}=this.props,{isLoading:Y,isDataLoaded:J,isDesignCollapse:te,projectAlike:fe,projectMeta:me,projectShare:de}=this.state,{renderDesign:he}=this,{isWonderShare:ce}=W;return de!=null&&de.screen_visible_switch&&(de==null?void 0:de.screen_visible_list.length)===0?(0,u.jsx)(w.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}):(0,u.jsx)(ct.XC.Provider,{value:this.keyboardManager,children:(0,u.jsx)(Ot.Z,{children:(0,u.jsxs)(et,{className:"example-app",children:[J&&(0,u.jsx)(L.Fragment,{children:(0,u.jsx)(tt.R,{screenCid:B,isCollapse:te,projectAlike:fe,projectMeta:me,renderDesign:he,projectShare:de,isHtmlZip:k})}),Y&&(0,u.jsx)(g.Z,{className:"mb-loading",isNormal:ce})]})})})}}(0,n.Z)($t,"propTypes",{api:M().object,initialData:M().object,projectUpperCid:M().string,screenCid:M().string,designOptions:M().object,prepareProjectUpper:M().func,popupHelper:M().object,sharing:M().object,password:M().string,isHtmlZip:M().bool,isSquare:M().bool,isEmbedV2:M().bool});class gr extends L.PureComponent{constructor(B){var W;super(B),W=this,(0,n.Z)(this,"playDesignPageLeaveAnimation",function(we){return we===void 0&&(we=200),W.setState({isDesignCollapse:!0}),new Promise(Ue=>setTimeout(Ue,we))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var we;if((0,qe._$)()){(0,qe.gB)(qe.Kk.enterPreview);return}const{initialData:{goback_url:Ue}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(Ue||"/dashboard/"+(((we=MB.currentOrg)==null?void 0:we.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(we,Ue,it)=>{let{isInspect:at,isComment:mt}=it;await this.playDesignPageLeaveAnimation();const Lt={previewMode:at?"inspect":mt?"comment":"preview",projectCid:we,screenCid:Ue};this.setState({isPreview:!0,previewData:Lt})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new ct.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null,projectShare:void 0};const{popupHelper:k,designOptions:Y,api:J,initialData:te,prepareProjectUpper:fe,sharing:me,password:de,isHtmlZip:he,isSquare:ce,isEmbedV2:Ee,projectVersion:Se}=B,De=!(he||ce||Ee),{requestData:Ae,renderDesign:Pe}=(0,nt.oI)({api:J,popupHelper:k,experienceLoginModalHelper:ot.m,initialData:te,designOptions:Y,prepareProjectUpper:fe,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:me,password:de,showGuide:De,projectVersion:Se});this.requestData=Ae,this.renderDesign=Pe,MB.isVersion=!0}componentDidMount(){const B=performance.now(),{projectUpperCid:W,initialData:k,designOptions:Y}=this.props;let J=!1;location.pathname.includes((0,ht.S3)("review"))&&(J=!0),Promise.all([this.requestData(W,J),new Promise(te=>setTimeout(te,800))]).then(te=>{let[{projectAlike:fe,projectMeta:me,projectShare:de}]=te;this.setState({projectAlike:fe,projectMeta:me,projectShare:de},()=>{this.setState({isDataLoaded:!0})});const he=performance.now(),ce=Math.ceil((he-B)/1e3);typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{load_time:ce,project_name:k.projectName,project_cid:W,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&jt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91",preview_type:"\u7248\u672C\u7BA1\u7406"}),ce>30&&(0,Je.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(te=>{console.error("[ExampleApp] requestData failed",te),typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:te,preview_type:"\u7248\u672C\u7BA1\u7406"})})}render(){const{screenCid:B,designOptions:W,isHtmlZip:k}=this.props,{isLoading:Y,isDataLoaded:J,isDesignCollapse:te,projectAlike:fe,projectMeta:me,projectShare:de}=this.state,{renderDesign:he}=this,{isWonderShare:ce}=W;return de!=null&&de.screen_visible_switch&&(de==null?void 0:de.screen_visible_list.length)===0?(0,u.jsx)(w.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}):(0,u.jsx)(ct.XC.Provider,{value:this.keyboardManager,children:(0,u.jsx)(Ot.Z,{children:(0,u.jsxs)(et,{className:"example-app",children:[J&&(0,u.jsx)(L.Fragment,{children:(0,u.jsx)(tt.R,{screenCid:B,isCollapse:te,projectAlike:fe,projectMeta:me,renderDesign:he,projectShare:de,isHtmlZip:k})}),Y&&(0,u.jsx)(g.Z,{className:"mb-loading",isNormal:ce})]})})})}}(0,n.Z)(gr,"propTypes",{api:M().object,initialData:M().object,projectUpperCid:M().string,screenCid:M().string,designOptions:M().object,prepareProjectUpper:M().func,popupHelper:M().object,sharing:M().object,password:M().string,isHtmlZip:M().bool,isSquare:M().bool,isEmbedV2:M().bool,projectVersion:M().string});class vr extends L.PureComponent{constructor(B){var W;super(B),W=this,(0,n.Z)(this,"playDesignPageLeaveAnimation",function(Pe){return Pe===void 0&&(Pe=200),W.setState({isDesignCollapse:!0}),new Promise(we=>setTimeout(we,Pe))}),(0,n.Z)(this,"handleBackButtonClick",async()=>{var Pe;if((0,qe._$)()){(0,qe.gB)(qe.Kk.enterPreview);return}const{initialData:{goback_url:we}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(we||"/dashboard/"+(((Pe=MB.currentOrg)==null?void 0:Pe.cid)||"me"))}),(0,n.Z)(this,"handlePlayButtonClick",async(Pe,we,Ue)=>{let{isInspect:it,isComment:at}=Ue;await this.playDesignPageLeaveAnimation();const gt={previewMode:it?"inspect":at?"comment":"preview",projectCid:Pe,screenCid:we};this.setState({isPreview:!0,previewData:gt})}),(0,n.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,n.Z)(this,"keyboardManager",new ct.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null};const{popupHelper:k,designOptions:Y,api:J,initialData:te,prepareProjectUpper:fe,sharing:me,password:de,isHtmlZip:he,isSquare:ce,isEmbedV2:Ee}=B,Se=!(he||ce||Ee),{requestData:De,renderDesign:Ae}=(0,nt.lS)({api:J,popupHelper:k,experienceLoginModalHelper:ot.m,initialData:te,designOptions:Y,prepareProjectUpper:fe,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:me,password:de,showGuide:Se});this.requestData=De,this.renderDesign=Ae}componentDidMount(){const B=performance.now(),{projectUpperCid:W,initialData:k,designOptions:Y}=this.props;Promise.all([this.requestData(W),new Promise(J=>setTimeout(J,800))]).then(J=>{let[{projectAlike:te,projectMeta:fe}]=J;this.setState({projectAlike:te,projectMeta:fe},()=>{this.setState({isDataLoaded:!0})});const me=performance.now(),de=Math.ceil((me-B)/1e3);typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{load_time:de,project_name:k.projectName,project_cid:W,project_type:"\u539F\u578B V8",success:1,source:Y.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&jt(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91"}),de>30&&(0,Je.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(J=>{console.error("[ExampleApp] requestData failed",J),typeof xe.U1=="function"&&(0,xe.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:J})})}render(){const{screenCid:B,designOptions:W,isHtmlZip:k}=this.props,{isLoading:Y,isDataLoaded:J,isDesignCollapse:te,projectAlike:fe,projectMeta:me}=this.state,{renderDesign:de}=this,{isWonderShare:he}=W;return(0,u.jsx)(ct.XC.Provider,{value:this.keyboardManager,children:(0,u.jsx)(Ot.Z,{children:(0,u.jsxs)(et,{className:"example-app",children:[J&&(0,u.jsx)(L.Fragment,{children:(0,u.jsx)(tt.R,{screenCid:B,isCollapse:te,projectAlike:fe,projectMeta:me,renderDesign:de,isHtmlZip:k})}),Y&&(0,u.jsx)(g.Z,{className:"mb-loading",isNormal:he})]})})})}}(0,n.Z)(vr,"propTypes",{api:M().object,initialData:M().object,projectUpperCid:M().string,screenCid:M().string,designOptions:M().object,prepareProjectUpper:M().func,popupHelper:M().object,sharing:M().object,password:M().string,isHtmlZip:M().bool,isSquare:M().bool,isEmbedV2:M().bool});var Mr=t(92029);const er="hzv3",Pr="pid",Jr="pbj",Qr="psol",Nr="psv2am",pn=()=>isBasicObject(window[TAG_HTML_ZIP_V3]),yr=()=>(0,Mr.hK)(window[er],"missing htmlZipV3 data"),qr=async()=>(yr(),window[er][Pr]),Fr=async()=>{yr();const{project_basic:V,screen_aligns:B,project_metas:W,screen_glues:k,screen_metas:Y}=window[er][Jr];return{projectBasic:V,screenAlignList:B,projectMetaList:W,screenGlueList:k,screenMetaList:Y,projectScreenObjectList:window[er][Qr]}},en=async()=>(yr(),{artboards:Object.values(window[er][Nr]).map(V=>{let{artboard:B}=V;return B})}),tn=async V=>(yr(),window[er][Nr][V]),hn=async()=>{yr();const{project_share:V}=window[TAG_HTML_ZIP_V3][TAG_PROJECT_BASIC_JSON];return{projectShare:V}},Gr={requestPreviewInitialData:qr,requestProjectFullDataByAccessToken:async V=>{let{projectEncryptedPassword:B}=V;const{projectMetaList:[W],screenGlueList:k,screenMetaList:Y,projectScreenObjectList:J,projectBasic:te,screenAlignList:fe}=await Fr(),{password:me}=te;if(me&&B!==me)throw new Error("error password");return{projectMeta:W,screenGlueList:k,screenMetaList:Y,projectScreenObjectList:J,projectBasic:te,screenAlignList:fe}},requestSketchArtboardList:en,requestSketchArtboardById:tn,requestProjectShare:async V=>({projectShare:{screen_visible_switch:!1,screen_visible_list:[]}}),fetchDataProjectBasic:Fr};var Hr=t(61134),rn=t(46131),nn=t(47518);t.p="./mb-proto2/";const sn=document.getElementById("workspace"),on=async()=>{var V;const B=Yt({isHTMLZip:!0});(0,pt.tq)()&&$("body").addClass("mobile");let W=await(0,D.vn)();const{isOnPremises:k,isWonderShare:Y,projectUpper:J,projectMeta:te}=W;W={...W,projectName:J.name,is_on_premises:k,is_wonder_share:Y,project_basic:J,project_meta:te};const fe=(0,nn.D)({project:J}),{locale:me,projectName:de,is_on_premises:he,is_wonder_share:ce}=W,Ee=await(0,rn.Q)(me);document.title=""+(0,le.FQ)(J.name||J.title),!he&&(0,xe.wb)(),(0,Hr.N_)("isOnPremises",!!he),(0,Hr.N_)("isWonderShare",!!ce);const{projectAccessToken:Se,projectEncryptedPassword:De,isPasswordRequired:Ae}=W,Pe=(V=new URLSearchParams(location.search))==null?void 0:V.get("view_mode"),we=window.HZv5_PREVIEW_MODE||"";if(Pe?Pe==="device":we==="device")(0,Et.v)(Ee,de),await He({initialData:W,previewOptions:B,api:Gr,projectAccessToken:Se,projectEncryptedPassword:De,isPasswordRequired:Ae,sharing:fe,$root:document.getElementById("workspace")});else{const mt={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!he,isWonderShare:!!ce,guideType:void 0};v.render((0,u.jsx)(vr,{initialData:W,designOptions:mt,api:Gr,projectAccessToken:Se,projectEncryptedPassword:De,isPasswordRequired:Ae,sharing:fe,isHtmlZip:!0}),sn)}};document.addEventListener("DOMContentLoaded",async()=>{await on()})},78467:(G,N,t)=>{"use strict";t.d(N,{HM:()=>a,mB:()=>n});var v=t(77276),D=t(45090),w=t(46198),L=t(95534),p=t(25797),R=t(35269);const o=document.getElementById("workspace"),i=(0,D.createGlobalStyle)([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),E=(_,h,f)=>{ReactDOM.render(_jsxs(_Fragment,{children:[_jsx(i,{}),_jsx(CrashedPage,{errorType:_.status||401,customTitle:h,customDes:f})]}),o)},n=async _=>{var h;let f,A,y,s,e;try{({user:e}=await(0,p.EE)("/api/web/v3/initial"))}catch(r){f=()=>{w.render((0,R.jsx)(L.Z,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:()=>location.reload()}),document.getElementById("IBOT_MODAL_ROOT"))},A="\u767B\u5F55",s=()=>{w.render((0,R.jsx)(L.Z,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:()=>location.reload()}),document.getElementById("IBOT_MODAL_ROOT"))},y="\u6CE8\u518C",e={}}w.render((0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(i,{}),(0,R.jsx)(v.Z,{errorType:_.status||401,identity:1,account:(h=e)==null?void 0:h.email,primaryBtnText:A,primaryBtnClick:f,secondaryBtnText:y,secondaryBtnClick:s})]}),o)},a=(_,h)=>{let f="";_==="zh-CN"?f="/":_==="jp"?f="https://mockitt.wondershare.jp":f="https://mockitt.wondershare.com",location.replace(f)}},57690:(G,N,t)=>{"use strict";t.d(N,{F:()=>D,b:()=>w});var v=t(45090);const D=(0,v.createGlobalStyle)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],L=>L.theme.color_background_split,L=>L.theme.color_background_split_hover,L=>L.theme.color_background_split_hover),w=(0,v.createGlobalStyle)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},52378:(G,N,t)=>{"use strict";t.d(N,{$M:()=>n,Ai:()=>h,EJ:()=>e,Mc:()=>A,Ps:()=>a,bN:()=>y,iw:()=>_,rG:()=>f});var v=t(170),D=t(26131),w=t(2888),L=t(22246),p=t(66918),R=t(13738),o=t(19635),i=t(69432),E=t(60731);const n=r=>v[r]||null,a=r=>{let{prefix:c,iconName:m}=r;switch(c){case"fab":return D[m];case"far":return w[m];case"fas":return L[m];default:return null}},_=r=>{if(p[r])return p[r];throw new Error("iconCat and iconId is undefined")},h=r=>{if(R[r])return R[r];throw new Error("iconCat and iconId is undefined")},f=r=>{if(o[r])return o[r];throw new Error("iconCat and iconId is undefined")},A=r=>{if(i[r])return i[r];throw new Error("iconCat and iconId is undefined")},y=r=>{if(E[r])return E[r];throw new Error("iconCat and iconId is undefined")},s=(r,c,m)=>{if(r&&(c!=="unset"||m)){let P=m?"url(#"+m+")":c;const M=r.children;M&&M.length>0&&M.forEach(C=>{const u=C.getAttribute("fill"),j=C.getAttribute("stroke");j&&j!=="none"?(C.setAttribute("stroke",P),(!u||u==="none")&&C.setAttribute("fill","none")):u&&u!=="none"?(C.setAttribute("fill",P),(!j||j==="none")&&C.setAttribute("stroke","none")):!u&&!j&&C.setAttribute("fill",P),s(C,P)})}},e=(r,c,m)=>{const P='<svg xmlns="http://www.w3.org/2000/svg">'+r+"</svg>",C=new DOMParser().parseFromString(P,"text/html"),u=C.querySelector("svg");return C.querySelector("parsererror")?r:(s(u,c,m),u.innerHTML)}},48290:(G,N,t)=>{"use strict";t.d(N,{C:()=>w,S:()=>L});var v=t(94189);const D=p=>("0"+parseInt(p).toString(16)).slice(-2),w=p=>!p||p==="rgba(0, 0, 0, 0)"||p==="transparent"?"transparent":(p=p.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+D(p[1])+D(p[2])+D(p[3])),L=p=>(0,v.LW)((0,v.LS)(p))},21800:(G,N,t)=>{"use strict";t.d(N,{$e:()=>s,KR:()=>n,SP:()=>f,Ur:()=>o,W_:()=>E,_4:()=>i,ih:()=>e,nJ:()=>a,oe:()=>R});var v=t(18582),D=t(54635);const w="Italic",L=500,p={invisible:0,thin:100,extraLight:200,light:300,regular:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900,extraBlack:1e3},R={12:17,13:19,14:20,16:23,18:25,20:28,28:39,36:50,48:68,72:101},o=(r,c)=>{const m=p[r]||400;return c?Math.max(m,700):m},i=r=>{let c;return Object.entries(p).every(m=>{let[P,M]=m;return M===r?(c=P,!1):!0}),c||"regular"},E=r=>r.includes(w)?r.replace(w,""):r,n=r=>r.includes(w),a=r=>{const c=E(r);return p[c]>=L},_=v.filter(r=>{let{isShowOnMBServer:c}=r;return!c}),h=r=>{let{label:c,family:m,limitedDevices:P}=r;return{label:c,value:m,limitedDevices:P}},f=_.map(h),A=r=>r.includes(w)?""+I18N.dUtils.rich_text_settings.weight[r.replace(w,"")]+I18N.dUtils.rich_text_settings.weight.italic:I18N.dUtils.rich_text_settings.weight[r],y=r=>{const c=v.find(m=>{let{family:P}=m;return P===r});return c?c.typeList.map(m=>({label:A(m),value:m})):[]},s=(r,c)=>{const m=_.find(P=>{let{family:M}=P;return M===r});return m?m.label+"-"+A(c):r+"-"+c},e=(0,D.LL)(y)},2909:(G,N,t)=>{"use strict";t.d(N,{CB:()=>L,Kd:()=>w,No:()=>D});var v=t(41768);const D=p=>{switch(p){case"iphone":case"ipad":case"apple_watch":return"ios";case"android":return"android";default:return"others"}},w=(p,R)=>{let{width:o,orientation:i}=R;const E=i==="landscape";let n="customize";return!E&&p.width===o||E&&p.height===o?n=p.device:Object.entries(v.YE).forEach(a=>{let[_]=a;(!E&&_.width===o||E&&_.height===o)&&(n=_.device)}),!p.template&&!p.combo&&["android","ipad","iphone"].includes(p.device)&&["android","ipad","iphone"].includes(n)},L=p=>!p.template&&!p.combo&&["android","ipad","iphone"].includes(p.device)},33258:(G,N,t)=>{"use strict";t.d(N,{SZ:()=>L,WP:()=>R,Wi:()=>p});var v=t(2909),D=t(18166),w=t(70423);const L=i=>{let{screenGlue:E,project:n,screen:a}=i;return E.type==="project-main"&&(n.width===a.width&&a.height>=n.height||n.height===a.width&&a.height>=n.width)},p=(i,E)=>{const n=(0,v.No)(E),a=i.orientation;return"mb-screen "+((0,w.V5)()?"mac":(0,w.ED)()?"windows":"other-os")+" "+n+" "+E+" "+a},R=(i,E)=>{const a=(0,D.YC)(i.sup||"root",E).children.map(f=>f.data),h=a.findIndex(f=>f.cid===i.key)+1;a.splice(h,0,null),a.forEach((f,A)=>{if(f&&(f.sup!==i.sup||f.zIndex!==A+1)){const y=sdkStore.getHotItem(f.cid),s={...y,hotAttr:{...y.hotAttr,zIndex:A+1}};sdkStore.updateHotItem(s)}})},o=i=>i.attr instanceof Object&&!!i.attr.bgcolor},21586:(G,N,t)=>{"use strict";t.d(N,{R:()=>w});var v=t(18166),D=t(29661);const w=p=>{const R=new Set(p.map(o=>o.cid));return p.filter(o=>!R.has(o.parent_cid)).sort((o,i)=>o.position-i.position)[0]},L=p=>{const{screenTreeData:R}=generateScreenDataEssentials(p);return findHomeScreenPageTreeNode(R)}},1e3:(G,N,t)=>{"use strict";t.d(N,{Mn:()=>n,U1:()=>L,be:()=>p,tv:()=>R,wb:()=>w});var v=t(66914);const D=function(){if(!window.dataLayer||!Array.isArray(window.dataLayer))return!1;const a=arguments.length<=0?void 0:arguments[0];let _=arguments.length<=1?void 0:arguments[1];Object.prototype.toString.call(_)!=="[object Object]"&&(console.warn("ga data's type is not object, and data is",_),_={});const h={};Object.entries(_).forEach(f=>{let[A,y]=f;h["mockitt_"+A]=y}),window.dataLayer.push({event:"saas_interaction",event_action:a,...h})},w=ENV.NO_TRACK?()=>{}:v.wb,L=ENV.NO_TRACK?()=>{}:function(){(0,v.U1)(...arguments)},p=ENV.NO_TRACK?()=>{}:a=>{let{paramName:_,defaultValue:h,valueType:f,callback:A}=a;return(0,v.be)({paramName:_,defaultValue:h,valueType:f,callback:A})},R=ENV.NO_TRACK?()=>{}:v.pj,o=ENV.IS_WONDER_SHARE?a=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:a,transport_type:"beacon"})}:()=>{},i={"https://mockittapp.wondershare.com/proto":"B3-V8\u539F\u578B\u5185\u5206\u4EAB"},E=()=>{const a=Object.keys(i).sort((_,h)=>h.length-_.length);return i[a.find(_=>window.location.href.indexOf(_)!==-1)]},n=async a=>{try{await fetch("https://mockittapp.wondershare.com/invite_track?entry="+E()+"&entry_term="+a)}catch(_){console.error(_)}}},70423:(G,N,t)=>{"use strict";t.d(N,{B0:()=>_,CL:()=>p,Dt:()=>E,ED:()=>w,IF:()=>h,Md:()=>f,Rv:()=>L,V5:()=>D,_j:()=>A,d:()=>v,i7:()=>R,li:()=>y,tq:()=>i,vU:()=>o});const v=()=>window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent),D=()=>/(Macintosh)/i.test(navigator.userAgent),w=()=>/(Windows)/i.test(navigator.userAgent),L=()=>/(Lark)/i.test(navigator.userAgent),p=()=>/MicroMessenger/i.test(navigator.userAgent),R=()=>/Chrome/i.test(navigator.userAgent),o=()=>/Firefox/i.test(navigator.userAgent),i=()=>/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent),E=()=>/Android/i.test(navigator.userAgent),n=()=>/(iPad)/.test(navigator.userAgent),a=()=>/(iPod|iPhone|iPad)/.test(navigator.userAgent),_=()=>!!(window.webkit&&window.webkit.messageHandlers),h=()=>navigator.standalone,f=()=>/\/uichina$/.test(location.pathname),A=()=>/\/forum$/.test(location.pathname),y=()=>/(MobileClient)/.test(navigator.userAgent)},39488:G=>{(function(N){var t,v={},D={16:!1,18:!1,17:!1,91:!1},w="all",L={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},p={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220,numpad_subtract:109,numpad_add:107,numpad_0:96,numpad_1:97,numpad_2:98},R=function(g){return p[g]||g.toUpperCase().charCodeAt(0)},o=[];for(t=1;t<20;t++)p["f"+t]=111+t;function i(g,T){for(var x=g.length;x--;)if(g[x]===T)return x;return-1}function E(g,T){if(g.length!=T.length)return!1;for(var x=0;x<g.length;x++)if(g[x]!==T[x])return!1;return!0}var n={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function a(g){for(t in D)D[t]=g[n[t]]}function _(g){var T,x,X,se,ne,ge;if(T=g.keyCode,i(o,T)==-1&&o.push(T),(T==93||T==224)&&(T=91),T in D){D[T]=!0;for(X in L)L[X]==T&&(A[X]=!0);return}if(a(g),!!A.filter.call(this,g)&&T in v){for(ge=P(),se=0;se<v[T].length;se++)if(x=v[T][se],x.scope==ge||x.scope=="all"){ne=x.mods.length>0;for(X in D)(!D[X]&&i(x.mods,+X)>-1||D[X]&&i(x.mods,+X)==-1)&&(ne=!1);(x.mods.length==0&&!D[16]&&!D[18]&&!D[17]&&!D[91]||ne)&&(A.track.call(this,x),x.method(g,x)===!1&&(g.preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation&&g.stopPropagation(),g.cancelBubble&&(g.cancelBubble=!0)))}}}function h(g){var T=g.keyCode,x,X=i(o,T);if(X>=0&&o.splice(X,1),(T==93||T==224)&&(T=91),T in D){D[T]=!1;for(x in L)L[x]==T&&(A[x]=!1)}}function f(){for(t in D)D[t]=!1;for(t in L)A[t]=!1}function A(g,T,x){var X,se;X=C(g),x===void 0&&(x=T,T="all");for(var ne=0;ne<X.length;ne++)se=[],g=X[ne].split("+"),g.length>1&&(se=u(g),g=[g[g.length-1]]),g=g[0],g=R(g),g in v||(v[g]=[]),v[g].push({shortcut:X[ne],scope:T,method:x,key:X[ne],mods:se})}function y(g,T){var x,X,se=[],ne,ge,Z;for(x=C(g),ge=0;ge<x.length;ge++){if(X=x[ge].split("+"),X.length>1&&(se=u(X)),g=X[X.length-1],g=R(g),T===void 0&&(T=P()),!v[g])return;for(ne=0;ne<v[g].length;ne++)Z=v[g][ne],Z.scope===T&&E(Z.mods,se)&&(v[g][ne]={})}}function s(g){return typeof g=="string"&&(g=R(g)),i(o,g)!=-1}function e(){return o.slice(0)}function r(g){var T=(g.target||g.srcElement).tagName;return!(T=="INPUT"||T=="SELECT"||T=="TEXTAREA")}function c(g){}for(t in L)A[t]=!1;function m(g){w=g||"all"}function P(){return w||"all"}function M(g){var T,x,X;for(T in v)for(x=v[T],X=0;X<x.length;)x[X].scope===g?x.splice(X,1):X++}function C(g){var T;return g=g.replace(/\s/g,""),T=g.split(","),T[T.length-1]==""&&(T[T.length-2]+=","),T}function u(g){for(var T=g.slice(0,g.length-1),x=0;x<T.length;x++)T[x]=L[T[x]];return T}function j(g,T,x){g.addEventListener?g.addEventListener(T,x,!1):g.attachEvent&&g.attachEvent("on"+T,function(){x(window.event)})}j(document,"keydown",function(g){_(g)}),j(document,"keyup",h),j(window,"focus",f);var K=N.key;function I(){var g=N.key;return N.key=K,g}N.key=A,N.key.setScope=m,N.key.getScope=P,N.key.deleteScope=M,N.key.filter=r,N.key.isPressed=s,N.key.getPressedKeyCodes=e,N.key.noConflict=I,N.key.unbind=y,N.key.track=c,G.exports=A})(window)},51575:(G,N,t)=>{G=t.nmd(G),function(){var v,D,w,L,p,R,o,i,E,n,a=[].slice,_=[].indexOf||function(y){for(var s=0,e=this.length;s<e;s++)if(s in this&&this[s]===y)return s;return-1},h=function(y,s){for(var e in s)f.call(s,e)&&(y[e]=s[e]);function r(){this.constructor=y}return r.prototype=s.prototype,y.prototype=new r,y.__super__=s.prototype,y},f={}.hasOwnProperty,A=function(y,s){return function(){return y.apply(s,arguments)}};w={bind:function(y,s){var e,r,c,m,P;for(r=y.split(" "),this.hasOwnProperty("_callbacks")||this._callbacks||(this._callbacks={}),c=0,m=r.length;c<m;c++)P=r[c],(e=this._callbacks)[P]||(e[P]=[]),this._callbacks[P].push(s);return this},one:function(y,s){var e;return this.bind(y,e=function(){return this.unbind(y,e),s.apply(this,arguments)})},trigger:function(){var y,s,e,r,c,m,P;if(y=1<=arguments.length?a.call(arguments,0):[],e=y.shift(),m=(P=this._callbacks)!=null?P[e]:void 0,!!m){for(r=0,c=m.length;r<c&&(s=m[r],s.apply(this,y)!==!1);r++);return!0}},listenTo:function(y,s,e){return y.bind(s,e),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:y,ev:s,callback:e}),this},listenToOnce:function(y,s,e){var r,c;return c=this.listeningToOnce||(this.listeningToOnce=[]),y.bind(s,r=function(){var m,P,M,C,u;for(P=-1,m=M=0,C=c.length;M<C;m=++M)u=c[m],u.obj===y&&u.ev===s&&u.callback===r&&(P=m);return y.unbind(s,r),P!==-1&&c.splice(P,1),e.apply(this,arguments)}),c.push({obj:y,ev:s,callback:r}),this},stopListening:function(y,s,e){var r,c,m,P,M,C,u,j,K,I,g,T,x,X,se,ne,ge,Z;if(arguments.length===0){for(ne=[this.listeningTo,this.listeningToOnce],M=0,j=ne.length;M<j;M++)if(T=ne[M],!!(T!=null&&T.length))for(C=0,K=T.length;C<K;C++)x=T[C],x.obj.unbind(x.ev,x.callback);this.listeningTo=void 0,this.listeningToOnce=void 0}else if(y){for(s=s?s.split(" "):[void 0],ge=[this.listeningTo,this.listeningToOnce],u=0,I=ge.length;u<I;u++)if(T=ge[u],!!T)for(X=0,g=s.length;X<g;X++)for(c=s[X],P=se=Z=T.length-1;Z<=0?se<=0:se>=0;P=Z<=0?++se:--se)x=T[P],x.obj===y&&(e&&x.callback!==e||(!c||c===x.ev?(x.obj.unbind(x.ev,x.callback),P!==-1&&T.splice(P,1)):c&&(m=x.ev.split(" "),_.call(m,c)>=0&&(m=function(){var Q,ie,le;for(le=[],ie=0,Q=m.length;ie<Q;ie++)r=m[ie],r!==c&&le.push(r);return le}(),x.ev=v.trim(m.join(" ")),x.obj.unbind(c,x.callback)))))}return this},unbind:function(y,s){var e,r,c,m,P,M,C,u,j,K;if(arguments.length===0)return this._callbacks={},this;if(!y)return this;for(r=y.split(" "),m=0,M=r.length;m<M;m++)if(j=r[m],u=(K=this._callbacks)!=null?K[j]:void 0,!!u){if(!s){delete this._callbacks[j];continue}for(c=P=0,C=u.length;P<C;c=++P)if(e=u[c],e===s){u=u.slice(),u.splice(c,1),this._callbacks[j]=u;break}}return this}},w.on=w.bind,w.off=w.unbind,L={trace:!0,logPrefix:"(App)",log:function(){var y;if(y=1<=arguments.length?a.call(arguments,0):[],!!this.trace)return this.logPrefix&&y.unshift(this.logPrefix),typeof console<"u"&&console!==null&&typeof console.log=="function"&&console.log.apply(console,y),this}},n=["included","extended"],R=function(){y.include=function(s){var e,r,c;if(!s)throw new Error("include(obj) requires obj");for(e in s)c=s[e],_.call(n,e)<0&&(this.prototype[e]=c);return(r=s.included)!=null&&r.apply(this),this},y.extend=function(s){var e,r,c;if(!s)throw new Error("extend(obj) requires obj");for(e in s)c=s[e],_.call(n,e)<0&&(this[e]=c);return(r=s.extended)!=null&&r.apply(this),this},y.proxy=function(s){return function(e){return function(){return s.apply(e,arguments)}}(this)},y.prototype.proxy=function(s){return function(e){return function(){return s.apply(e,arguments)}}(this)};function y(){typeof this.init=="function"&&this.init.apply(this,arguments)}return y}(),p=function(y){h(s,y),s.extend(w),s.include(w),s.records=[],s.irecords={},s.attributes=[],s.configure=function(){var e,r;return r=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],this.className=r,this.deleteAll(),e.length&&(this.attributes=e),this.attributes&&(this.attributes=E(this.attributes)),this.attributes||(this.attributes=[]),this.unbind(),this},s.toString=function(){return this.className+"("+this.attributes.join(", ")+")"},s.find=function(e,r){var c;return r==null&&(r=this.notFound),((c=this.irecords[e])!=null?c.clone():void 0)||(typeof r=="function"?r(e):void 0)},s.findAll=function(e,r){var c,m,P,M;for(M=[],m=0,P=e.length;m<P;m++)c=e[m],this.find(c,r)&&M.push(this.find(c));return M},s.notFound=function(e){return null},s.exists=function(e){return!!this.irecords[e]},s.addRecord=function(e,r){var c;return(c=this.irecords[e.id||e.cid])?c.refresh(e):(e.id||(e.id=e.cid),this.irecords[e.id]=this.irecords[e.cid]=e,r!==void 0?this.records.splice(r,0,e):this.records.push(e)),e},s.refresh=function(e,r){var c,m,P,M,C;for(r==null&&(r={}),r.clear&&this.deleteAll(),M=this.fromJSON(e),Array.isArray(M)||(M=[M]),c=0,m=M.length;c<m;c++)P=M[c],this.addRecord(P);return this.sort(),C=this.cloneArray(M),this.trigger("refresh",C,r),C},s.select=function(e){var r,c,m,P,M;for(P=this.records,M=[],r=0,c=P.length;r<c;r++)m=P[r],e(m)&&M.push(m.clone());return M},s.findByAttribute=function(e,r){var c,m,P,M;for(M=this.records,c=0,m=M.length;c<m;c++)if(P=M[c],P[e]===r)return P.clone();return null},s.findAllByAttribute=function(e,r){return this.select(function(c){return c[e]===r})},s.each=function(e){var r,c,m,P,M;for(P=this.records,M=[],r=0,c=P.length;r<c;r++)m=P[r],M.push(e(m.clone()));return M},s.all=function(){return this.cloneArray(this.records)},s.slice=function(e,r){return e==null&&(e=0),this.cloneArray(this.records.slice(e,r))},s.first=function(e){var r;return e==null&&(e=1),e>1?this.cloneArray(this.records.slice(0,e)):(r=this.records[0])!=null?r.clone():void 0},s.last=function(e){var r;return typeof e=="number"?this.cloneArray(this.records.slice(-e)):(r=this.records[this.records.length-1])!=null?r.clone():void 0},s.count=function(){return this.records.length},s.deleteAll=function(){return this.records=[],this.irecords={}},s.destroyAll=function(e){var r,c,m,P,M;for(P=this.records,M=[],r=0,c=P.length;r<c;r++)m=P[r],M.push(m.destroy(e));return M},s.update=function(e,r,c){return this.find(e).updateAttributes(r,c)},s.create=function(e,r){var c;return c=new this(e),c.save(r)},s.destroy=function(e,r){return this.find(e).destroy(r)},s.change=function(e){return typeof e=="function"?this.bind("change",e):this.trigger.apply(this,["change"].concat(a.call(arguments)))},s.fetch=function(e){return typeof e=="function"?this.bind("fetch",e):this.trigger.apply(this,["fetch"].concat(a.call(arguments)))},s.toJSON=function(){return this.records},s.beforeFromJSON=function(e){return e},s.fromJSON=function(e){var r,c,m,P;if(e)if(typeof e=="string"&&(e=JSON.parse(e)),e=this.beforeFromJSON(e),Array.isArray(e)){for(m=[],r=0,c=e.length;r<c;r++)P=e[r],P instanceof this?m.push(P):m.push(new this(P));return m}else return e instanceof this?e:new this(e)},s.fromForm=function(){var e;return(e=new this).fromForm.apply(e,arguments)},s.sort=function(){return this.comparator&&this.records.sort(this.comparator),this},s.cloneArray=function(e){var r,c,m,P;for(m=[],r=0,c=e.length;r<c;r++)P=e[r],m.push(P.clone());return m},s.idCounter=0,s.uid=function(e){var r;return e==null&&(e=""),r=e+this.idCounter++,this.exists(r)&&(r=this.uid(e)),r};function s(e){s.__super__.constructor.apply(this,arguments),this.constructor.uuid!=null&&typeof this.constructor.uuid=="function"?(this.cid=this.constructor.uuid(),this.id||(this.id=this.cid)):this.cid=(e!=null?e.cid:void 0)||this.constructor.uid("c-"),e&&this.load(e)}return s.prototype.isNew=function(){return!this.exists()},s.prototype.isValid=function(){return!this.validate()},s.prototype.validate=function(){},s.prototype.load=function(e){var r,c;e.id&&(this.id=e.id);for(r in e)if(c=e[r],typeof this[r]=="function"){if(typeof c=="function")continue;this[r](c)}else this[r]=c;return this},s.prototype.attributes=function(){var e,r,c,m,P;for(P={},m=this.constructor.attributes,e=0,c=m.length;e<c;e++)r=m[e],r in this&&(typeof this[r]=="function"?P[r]=this[r]():P[r]=this[r]);return this.id&&(P.id=this.id),P},s.prototype.eql=function(e){return e&&e.constructor===this.constructor&&(e.cid===this.cid||e.id&&e.id===this.id)},s.prototype.save=function(e){var r,c;return e==null&&(e={}),e.validate!==!1&&(r=this.validate(),r)?(this.trigger("error",this,r),!1):(this.trigger("beforeSave",this,e),c=this.isNew()?this.create(e):this.update(e),this.stripCloneAttrs(),this.trigger("save",c,e),c)},s.prototype.stripCloneAttrs=function(){var e,r,c;if(!this.hasOwnProperty("cid")){r=this;for(e in r)f.call(r,e)&&(c=r[e],_.call(this.constructor.attributes,e)>=0&&delete this[e]);return this}},s.prototype.updateAttribute=function(e,r,c){var m;return m={},m[e]=r,this.updateAttributes(m,c)},s.prototype.updateAttributes=function(e,r){return this.load(e),this.save(r)},s.prototype.changeID=function(e){var r;if(e!==this.id)return r=this.constructor.irecords,r[e]=r[this.id],this.cid!==this.id&&delete r[this.id],this.id=e,this.save()},s.prototype.remove=function(e){var r,c,m,P,M;for(e==null&&(e={}),M=this.constructor.records.slice(0),r=c=0,m=M.length;c<m;r=++c)if(P=M[r],!!this.eql(P)){M.splice(r,1);break}if(this.constructor.records=M,e.clear)return delete this.constructor.irecords[this.id],delete this.constructor.irecords[this.cid]},s.prototype.destroy=function(e){return e==null&&(e={}),e.clear==null&&(e.clear=!0),this.trigger("beforeDestroy",this,e),this.remove(e),this.destroyed=!0,this.trigger("destroy",this,e),this.trigger("change",this,"destroy",e),this.listeningTo&&this.stopListening(),this.unbind(),this},s.prototype.dup=function(e){var r,c;return e==null&&(e=!0),r=this.attributes(),e?delete r.id:r.cid=this.cid,c=new this.constructor(r),e||this._callbacks&&(c._callbacks=this._callbacks),c},s.prototype.clone=function(){return i(this)},s.prototype.reload=function(){var e;return this.isNew()?this:(e=this.constructor.find(this.id),this.load(e.attributes()),e)},s.prototype.refresh=function(e){return e=this.constructor.fromJSON(e),e.id&&this.id!==e.id&&this.changeID(e.id),this.constructor.irecords[this.id].load(e),this.trigger("refresh",this),this.trigger("change",this,"refresh"),this},s.prototype.toJSON=function(){return this.attributes()},s.prototype.toString=function(){return"<"+this.constructor.className+" ("+JSON.stringify(this)+")>"},s.prototype.fromForm=function(e){var r,c,m,P,M,C,u,j,K,I,g,T,x,X;for(X={},g=v(e).find("[type=checkbox]:not([value])"),c=0,C=g.length;c<C;c++)r=g[c],X[r.name]=v(r).prop("checked");for(T=v(e).find('[type=checkbox][name$="[]"]'),m=0,u=T.length;m<u;m++)r=T[m],K=r.name.replace(/\[\]$/,""),X[K]||(X[K]=[]),v(r).prop("checked")&&X[K].push(r.value);for(x=v(e).serializeArray(),M=0,j=x.length;M<j;M++)P=x[M],X[I=P.name]||(X[I]=P.value);return this.load(X)},s.prototype.exists=function(){return this.constructor.exists(this.id)},s.prototype.update=function(e){var r,c;return this.trigger("beforeUpdate",this,e),c=this.constructor.irecords,c[this.id].load(this.attributes()),this.constructor.sort(),r=c[this.id].clone(),r.trigger("update",r,e),r.trigger("change",r,"update",e),r},s.prototype.create=function(e){var r,c;return this.trigger("beforeCreate",this,e),this.id||(this.id=this.cid),c=this.dup(!1),this.constructor.addRecord(c,e.idx),this.constructor.sort(),r=c.clone(),r.trigger("create",r,e),r.trigger("change",r,"create",e),r},s.prototype.bind=function(){var e;return e=this.constructor.irecords[this.id]||this,w.bind.apply(e,arguments)},s.prototype.one=function(){var e;return e=this.constructor.irecords[this.id]||this,w.one.apply(e,arguments)},s.prototype.unbind=function(){var e;return e=this.constructor.irecords[this.id]||this,w.unbind.apply(e,arguments)},s.prototype.trigger=function(){var e;return w.trigger.apply(this,arguments),arguments[0]==="refresh"?!0:(e=this.constructor).trigger.apply(e,arguments)},s}(R),p.prototype.on=p.prototype.bind,p.prototype.off=p.prototype.unbind,D=function(y){h(s,y),s.include(w),s.include(L),s.prototype.eventSplitter=/^(\S+)\s*(.*)$/,s.prototype.tag="div";function s(e){this.release=A(this.release,this);var r,c,m,P,M;this.options=e,P=this.options;for(c in P)M=P[c],this[c]=M;for(this.el||(this.el=document.createElement(this.tag)),this.el=v(this.el),this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),r=this;m=r.constructor.__super__;)m.events&&(this.events=v.extend({},m.events,this.events)),m.elements&&(this.elements=v.extend({},m.elements,this.elements)),r=m;this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),s.__super__.constructor.apply(this,arguments)}return s.prototype.release=function(){return this.trigger("release",this),this.el.remove(),this.unbind(),this.stopListening()},s.prototype.$=function(e){return this.el.find(e)},s.prototype.delegateEvents=function(e){var r,c,m,P,M,C;M=[];for(c in e){if(P=e[c],typeof P=="function")P=function(u){return function(j){return function(){return j.apply(u,arguments),!0}}}(this)(P);else{if(!this[P])throw new Error(P+" doesn't exist");P=function(u){return function(j){return function(){return u[j].apply(u,arguments),!0}}}(this)(P)}m=c.match(this.eventSplitter),r=m[1],C=m[2],C===""?M.push(this.el.bind(r,P)):M.push(this.el.on(r,C,P))}return M},s.prototype.refreshElements=function(){var e,r,c,m;r=this.elements,c=[];for(e in r)m=r[e],c.push(this[m]=this.$(e));return c},s.prototype.delay=function(e,r){return setTimeout(this.proxy(e),r||0)},s.prototype.html=function(e){return this.el.html(e.el||e),this.refreshElements(),this.el},s.prototype.append=function(){var e,r,c;return r=1<=arguments.length?a.call(arguments,0):[],r=function(){var m,P,M;for(M=[],m=0,P=r.length;m<P;m++)e=r[m],M.push(e.el||e);return M}(),(c=this.el).append.apply(c,r),this.refreshElements(),this.el},s.prototype.appendTo=function(e){return this.el.appendTo(e.el||e),this.refreshElements(),this.el},s.prototype.prepend=function(){var e,r,c;return r=1<=arguments.length?a.call(arguments,0):[],r=function(){var m,P,M;for(M=[],m=0,P=r.length;m<P;m++)e=r[m],M.push(e.el||e);return M}(),(c=this.el).prepend.apply(c,r),this.refreshElements(),this.el},s.prototype.replace=function(e){var r,c,m;return e=e.el||e,typeof e=="string"&&(e=v.trim(e)),m=[this.el,v(((c=v.parseHTML(e))!=null?c[0]:void 0)||e)],r=m[0],this.el=m[1],r.replaceWith(this.el),this.delegateEvents(this.events),this.refreshElements(),this.el},s}(R),v=(typeof window<"u"&&window!==null?window.jQuery:void 0)||(typeof window<"u"&&window!==null?window.Zepto:void 0)||function(y){return y},i=Object.create||function(y){var s;return s=function(){},s.prototype=y,new s},E=function(y){return Array.prototype.slice.call(y,0)},o=this.Spine={},G!==null&&(G.exports=o),o.version="1.6.0",o.$=v,o.Events=w,o.Log=L,o.Module=R,o.Controller=D,o.Model=p,R.extend.call(o,w),R.create=R.sub=D.create=D.sub=p.sub=function(y,s){var e;return e=function(r){h(c,r);function c(){return c.__super__.constructor.apply(this,arguments)}return c}(this),y&&e.include(y),s&&e.extend(s),typeof e.unbind=="function"&&e.unbind(),e},p.setup=function(y,s){var e;return s==null&&(s=[]),e=function(r){h(c,r);function c(){return c.__super__.constructor.apply(this,arguments)}return c}(this),e.configure.apply(e,[y].concat(a.call(s))),e},o.Class=R}.call(window)},44766:(G,N,t)=>{"use strict";t.d(N,{Fs:()=>a,L9:()=>i,lA:()=>_,lo:()=>r});var v=t(27444),D=t(777),w=t(67631),L=t(26844),p=t(14634),R=t(44386);const o=async C=>{let{projectMetaCid:u,projectMetaType:j,screenMetaCidList:K,projectBasicEncryptedPassword:I,accessToken:g=""}=C;if(K.length===0)return[];const T="/project-buffer/"+(0,L.bL)(j)+"/all/"+u+"?password="+I+"&access_token="+g,x=await(0,R.n3)(T,{localKeyList:K});return await(0,w.Of)({projectBufferData:x,parseConcatGzipDataToObjectList:p._D,projectMetaType:j})},i=async C=>{let{projectMetaList:u,screenMetaList:j,projectBasicEncryptedPassword:K=""}=C;const I=[];for(const g of u){const T=(0,v.eO)(j.filter(x=>x.project_meta_cid===g.cid).map(x=>x.cid),1024);for(const x of T)I.push(...await o({projectMetaCid:g.cid,projectMetaType:g.type,screenMetaCidList:x,projectBasicEncryptedPassword:K}))}return I},E=async C=>{let{projectMetaList:u,screenMetaList:j,projectBasicEncryptedPassword:K="",accessToken:I=""}=C;const g=[];for(const T of u){const x=j.filter(se=>se.project_meta_cid===T.cid).map(se=>se.cid);x.length>2048&&console.warn("[fdPSOL] big proj: "+x.length);const X=(0,v.eO)(x,1024);for(const se of X)g.push(...await o({projectMetaCid:T.cid,projectMetaType:T.type,screenMetaCidList:se,projectBasicEncryptedPassword:K,accessToken:I}))}return g},n=async C=>{let{userLocale:u}=C;const{user_combo_groups:j,screen_aligns:K,project_metas:I,screen_glues:g,screen_metas:T}=await fetchGetJSON("/api/web/v3/project_upper/user_combo_groups");return console.log("[fdUSG] pm#"+I.length+" sg#"+g.length+" sm#"+T.length+" | ucg#"+j.length+" sa#"+K.length),{userComboGroupList:j,screenAlignList:K,projectMetaList:I,screenGlueList:g,screenMetaList:T,projectScreenObjectList:await E({projectMetaList:I,screenMetaList:T})}},a=async C=>{let{projectBasicCid:u,userLocale:j}=C;const{project_basic:K,screen_aligns:I,project_metas:g,screen_glues:T,screen_metas:x}=await(0,R.EE)("/api/web/v3/project_upper/project_basics/"+u);return console.log("[fdPB] pm#"+g.length+" sg#"+T.length+" sm#"+x.length+" | sa#"+I.length),{projectBasic:K,screenAlignList:I,projectMetaList:g,screenGlueList:T,screenMetaList:x,projectScreenObjectList:await E({projectMetaList:g,screenMetaList:x})}},_=async C=>{let{projectBasicAccessToken:u,projectBasicEncryptedPassword:j="",userLocale:K,projectVersion:I}=C;const{project_basic:g,screen_aligns:T,project_metas:x,screen_glues:X,screen_metas:se}=await(0,R.EE)("/api/web/v3/project_upper/project_basics/"+u+"?password="+j+(I?"&version="+I:"")),ne=X.find(Z=>Z.type===L._H.PROJECT_TRASHCAN),ge=ne?se.filter(Z=>Z.screen_glue_cid!==ne.cid):se;return console.log("[fdPB+] pm#"+x.length+" sg#"+X.length+" sm#"+se.length+"/"+ge.length+" | sa#"+T.length),{projectBasic:g,screenAlignList:T,projectMetaList:x,screenGlueList:X,screenMetaList:ge,projectScreenObjectList:await E({projectMetaList:x,screenMetaList:ge,projectBasicEncryptedPassword:j,accessToken:u})}},h=async C=>{let{projectBasicAccessToken:u,projectBasicEncryptedPassword:j="",userLocale:K}=C;const{project_basic:I,screen_aligns:g,project_metas:T,screen_glues:x,screen_metas:X}=await fetchGetJSON("/api/web/v3/project_upper/project_basics/"+u+"?password="+j);return console.log("[fdPBbAT] pm#"+T.length+" sg#"+x.length+" sm#"+X.length+" | sa#"+g.length),{projectBasic:I,screenAlignList:g,projectMetaList:T,screenGlueList:x,screenMetaList:X,projectScreenObjectList:await E({projectMetaList:T,screenMetaList:X,projectBasicEncryptedPassword:j,accessToken:u})}},f=async C=>{let{projectUpperCid:u,isFromIframe:j=!1}=C;const{market_template:K,screen_aligns:I,project_metas:g,screen_glues:T,screen_metas:x}=await fetchGetJSON("/api/community/v1/market_template/"+u+(j?"?is_from_iframe=true":""));return console.log("[fdMT] pm#"+g.length+" sg#"+T.length+" sm#"+x.length+" | sa#"+I.length),{projectUpper:K,screenAlignList:I,projectMetaList:g,screenGlueList:T,screenMetaList:x,projectScreenObjectList:await E({projectMetaList:g,screenMetaList:x})}},A=async C=>{let{projectUpperCid:u,isFromIframe:j=1}=C;const{data:K,market_template:I,project_metas:g}=await fetchGetJSON("/api/community/v1/market_template/"+u+(j?"?is_from_iframe=true":""));return{screenMetaList:K,projectUpper:I,projectMetaList:g}},y=async C=>{let{projectUpperCid:u}=C;const{reviewable_project:j,screen_aligns:K,project_metas:I,screen_glues:g,screen_metas:T}=await fetchGetJSON("/api/community/v1/reviewable_project/"+u);return console.log("[fdRP] pm#"+I.length+" sg#"+g.length+" sm#"+T.length+" | sa#"+K.length),{projectUpper:j,screenAlignList:K,projectMetaList:I,screenGlueList:g,screenMetaList:T,projectScreenObjectList:await E({projectMetaList:I,screenMetaList:T})}},s=async C=>{let{projectUpperCid:u}=C;const{reviewable_project:j,screen_aligns:K,project_metas:I}=await fetchGetJSON("/api/community/v1/reviewable_project/"+u);return{projectUpper:j,projectMetaList:I,screenAlignList:K}},e=async C=>{let{projectUpperCid:u}=C;const{product:j,screen_aligns:K,project_metas:I,screen_glues:g,screen_metas:T}=await fetchGetJSON("/api/web/v3/product/"+u);return console.log("[fdCP] pm#"+I.length+" sg#"+g.length+" sm#"+T.length+" | sa#"+K.length),{projectUpper:j,screenAlignList:K,projectMetaList:I,screenGlueList:g,screenMetaList:T,projectScreenObjectList:await E({projectMetaList:I,screenMetaList:T})}},r=async(C,u)=>{let{teamCid:j,userLocale:K}=C;const{name:I,type:g,attr:T={},device:x,model:X,width:se,height:ne,subProject:ge,zboardTag:Z,visibility:Q}=u,ie=D.eM,{userId:le,upperCid:_e,zboardTabs:be,projectMetaCid:Te}=await(0,R.Gf)("/project-buffer/"+g+"/check-init/project-upper?upperType="+ie,{presetOption:{locale:K,name:I,type:g,device:x,model:X,width:se,height:ne},railsExtra:{team_cid:j,visibility:Q,name:I,type:g,attr:T,device:x,model:X,width:se,height:ne,subProject:ge,zboardTag:Z}});return{userId:le,upperCid:_e,upperType:ie,zboardTabs:be,projectMetaCid:Te}},c=async C=>{let{projectBasicCid:u,projectBasicType:j,teamCid:K}=C;const I=UPPER_META_PROJECT_BASIC,{userId:g,upperCid:T,projectMetaCid:x}=await fetchPostJSON("/project-buffer/"+j+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+u,{railsExtra:{team_cid:K}});return{userId:g,upperCid:T,upperType:I,projectMetaCid:x}},m=async C=>{let{upperCid:u,projectMetaCid:j,projectMetaType:K,screenGlueCid:I,screenMetaCidList:g,screenGlueCidList:T=[],nextUpperCid:x,nextProjectMetaCid:X,nextScreenGlueCid:se}=C;const{userId:ne}=await fetchPostJSON("/project-buffer/"+K+"/check-transfer/screen-meta?upperCid="+u,{projectMetaCid:j,screenGlueCid:I,screenMetaCidList:g,screenGlueCidList:T,nextUpperCid:x,nextProjectMetaCid:X,nextScreenGlueCid:se});return{userId:ne,upperCid:u,nextUpperCid:x}},P=async C=>{let{encryptedPassword:u,accessToken:j}=C;const{urlHtmlZip:K}=await fetchPostJSON("/nodekiq/build-html-zip",{encryptedPassword:u,accessToken:j});return{urlHtmlZip:K}},M=async C=>{let{encryptedPassword:u,accessToken:j}=C;const{urlApk:K}=await fetchPostJSON("/nodekiq/build-apk",{encryptedPassword:u,accessToken:j});return{urlApk:K}}},70826:(G,N,t)=>{"use strict";t.d(N,{df:()=>p,nQ:()=>o,vf:()=>i});var v=t(84766),D=t(26844);const w=_=>{let{projectStore:h,itemList:f=[],screenStateCid:A,screenMetaCid:y,screenGlueCid:s,isFollowItemLinkCidRef:e=!0,isFollowItemPanelScreenGlueRef:r=!0,isFollowPanelTemplateOnly:c=!1}=_;const m=new Set,P=new Set;for(const{cid:M,name:C,link_cids:u,screen_glue_cid:j,tableData:K}of f)if(P.add(M),e&&C==="table"&&K.links.forEach(I=>{I.forEach(g=>{g&&P.add(g)})}),e&&u&&P.add(u),r&&C==="panel"&&j)if(c){const I=h.getLocalScreenGlueByCid(j);I&&I.type===SCREEN_GLUE_TYPE.PANEL_TEMPLATE&&m.add(j)}else m.add(j);return{branchScreenGlueCidSet:m,nodeScreenGlueCidSet:new Set([s]),nodeScreenMetaCidSet:new Set([y]),nodeScreenStateCidSet:new Set([A]),nodeItemCidSet:P}},L=_=>{let{screenStateCid:h,remapScreenStateCid:f=h,screenMetaCid:A,remapScreenMetaCid:y=A,screenGlueCid:s,remapScreenGlueCid:e=s,projectMetaCid:r,remapProjectMetaCid:c=r}=_;return{remapProjectMetaMap:new Map([[r,[c]]]),remapScreenGlueMap:new Map([[s,[e]]]),remapScreenMetaMap:new Map([[A,[y]]]),remapScreenStateMap:new Map([[h,[f]]]),ignoreProjectMetaCidSet:new Set([c]),ignoreScreenGlueCidSet:new Set([e]),ignoreScreenMetaCidSet:new Set([y]),ignoreScreenStateCidSet:new Set([f])}},p=_=>{let{projectStore:h,screenMetaList:f=[],screenGlueCid:A,isFollowItemPanelScreenGlueRef:y=!0,isFollowPanelTemplateOnly:s=!1}=_;const e=new Set,r=new Set;for(const{cid:c}of f){r.add(c);const m=h.getLocalScreenRuntimeStateByCid(c);for(const P of Object.values(m.itemListMap))for(const{name:M,screen_glue_cid:C}of P)if(y&&M==="panel"&&C)if(s){const u=h.getLocalScreenGlueByCid(C);u&&u.type===D._H.PANEL_TEMPLATE&&e.add(C)}else e.add(C)}return{branchScreenGlueCidSet:e,branchScreenMetaCidSet:r,nodeScreenGlueCidSet:new Set([A])}},R=_=>{let{screenMetaList:h=[],remapScreenMetaList:f=[],screenGlueCid:A,remapScreenGlueCid:y=A,projectMetaCid:s,remapProjectMetaCid:e=s}=_;const r=new Map;for(let c=0,m=f.length;c<m;c++){const P=f[c];if(!P)continue;const M=h[c];r.set(M.cid,[P.cid,P])}return{remapProjectMetaMap:new Map([[s,[e]]]),remapScreenGlueMap:new Map([[A,[y]]]),remapScreenMetaMap:r,ignoreProjectMetaCidSet:new Set([e]),ignoreScreenGlueCidSet:new Set([y])}},o=_=>{let{screenGlueList:h=[]}=_;return{branchScreenGlueCidSet:new Set(h.map(f=>f.cid))}},i=_=>{let{screenGlueList:h=[],remapScreenGlueList:f=[],projectMetaCid:A,remapProjectMetaCid:y=A}=_;const s=new Map;for(let e=0,r=f.length;e<r;e++){const c=f[e];if(!c)continue;const m=h[e];s.set(m.cid,[c.cid,c])}return{remapProjectMetaMap:new Map([[A,[y]]]),remapScreenGlueMap:s,ignoreProjectMetaCidSet:new Set([y])}},E=()=>({isBranchProjectMeta:!0}),n=_=>{let{projectMetaCid:h,remapProjectMetaCid:f=h}=_;return{remapProjectMetaMap:new Map([[h,[f]]]),ignoreProjectMetaCidSet:new Set([f])}},a=(_,h)=>{for(const{screenGlue:f,screenMetaNodeList:A}of h.screenGlueNodeList){const y=A.map(P=>{let{screenMeta:M}=P;return M}),s=new Set(y.map(P=>{let{cid:M}=P;return M}));_.screenMetaDataStore.filterMapLocalList(P=>P.screen_glue_cid===f.cid&&!s.has(P.cid)&&y.push(P));const e=new Map,r="root",c=createCidTreeBuilder(r);for(const P of y)c.add(P.cid,P.position||0,P.parent_cid||r);const m=c.build();walkCidTreeJSON(m,(P,M,C)=>e.set(P,M));for(const P of y){const M=e.get(P.cid);M!==P.position&&(s.has(P.cid)?P.position=M:A.push({...P,position:M}))}}}},37506:(G,N,t)=>{"use strict";t.d(N,{$t:()=>R,AM:()=>r,HJ:()=>c,Js:()=>a,OK:()=>i,Py:()=>v,Qd:()=>E,Qg:()=>n,SG:()=>e,TG:()=>L,Uf:()=>A,_G:()=>P,aj:()=>w,dM:()=>y,gi:()=>m,jk:()=>_,qb:()=>p,v1:()=>h,w_:()=>D,y7:()=>o});const v="projectMetaCid",D="refProjectMetaCid",w="screenGlueCid",L="refScreenGlueCid",p="screenMetaCid",R="refScreenMetaCid",o="screenStateCid",i="refScreenStateCid",E="itemGroupCid",n="itemCid",a="refItemCid",_="refExternalUpperCid",h="refExternalArtboardCid",f="default",A={projectMetaCid:"p",screenGlueCid:"sg",screenMetaCid:"s",screenStateCid:"ss",itemGroupCid:"ig",itemCid:"i"},y=u=>""+(u||"")+Date.now().toString(36)+Math.random().toString(36).slice(2,8),s=()=>y(A.projectMetaCid),e=()=>y(A.screenMetaCid),r=()=>y(A.screenGlueCid),c=()=>y(A.screenStateCid),m=()=>y(A.itemGroupCid),P=()=>y(A.itemCid),M=function(u,j){return u===void 0&&(u=new Map),j===void 0&&(j=new Set),{cidMap:u,dedupCidSet:j,onCid:(K,I)=>{if(I==="refProjectMetaCid"||I==="refScreenGlueCid"||I==="refScreenMetaCid"||I==="refScreenStateCid"||I==="refItemCid"||I==="refExternalUpperCid"||I==="refExternalArtboardCid"||u.has(K))return;let g;do g=y(A[I]);while(j.has(g));u.set(K,g),j.add(g)},getCid:(K,I)=>I==="refExternalUpperCid"||I==="refExternalArtboardCid"?K:u.get(K)||K}},C=function(u,j){return u===void 0&&(u=new Map),j===void 0&&(j=new Set),{cidMap:u,dedupCidSet:j,onCid:(K,I)=>{if(I==="refProjectMetaCid"||I==="refScreenGlueCid"||I==="refScreenMetaCid"||I==="refScreenStateCid"||I==="refItemCid"||I==="refExternalUpperCid"||I==="refExternalArtboardCid"||I==="screenMetaCid"||I==="screenStateCid"||K==="default"||u.has(K))return;let g;do g=y(A[I]);while(j.has(g));u.set(K,g),j.add(g)},getCid:(K,I)=>I==="refExternalUpperCid"||I==="refExternalArtboardCid"?K:u.get(K)||K}}},53236:(G,N,t)=>{"use strict";t.d(N,{CH:()=>i,xm:()=>o});var v=t(37506),D=t(34934),w=t(15566);const L=E=>{let{projectMeta:n,screenGlueList:a,screenMetaList:_,screenObjectList:h}=E;const f=toListMapByMapCid(_,s=>s.screen_glue_cid),A=toMapByCid(h),y=[];for(const s of a){const e=[],r=f[s.cid];if(r)for(const c of r){const m=[];for(const{data:P,itemList:M}of A[c.cid].stateList)m.push({screenState:P,itemList:M});e.push({screenMeta:c,screenStateNodeList:m})}y.push({screenGlue:s,screenMetaNodeList:e})}return{projectMeta:n,screenGlueNodeList:y}},p=E=>{let{projectMeta:n,screenGlueNodeList:a}=E;const _=[],h=[],f=[];for(const{screenGlue:A,screenMetaNodeList:y}of a){for(const{screenMeta:s,screenStateNodeList:e}of y){const r=[];for(const{screenState:c,itemList:m}of e)r.push(createScreenStateObject(c,m,n.type));f.push(createScreenObject(s.cid,r)),h.push(s)}_.push(A)}return{projectMeta:n,screenGlueList:_,screenMetaList:h,screenObjectList:f}},R=E=>{let{projectMetaList:n,screenGlueList:a,screenMetaList:_,screenObjectList:h}=E;const f=toListMapByMapCid(a,e=>e.project_meta_cid),A=toListMapByMapCid(_,e=>e.project_meta_cid+"/"+e.screen_glue_cid),y=toMapByCid(h),s=[];for(const e of n){const r=[];for(const c of f[e.cid]){const m=[],P=A[e.cid+"/"+c.cid];if(P)for(const M of P){const C=[];for(const{data:u,itemList:j}of y[M.cid].stateList)C.push({screenState:u,itemList:j});m.push({screenMeta:M,screenStateNodeList:C})}r.push({screenGlue:c,screenMetaNodeList:m})}s.push({projectMeta:e,screenGlueNodeList:r})}return s},o=(E,n)=>{let{branchScreenGlueCidSet:a,branchScreenMetaCidSet:_,branchScreenStateCidSet:h,isBranchProjectMeta:f=!1,nodeScreenGlueCidSet:A,nodeScreenMetaCidSet:y,nodeScreenStateCidSet:s,nodeItemCidSet:e}=n;const r=E.getLocalProjectMeta(),c=[],m=A&&A.size>=1,P=y&&y.size>=1,M=s&&s.size>=1,C=e&&e.size>=1&&(u=>e.has(u.cid));for(const u of E.getLocalScreenGlueList()){const j=f||a&&a.has(u.cid);if(!(j||m&&A.has(u.cid)))continue;const K=[];for(const I of E.getLocalScreenMetaListByScreenGlueCid(u.cid)){const g=j||_&&_.has(I.cid);if(!(g||P&&y.has(I.cid)))continue;const T=[],{dataMap:x,itemListMap:X}=E.getLocalScreenRuntimeStateByCid(I.cid),se=Object.keys(x);for(const ne of se){const ge=x[ne],Z=g||h&&h.has(ge.cid);if(!(Z||M&&s.has(ge.cid)))continue;const Q=X[ne];T.push({screenState:ge,itemList:Z?Q:C?Q.filter(C):[]})}K.push({screenMeta:I,screenStateNodeList:T})}c.push({screenGlue:u,screenMetaNodeList:K})}return{projectMeta:r,screenGlueNodeList:c}},i=(E,n)=>{let{remapProjectMetaMap:a,remapScreenGlueMap:_,remapScreenMetaMap:h,remapScreenStateMap:f,remapItemMap:A,ignoreProjectMetaCidSet:y,ignoreScreenGlueCidSet:s,ignoreScreenMetaCidSet:e,ignoreScreenStateCidSet:r,ignoreItemCidSet:c}=n;const m=a&&a.size>=1,P=_&&_.size>=1,M=h&&h.size>=1,C=f&&f.size>=1,u=A&&A.size>=1,j=new Map,K=new Map,I=se=>{for(const[ne,[ge,Z]]of se)j.set(ne,ge),Z!==void 0&&K.set(ne,Z)};m&&I(a),P&&I(_),M&&I(h),C&&I(f),u&&I(A);const g=m||P,T=g||M,x=T||C;(0,w.V$)(E,(se,ne)=>{(g&&ne===v.aj||T&&ne===v.qb||x&&ne===v.y7||ne===v.Qd||ne===v.Qg)&&!j.has(se)&&j.set(se,(0,v.dM)((se||"").slice(0,11)||v.Uf[ne]))});const X=se=>j.get(se)||se;return{projectDocument:(0,w.HW)(E,(se,ne)=>ge=>{const Z=se(ge,X),Q=K.get(ge.cid);return Q===void 0?Z:ne(Object.assign(Z,Q))}),ignoreProjectMetaCidSet:y,ignoreScreenGlueCidSet:s,ignoreScreenMetaCidSet:e,ignoreScreenStateCidSet:r,ignoreItemCidSet:c}}},77276:(G,N,t)=>{"use strict";var v;function D(y,s,e){return s=w(s),s in y?Object.defineProperty(y,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):y[s]=e,y}function w(y){var s=L(y,"string");return typeof s=="symbol"?s:String(s)}function L(y,s){if(typeof y!="object"||y===null)return y;var e=y[Symbol.toPrimitive];if(e!==void 0){var r=e.call(y,s||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(y)}v=!0;var p=f(t(7627)),R=h(t(7485)),o=t(54420),i=h(t(44774)),E=t(98295),n=f(t(37310)),a=t(35269);function _(y){if(typeof WeakMap!="function")return null;var s=new WeakMap,e=new WeakMap;return(_=function(r){return r?e:s})(y)}function h(y,s){if(!s&&y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var e=_(s);if(e&&e.has(y))return e.get(y);var r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in y)if(m!=="default"&&Object.prototype.hasOwnProperty.call(y,m)){var P=c?Object.getOwnPropertyDescriptor(y,m):null;P&&(P.get||P.set)?Object.defineProperty(r,m,P):r[m]=y[m]}return r.default=y,e&&e.set(y,r),r}function f(y){return y&&y.__esModule?y:{default:y}}class A extends R.PureComponent{constructor(s){super(s),D(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_1:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u4F01\u4E1A\u7BA1\u7406\u5458",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u9879\u76EE\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u627E\u4E0D\u5230\u4E86",en:"Sorry, the page you are looking for can\u2019t be found",jp:""},des_404:{"zh-CN":"\u53EF\u80FD\u9875\u9762\u5DF2\u5220\u9664\u6216\u8BBF\u95EE\u5730\u5740\u5DF2\u6539\u53D8\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u8054\u7CFB\u9879\u76EE\u521B\u5EFA\u8005",en:"Page deleted or address changed, please contact project creator.",jp:""},title_link_expired:{"zh-CN":"\u94FE\u63A5\u5DF2\u5931\u6548",en:"Page deleted or address changed, please contact project creator.",jp:""},des_link_expired:{"zh-CN":"\u8BE5\u94FE\u63A5\u5DF2\u5931\u6548\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u4EBA\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"Page deleted or address changed, please contact project creator.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,a.jsxs)("div",{className:"proposal text-left",children:[(0,a.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,a.jsxs)("ul",{className:"text-list",children:[(0,a.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,a.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,a.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,a.jsxs)("div",{className:"proposal text-left",children:[(0,a.jsx)("p",{children:"Please try the following methods:"}),(0,a.jsxs)("ul",{className:"text-list",children:[(0,a.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,a.jsx)("li",{children:"If not, please switch to another network."})]}),(0,a.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},checkoutAccount:{"zh-CN":"\u5207\u6362\u8D26\u53F7",en:"Checkout account",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),D(this,"clickGoHome",()=>{let e="",{locale:r}=this.props;r==="zh-CN"?e="/":r==="jp"?e="https://mockitt.wondershare.jp":e="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(e):location.replace(e)}),D(this,"clickReloadPage",()=>{window.location.reload()}),D(this,"clickContactUs",()=>{let e="",{locale:r}=this.props;if(r==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else r==="jp"?e="https://support.wondershare.jp":e="https://support.wondershare.com/product/mockitt.html";window.open(e)}),D(this,"getConfig",()=>{const{errorType:e,primaryBtnText:r,primaryBtnClick:c,secondaryBtnText:m,secondaryBtnClick:P,locale:M}=this.props,{typeText:C,clickGoHome:u,clickContactUs:j,clickReloadPage:K}=this;let I,g,T="",x=null,X;switch(!0){case e===E.ERROR_TYPE_403:I=C.goHome[M],g=u,X=i.errImg403;break;case e===E.ERROR_TYPE_404:I=C.goHome[M],g=u,T=C.contactUs[M],x=j,X=i.errImg404;break;case e===E.ERROR_LINK_EXPIRED:I=C.goHome[M],g=u,X=i.errImg404;break;case E.ERROR_TYPE_5XX.includes(e):I=C.reloadPage[M],g=K,T=C.contactUs[M],x=j,X=i.errImg500;break;default:I=C.reloadPage[M],g=K,T=C.contactUs[M],x=j,X=i.errImgDefault;break}return r&&(I=r),c&&(g=c),m&&(T=m),P&&(x=P),{svgBg:X,primaryText:I,primaryClick:g,secondaryText:T,secondaryClick:x}}),D(this,"handleClickLogo",()=>{let{isLogoClickable:e,logoUrl:r}=this.props;e&&(window.top!==window.self?window.top.location.href=r:window.location.href=r)}),this.commonConfig=this.getConfig()}render(){const{errorType:s,identity:e,locale:r,customTitle:c,customDes:m,account:P,isShowPrimaryBtn:M,isShowSecondaryBtn:C,isLogoClickable:u}=this.props,{typeText:j,commonConfig:K}=this,{svgBg:I,primaryText:g,primaryClick:T,secondaryText:x,secondaryClick:X}=K;let se,ne,ge="title_"+s,Z="des_"+s;return s===E.ERROR_TYPE_403?Z=P?"des_"+s+"_"+e:"des_"+s+"_2":E.ERROR_TYPE_5XX.includes(s)&&(ge="title_5xx",Z="des_5xx"),se=c||(j[ge]?j[ge][r]:j.title_0[r]),ne=m||(j[Z]?j[Z][r]:j.des_0[r]),(0,a.jsxs)(o.StyledCrashedPage,{children:[(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("span",{className:u?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,a.jsx)(i.default,{source:I})})}),(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("p",{className:"title",children:se}),typeof ne=="string"?(0,a.jsx)("p",{className:"proposal",children:ne}):ne]}),(0,a.jsxs)("div",{className:"btn-list",children:[M&&T&&g&&(0,a.jsx)("a",{className:"btn primary",onClick:T,children:g}),C&&X&&x&&(0,a.jsx)("a",{className:"btn regular",onClick:X,children:x}),x===j.contactUs[r]&&(0,a.jsx)(n.default,{})]})]})}}D(A,"propTypes",{locale:p.default.oneOf(["zh-CN","en","jp"]),identity:p.default.oneOf([0,1]),customTitle:p.default.string,customDes:p.default.string,isShowPrimaryBtn:p.default.bool,primaryBtnText:p.default.string,primaryBtnClick:p.default.func,isShowSecondaryBtn:p.default.bool,secondaryBtnText:p.default.string,secondaryBtnClick:p.default.func,errorType:p.default.oneOf([0,403,404,500,501,502,503,504,505,E.ERROR_LINK_EXPIRED]).isRequired,account:p.default.string,isLogoClickable:p.default.bool,logoUrl:p.default.string}),D(A,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"}),N.Z=A},20209:(G,N,t)=>{"use strict";t.d(N,{a7:()=>j,xP:()=>M,zO:()=>y});var v=t(7485),D=t(7627),w=t.n(D),L="--mb--rich-text-editor",p="--mb--rich-text",R={fontFamily:"Arial",fontSize:16,fontWeight:"regular",color:"#101010",letterSpacing:0,fontStyle:"normal",textDecoration:"none"},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},i=function(q,d){if(!(q instanceof d))throw new TypeError("Cannot call a class as a function")},E=function(){function q(d,b){for(var l=0;l<b.length;l++){var S=b[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,S.key,S)}}return function(d,b,l){return b&&q(d.prototype,b),l&&q(d,l),d}}(),n=Object.assign||function(q){for(var d=1;d<arguments.length;d++){var b=arguments[d];for(var l in b)Object.prototype.hasOwnProperty.call(b,l)&&(q[l]=b[l])}return q},a=function(q,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);q.prototype=Object.create(d&&d.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(q,d):q.__proto__=d)},_=function(q,d){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:q},h=function(){function q(d,b){var l=[],S=!0,O=!1,z=void 0;try{for(var re=d[Symbol.iterator](),oe;!(S=(oe=re.next()).done)&&(l.push(oe.value),!(b&&l.length===b));S=!0);}catch(ae){O=!0,z=ae}finally{try{!S&&re.return&&re.return()}finally{if(O)throw z}}return l}return function(d,b){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d))return q(d,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(q){if(Array.isArray(q)){for(var d=0,b=Array(q.length);d<q.length;d++)b[d]=q[d];return b}else return Array.from(q)},A={defaultStyle:R,getStyleStr:{},clipboard:{stripOutsidePastedStyle:!0}},y=function(d){Object.entries(d).forEach(function(b){var l=h(b,2),S=l[0],O=l[1];A[S]=n({},A[S],O)})};function s(q,d){var b="NORMAL_LINE_HEIGHT_MEASURE_NODE",l=document.getElementById(b);l||(l=document.createElement("div"),l.id=b,document.body.appendChild(l)),l.style.whiteSpace="pre",l.style.lineHeight="normal",q&&(l.style.fontFamily=q),d&&(l.style.fontSize=d+"px"),l.innerHTML=" ";var S=l.getBoundingClientRect();return S.height}var e=A.defaultStyle,r=["fontFamily","fontWeight","fontSize","color","fontStyle","textDecoration","letterSpacing","lineHeight"],c=function(d){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],l=arguments[2];if(l==="paraSpacing")return d[b[0]].paraSpacing},m=function q(d,b){if(b==="fontFamily")return d.fontFamily||e.fontFamily;if(b==="fontWeight")return d.fontWeight||e.fontWeight;if(b==="boldType")return Number(d.boldType)?1:0;if(b==="fontSize")return d.fontSize||e.fontSize;if(b==="color")return d.color||e.color;if(b==="fontStyle")return d.fontStyle||e.fontStyle;if(b==="textDecoration")return d.textDecoration||e.textDecoration;if(b==="letterSpacing")return d.letterSpacing||e.letterSpacing;if(b==="lineHeight"){var l=d.lineHeight;return!l||l==="normal"?Math.ceil(s(q(d,"fontFamily"),q(d,"fontSize"))):l}},P=function(d){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0],l=arguments[2],S=b[0],O=b[1],z=d[S].children[O];return m(z,l)},M=function(d,b,l){if(!d)return null;var S={fontFamily:P(d,b,"fontFamily"),fontWeight:P(d,b,"fontWeight"),boldType:P(d,b,"boldType"),fontSize:P(d,b,"fontSize"),color:P(d,b,"color"),fontStyle:P(d,b,"fontStyle"),textDecoration:P(d,b,"textDecoration"),letterSpacing:P(d,b,"letterSpacing"),lineHeight:P(d,b,"lineHeight"),paraSpacing:c(d,b,"paraSpacing")};return l?S[l]:S},C={thin:100,extraLight:200,light:300,regular:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900},u=["medium","semiBold","bold","extraBold","black"],j=function(d,b){var l=C[d];return u.includes(d)?l:Number(b)?700:l},K=function(d,b,l){var S=I(d);return Number(l)?b:S},I=function(d){return C[d]?d:Object.keys(C).find(function(b){return String(C[b])===String(d)})||"regular"},g=function(d,b){var l=T(d),S=b.replace(/'|"/g,""),O=["fontSize","lineHeight","letterSpacing","paraSpacing"];return O.includes(l)&&S.slice(-2)==="px"&&(S=Number(S.slice(0,-2))),S},T=function(d){return d==="marginTop"?"paraSpacing":d},x=function(d,b,l){var S={};return r.forEach(function(O){var z=g(O,d[O])||b[O];S[O]=z}),S.fontFamily=(S.fontFamily||"").split(",")[0].trim(),S.fontWeight=K(S.fontWeight,b.fontWeight,l),S},X=function(d,b){var l=d===b.length-1&&b.length>1?d-1:d;return Number(b[l].style.marginBottom.replace("px",""))},se=function(d,b){var l=Array.from(d.getElementsByTagName("p")),S=void 0;return l.length===0?S=[{paraSpacing:b.paraSpacing,children:[n({},b.child,{text:""})]}]:S=l.map(function(O,z,re){var oe=void 0,ae=Array.from(O.getElementsByTagName("span"));return ae.length===0?oe=[n({},b.child,{text:""})]:oe=ae.map(function(ve){return n({text:ve.innerText.replace(/(\r\n|\n|\r)/gm,""),boldType:Number(ve.dataset.boldtype)?1:0},x(ve.style,b.child,Number(ve.dataset.boldtype)))}),{paraSpacing:X(z,re),children:oe}}),S},ne=[["&","&amp;"],["<","&lt;"],[">","&gt;"]],ge=[].concat(ne).reverse(),Z=function(d){var b=d;return ne.forEach(function(l){var S=h(l,2),O=S[0],z=S[1];return b=b.replace(new RegExp(O,"g"),z)}),b},Q=function(d){var b=d;return ge.forEach(function(l){var S=h(l,2),O=S[0],z=S[1];return b=b.replace(new RegExp(z,"g"),O)}),b},ie=A.getStyleStr,le=function(d){return d.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})},_e=function(d){var b=Object.entries(d).map(function(l){var S=h(l,2),O=S[0],z=S[1];return le(O)+":"+z+";"});return b.join(" ")},be=function(d){var b=d.paraSpacing;return{lineHeight:0,marginBottom:b+"px"}},Te=function(d){return ie.fontFamily?ie.fontFamily(d):d},Re=function(d){var b=m(d,"fontFamily"),l=m(d,"fontWeight"),S=m(d,"boldType");return{fontFamily:Te(b),fontWeight:j(l,S),fontSize:m(d,"fontSize")+"px",color:m(d,"color"),fontStyle:m(d,"fontStyle"),letterSpacing:m(d,"letterSpacing")+"px",lineHeight:m(d,"lineHeight")+"px",textDecoration:m(d,"textDecoration")}},ue=function(d,b,l){for(var S="",O={start:[0,0,0],end:[]},z=b||O,re=h(z.start,3),oe=re[0],ae=re[1],ve=re[2],je=h(z.end,3),ke=je[0],$e=je[1],He=je[2],ze=[],Fe=oe;;Fe++){for(var nt=d[Fe],xe=[],et=Fe===oe,Je=Fe===ke,tt=Fe===oe?ae:0;;tt++){var ht=et&&tt===ae,qe=Je&&tt===$e,Ct=nt.children[tt],wt=Ct.text.slice(ht?ve:0,qe?He:Ct.text.length),jt=Z(wt);if(xe.push('<span class="'+p+'" data-boldtype="'+m(Ct,"boldType")+'" style="'+_e(Re(Ct))+'">'+(Ct.text===""?"<br>":jt)+"</span>"),l&&(S+=wt),tt===(qe?$e:nt.children.length-1))break}var Mt=xe.join("");if(ze.push('<p style="'+_e(be(nt))+'">'+Mt+"</p>"),l&&Fe!==ke&&(S+=`
`),Fe===(Je?ke:d.length-1))break}var $t=ze.join("");return l?{text:S,HTML:$t}:$t},Oe=function(d){var b=new RegExp(p);return b.test(d)},Be=function(d){var b=d.parentNode;return Array.from(b.childNodes).indexOf(d)},Ie=function(d){var b=[],l=window.getSelection(),S=void 0,O=void 0;d==="focus"?(S=l.focusNode,O=l.focusOffset):d==="anchor"&&(S=l.anchorNode,O=l.anchorOffset);var z=S.nodeName==="#text"?S.parentNode:S,re=z.closest("."+L+" span"),oe=z.closest("."+L+" p");if(!oe)b=[0,0,O];else if(!re&&oe)b=[Be(oe),0,O];else if(re&&oe){for(var ae=z;ae.parentNode.nodeName!=="P";)ae=ae.parentNode;b=[Be(oe),Be(ae),O]}return b},Ke=function(d){var b=d.start,l=d.end;return b.every(function(S,O){return S===l[O]})},Ne=function(d){for(var b=d.start,l=d.end,S="forwards",O="backwards",z=0;z<b.length;z++){if(b[z]>l[z])return O;if(b[z]<l[z])return S}return S},Ge=function(d,b){var l=Ne(d),S=(typeof b>"u"?"undefined":o(b))==="object"?Ne(b):b;return S&&S!==l?{start:d.end,end:d.start}:n({},d)},Ve=function(d){return{start:[0,0,0],end:[d.length-1,d[d.length-1].children.length-1,d[d.length-1].children[d[d.length-1].children.length-1].text.length]}},ft=function(d,b,l){var S=l.start,O=l.end,z=S[0],re=h(O,2),oe=re[0],ae=re[1],ve=[],je=[];return d.forEach(function(ke,$e,He){if($e<z||$e>oe)ve.push(n({},ke));else if($e===z)if(b.length===0){var ze=dt(He[z],S),Fe=ze.before,nt=dt(He[oe],O),xe=nt.after;ve.push({paraSpacing:ke.paraSpacing,children:Fe.length+xe.length===0?[n({},He[oe].children[ae],{text:""})]:[].concat(f(Fe),f(xe))}),je[0]=z,je[1]=Fe.length?Fe.length-1:0,je[2]=Fe.length?Fe[Fe.length-1].text.length:0}else b.forEach(function(et,Je){var tt,ht={paraSpacing:et.paraSpacing!==void 0?et.paraSpacing:ke.paraSpacing,children:[]};if(Je===0){var qe,Ct=dt(He[z],S),wt=Ct.before;wt.length>0&&(qe=ht.children).push.apply(qe,f(wt))}if((tt=ht.children).push.apply(tt,f(et.children)),Je===b.length-1){var jt;je[0]=z+b.length-1,je[1]=ht.children.length-1,je[2]=et.children[et.children.length-1].text.length;var Mt=dt(He[oe],O),$t=Mt.after;$t.length>0&&(jt=ht.children).push.apply(jt,f($t))}ve.push(ht)})}),{paras:ve,selection:{start:je,end:je}}},dt=function(d,b){var l=h(b,3),S=l[0],O=l[1],z=l[2],re=[],oe=[];return d.children.forEach(function(ae,ve){ve<O&&re.push(n({},ae)),ve>O&&oe.push(n({},ae)),ve===O&&z!==0&&re.push(n({},ae,{text:ae.text.slice(0,z)})),ve===O&&z!==ae.text.length&&oe.push(n({},ae,{text:ae.text.slice(z)}))}),{before:re,after:oe}},Xt=function(d,b,l){var S=l.start,O=l.end,z=b.replace(/[\r\n\t\v\f]+/g,`
`).split(/\n/),re=z.length===1&&z[0]==="",oe=h(S,2),ae=oe[0],ve=oe[1],je=h(O,2),ke=je[0],$e=je[1],He=[],ze=[];return d.forEach(function(Fe,nt,xe){if(nt<ae||nt>ke)He.push(n({},Fe));else if(nt===ae)if(re){var et=dt(xe[ae],S),Je=et.before,tt=dt(xe[ke],O),ht=tt.after;He.push({paraSpacing:Fe.paraSpacing,children:Je.length+ht.length===0?[n({},xe[ke].children[$e],{text:""})]:[].concat(f(Je),f(ht))}),ze[0]=ae,ze[1]=Je.length?Je.length-1:0,ze[2]=Je.length?Je[Je.length-1].text.length:0}else{var qe=xe[ae].children[ve];z.forEach(function(Ct,wt){var jt=n({},qe,{text:Ct}),Mt={paraSpacing:Fe.paraSpacing,children:[]};if(wt===0){var $t=dt(xe[ae],S),gr=$t.before;if(gr.length>0){var vr;gr[gr.length-1].text+=Ct,(vr=Mt.children).push.apply(vr,f(gr))}else Mt.children.push(jt)}if(wt>0&&Mt.children.push(jt),wt===z.length-1){var Mr;ze[0]=ae+z.length-1,ze[1]=Mt.children.length-1,ze[2]=Mt.children[Mt.children.length-1].text.length;var er=dt(xe[ke],O),Pr=er.after;Pr.length>0&&(Mr=Mt.children).push.apply(Mr,f(Pr))}He.push(Mt)})}}),{paras:He,selection:{start:ze,end:ze}}},bt=A.defaultStyle,nr="Courier New",sr=function(d){var b=[],l=function(oe){return oe.replace(/<!--.*?-->/g,"")},S=function(oe){return/<body>([^]*?)<\/body>/.test(oe)?oe.match(/<body>([^]*?)<\/body>/)[1]:oe},O=function(oe){return oe.trim()},z=function(oe){return oe.replace(/[\r\n\t\v\f]/g,hr)};return b.push.apply(b,[l,S,O,z]),b.reduce(function(re,oe){return oe(re)},d)},or=function(d){for(var b=sr(d),l=0,S=[],O=[],z=0;l!==b.length;){var re=ct(b,l),oe=h(re,5),ae=oe[1],ve=oe[2],je=oe[3],ke=oe[4];if(ae){var $e=vt(ae);if(qt.includes($e)){l+=ae.length;continue}if(Nt.includes($e)&&!O[z]){var He=zt(ae);O[z]={paraSpacing:He,children:[]}}var ze=Ot(ae,S);S.push(ze)}if(ve)(function(){var Je=Qt(S),tt=ve.split(hr);tt.forEach(function(ht,qe){var Ct=Q(ht),wt=n({text:Ct},Je);O[z]||(O[z]={paraSpacing:0,children:[]}),O[z].children.push(wt),qe<tt.length-1&&(z+=1)})})();else if(ae&&vt(ae)===mr&&ke){var Fe=Qt(S),nt=n({text:""},Fe);O[z]||(O[z]={paraSpacing:0,children:[]}),O[z].children.push(nt)}if(ke){var xe=vt(je);Nt.includes(xe)?S.length=0:S.pop(),Nt.includes(xe)&&O[z]&&O[z].children.length&&(z+=1)}if(!ae&&je&&qt.includes(vt(je))){l+=je.length;continue}var et=(ae?ae.length:0)+(ve?ve.length:0)+(ke?je.length:0);if(et===0){console.warn("RichTextEditor: manually break infinite loop while parsing pasted HTML");break}l+=et}return O[O.length-1]&&!O[O.length-1].children.length&&O.pop(),O},vt=function(d){return d.match(/<\/??([^/]*?(?=\s|>))/)[1]},ir=new RegExp(/(<(?!\/).*?>)?(.*?)(<(\/?).*?>)/),ct=function(d,b){return d.slice(b).match(ir)},zt=function(d){var b=vt(d),l=d.match(new RegExp("margin"+yt.source))||d.match(new RegExp("margin-bottom"+yt.source));if(l){var S=l[1].split(" "),O=S.length<3?0:2;return Number(S[O].replace(/px$/,""))}else return!l&&/^h\d$/.test(b)?fr(b):0},ar=function(d){if(d==1)return 10;if(d==2)return 13;if(d==3)return 16;if(d==4)return 18;if(d==5)return 24;if(d==6)return 32;if(d==7)return 48},Ot=function(d,b){var l=pt(d,b);return{fontFamily:lr(d),fontWeight:ur(d),fontSize:l,textDecoration:Yt(d),color:dr(d),lineHeight:Jt(d,l),letterSpacing:Ut(d)}},yt=/:\s?(.*?);/,cr=/="(.*?)"/,lr=function(d){var b=vt(d),l=void 0;return b==="font"?l=d.replace(/&quot;/g,"").match(new RegExp("family"+cr.source)):l=d.replace(/&quot;/g,"").match(new RegExp("font-family"+yt.source)),!l&&b==="pre"?nr:l?l[1].split(",")[0].trim():void 0},ur=function(d){var b=vt(d);if(b==="b"||b==="strong")return"bold";var l=d.match(new RegExp("font-weight"+yt.source));return l?I(l[1]):/^h\d$/.test(b)?"bold":void 0},pt=function(d,b){var l=b.length>0?b[b.length-1].fontSize:bt.fontSize,S=vt(d),O=void 0;if(S==="font"?O=d.match(new RegExp("size"+cr.source)):O=d.match(new RegExp("font-size"+yt.source)),!O)return/^h\d$/.test(S)?pr(S):l;if(/px$/.test(O[1]))return parseInt(O[1].replace(/px$/,""));if(isNaN(O[1]))if(/rem$/.test(O[1])){var z=bt.fontSize;return Math.round(z*O[1].replace(/rem$/,""))}else return/em$/.test(O[1])?Math.round(l*O[1].replace(/em$/,"")):l;else return ar(O[1])},Yt=function(d){var b=vt(d);if(b==="u")return"underline";if(b==="s")return"line-through";var l=d.match(new RegExp("text-decoration"+yt.source))||d.match(new RegExp("text-decoration-line"+yt.source));return l?/underline/.test(l[1])?"underline":/line-through/.test(l[1])?"line-through":"none":"none"},dr=function(d){var b=d.match(/((?!-).{1}|^)color:\s?(.*?);/);return b?b[2]:void 0},Jt=function(d,b){var l=d.match(new RegExp("line-height"+yt.source));if(l){if(/px$/.test(l[1]))return Number(l[1].replace(/px$/,""));if(isNaN(l[1]))return;var S=b;return Math.round(S*l[1])}},Ut=function(d){var b=d.match(new RegExp("letter-spacing"+yt.source));if(b)return/px$/.test(b[1])?Number(b[1].replace(/px$/,"")):b[1]==="normal"?0:void 0},pr=function(d){var b=bt.fontSize;if(d==="h1")return parseInt(b*2);if(d==="h2")return parseInt(b*1.5);if(d==="h3")return parseInt(b*1.17);if(d==="h4")return parseInt(b*1);if(d==="h5")return parseInt(b*.83);if(d==="h6")return parseInt(b*.67)},fr=function(d){var b=bt.fontSize;if(d==="h1")return parseInt(b*.67);if(d==="h2")return parseInt(b*.83);if(d==="h3")return parseInt(b*1);if(d==="h4")return parseInt(b*1.33);if(d==="h5")return parseInt(b*1.67);if(d==="h6")return parseInt(b*2.33)},Qt=function(d){return d.reduce(function(b,l){return Object.entries(l).forEach(function(S){var O=h(S,2),z=O[0],re=O[1];re!==void 0&&(b[z]=re)}),b},{})},Nt=["div","ul","li","p","h1","h2","h3","h4","h5","h6","address","article","aside","blockquote","dd","dl","dt","table","tfoot","footer","header","hgroup","hr","main","nav","pre","section"],qt=["img","input"],mr="br",hr="__MB__NL__2349639398",F=function(d,b){return Xt(d,"",b)};function We(q){q.stopPropagation(),q.nativeEvent.stopImmediatePropagation()}var Ze=function(d,b,l){var S=d.children.reduce(function(O,z,re){return re!==b?O.push(n({},z)):O.push.apply(O,[n({},z,{text:z.text.slice(0,l)}),n({},z,{text:z.text.slice(l)})]),O},[]);return{paraSpacing:d.paraSpacing,children:S}},lt=function(d,b){var l=h(d,3),S=l[0],O=l[1],z=l[2],re=b[S].children[O].text;return re==="<br>"?!1:z>0&&z<re.length},Et=function(d,b,l){var S=[].concat(f(l)),O=[].concat(f(d)),z=[].concat(f(b)),re=lt(O,S);if(re){var oe=O,ae=h(oe,3),ve=ae[0],je=ae[1],ke=ae[2],$e=Ze(S[ve],je,ke);S[ve]=$e,O=[ve,je+1,0]}re&&(d[0]===b[0]&&(z[1]+=1),d[0]===b[0]&&d[1]===b[1]&&(z[2]-=d[2]));var He=lt(z,S);if(He){var ze=h(z,3),Fe=ze[0],nt=ze[1],xe=ze[2],et=Ze(S[Fe],nt,xe);S[Fe]=et}return{boundary:{start:O,end:z},paras:S}},Ft=function(d,b,l){var S=h(l.start,2),O=S[0],z=S[1],re=h(l.end,2),oe=re[0],ae=re[1],ve=Math.max(b,z,ae)+1;return d*ve+b>=O*ve+z&&d*ve+b<=oe*ve+ae},At=["fontFamily","fontSize"],Tt=function(d,b,l){var S=Math.ceil(s(d,b));return S===l},Pt=function(d){var b=d.span,l=d.attr,S=d.value,O=n({},b);return At.includes(l)&&Tt(O.fontFamily,O.fontSize,O.lineHeight)?(O[l]=S,O.lineHeight=Math.ceil(s(O.fontFamily,O.fontSize))):O[l]=S,l=="fontFamily"&&(O.fontWeight="regular"),O},U=function(d){var b=d.start,l=d.end;return b.every(function(S,O){return S===l[O]})},H=function(d){var b=d.paras,l=d.boundary,S=d.attr,O=d.value,z=void 0,re=void 0;if(l){var oe=l.start,ae=l.end,ve=Et(oe,ae,b);z=ve.boundary,re=ve.paras}var je=(re||b).map(function(ke,$e){var He=ke.children.map(function(ze,Fe){return!l||Ft($e,Fe,z)?Pt({span:ze,attr:S,value:O}):n({},ze)});return{paraSpacing:ke.paraSpacing,children:He}});return{paras:je,boundary:z}},ee=function(d,b){var l=h(b.start,1),S=l[0],O=h(b.end,1),z=O[0];return d>=S&&d<=z},pe=function(d){var b=d.paras,l=d.boundary,S=d.value;return b.map(function(O,z){var re=O.children.map(function(oe,ae){return!l||ee(z,l)?Pt({span:oe,attr:"lineHeight",value:S}):n({},oe)});return{paraSpacing:O.paraSpacing,children:re}})},Ce=function(d){var b=d.paras,l=d.boundary,S=d.value;return b.map(function(O,z){var re=!l||ee(z,l)?S:O.paraSpacing;return{paraSpacing:re,children:O.children}})},Le=function(d){var b=d.paras,l=d.boundary,S=d.attr,O=d.value,z=void 0,re=void 0;if(Xe.includes(S)){if(l&&U(l))return;var oe=H({paras:b,boundary:l,attr:S,value:O});z=oe.paras,re=oe.boundary}else S===ye?z=pe({paras:b,boundary:l,value:O}):S===Qe&&(z=Ce({paras:b,boundary:l,value:O}));return{paras:z,boundary:re||l}},Xe=["fontFamily","fontWeight","boldType","fontSize","color","fontStyle","textDecoration","letterSpacing"],ye="lineHeight",Qe="paraSpacing",Ye=function(d){return["text"].concat(Xe,[ye,Qe]).includes(d)};function st(q,d){d===void 0&&(d={});var b=d.insertAt;if(!(!q||typeof document>"u")){var l=document.head||document.getElementsByTagName("head")[0],S=document.createElement("style");S.type="text/css",b==="top"&&l.firstChild?l.insertBefore(S,l.firstChild):l.appendChild(S),S.styleSheet?S.styleSheet.cssText=q:S.appendChild(document.createTextNode(q))}}var rt=`.--mb--rich-text-editor {
  outline: none;
  border-color: transparent;
  user-select: text;
}

  .--mb--rich-text-editor p {
    margin: 0;
  }

  .--mb--rich-text-editor p:last-child {
    margin-bottom: 0 !important;
  }
`;st(rt);var ot=50,Vt=function(q){a(d,q);function d(b){i(this,d);var l=_(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return l.getInitialSelection=function(S){var O=S.paras,z=S.selection;return z||Ve(O)},l.getPresentState=function(){return l.state.present},l.pushPresentState=function(S){return new Promise(function(O,z){var re=l.state,oe=re.past,ae=re.present,ve=[].concat(f(oe),[ae]);ve.length+1>ot&&ve.shift(),l.setState({past:ve,present:S,future:[]},O)})},l.buildEditorBridge=function(S){return S(l.getPresentState,l.handleSetRichAttr)},l.manuallyUpdate=function(){return l.$editor.innerHTML=ue(l.getPresentState().paras)},l.restoreSelection=function(){return new Promise(function(S,O){var z=l.getPresentState(),re=z.selection,oe=h(re.start,3),ae=oe[0],ve=oe[1],je=oe[2],ke=h(re.end,3),$e=ke[0],He=ke[1],ze=ke[2],Fe=l.$editor.childNodes[ae].childNodes[ve],nt=Fe.childNodes[0].nodeName==="#text"?Fe.childNodes[0]:Fe,xe=l.$editor.childNodes[$e].childNodes[He],et=xe.childNodes[0].nodeName==="#text"?xe.childNodes[0]:xe,Je=document.createRange();Je.setStart(nt,je);var tt=window.getSelection();tt.removeAllRanges(),tt.addRange(Je),tt.extend(et,ze),S()})},l.handleSetRichAttr=function(S,O){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"add",re=l.state,oe=re.past,ae=re.present,ve=ae.paras,je=ae.selection,ke=Ge(je,"forwards"),$e=Le({attr:S,value:O,paras:ve,boundary:ke});if($e){var He=void 0;z==="add"?(He=[].concat(f(oe),[ae]),He.length+1>ot&&He.shift()):z==="replaceLast"&&(He=oe);var ze=Ge($e.boundary,je);l.setState({past:He,present:{paras:$e.paras,selection:ze},future:[]})}},l.handleSetBoldType=function(){var S=l.getPresentState(),O=S.paras,z=S.selection,re=M(O,z.start,"boldType");l.handleSetRichAttr("boldType",1-re)},l.handleSetItalic=function(){var S=l.getPresentState(),O=S.paras,z=S.selection,re=M(O,z.start,"fontStyle");re!=="italic"?l.handleSetRichAttr("fontStyle","italic"):l.handleSetRichAttr("fontStyle","normal")},l.handleSetLineThrough=function(){var S=l.getPresentState(),O=S.paras,z=S.selection,re=M(O,z.start,"textDecoration");re!=="line-through"?l.handleSetRichAttr("textDecoration","line-through"):l.handleSetRichAttr("textDecoration","none")},l.handleSetUnderline=function(){var S=l.getPresentState(),O=S.paras,z=S.selection,re=M(O,z.start,"textDecoration");re!=="underline"?l.handleSetRichAttr("textDecoration","underline"):l.handleSetRichAttr("textDecoration","none")},l.handleSetFontSize=function(S){var O=l.getPresentState(),z=O.paras,re=O.selection,oe=M(z,re.start,"fontSize"),ae=S==="increase"?oe+1:oe-1<1?1:oe-1;l.handleSetRichAttr("fontSize",ae)},l.handleSelectionChange=function(S){if(!l.isInputtingComposition){var O=l.getSelection();l.setSelection(O),l.recordlastFocusStyle()}},l.getSelection=function(){var S=Ie("anchor"),O=Ie("focus");return{start:S,end:O}},l.setSelection=function(S){l.setState(n({},l.state,{present:n({},l.state.present,{selection:S})}))},l.recordlastFocusStyle=function(){var S=window.getSelection(),O=void 0;if(S.focusNode.nodeName==="SPAN")O=S.focusNode;else if(S.focusNode.nodeName==="#text")O=S.focusNode.parentNode;else if(S.focusNode.nodeName==="P")O=S.focusNode.childNodes[0];else return l.lastFocusStyle={paraSpacing:0,child:{}};var z=O.parentNode,re=Be(z),oe=Be(O),ae=l.getPresentState(),ve=ae.paras;l.lastFocusStyle={paraSpacing:ve[re].paraSpacing,child:n({},ve[re].children[oe],{text:void 0})}},l.popSelectionChange=function(){l.props.onSelectionChange&&l.props.onSelectionChange(l.getPresentState())},l.handleInput=function(S){if(!l.isInputtingComposition){var O=se(S.target,l.lastFocusStyle),z=l.getSelection();l.setParasAndSelection(O,z)}},l.handleCompositionStart=function(S){l.toggleCompositionFlag()},l.handleCompositionEnd=function(S){l.toggleCompositionFlag();var O=se(S.target,l.lastFocusStyle),z=l.getSelection();l.setParasAndSelection(O,z)},l.toggleCompositionFlag=function(){return l.isInputtingComposition=!l.isInputtingComposition},l.setParasAndSelection=function(S,O){l.pushPresentState({paras:S,selection:O}).then(l.popContentChange)},l.popContentChange=function(){l.props.onContentChange&&l.props.onContentChange(l.getPresentState())},l.handleKeyDown=function(S){S.key===" "&&We(S);var O=S.metaKey||S.ctrlKey,z=S.shiftKey;if((S.key==="a"||S.keyCode===65)&&O&&(S.preventDefault(),l.setSelection(Ve(l.getPresentState().paras))),(S.key==="b"||S.keyCode===66)&&O&&(S.preventDefault(),l.handleSetBoldType()),(S.key==="i"||S.keyCode===73)&&O&&(S.preventDefault(),l.handleSetItalic()),(S.key==="u"||S.keyCode===85)&&O&&(S.preventDefault(),l.handleSetUnderline()),(S.key==="s"||S.keyCode===83)&&O&&z&&(S.preventDefault(),l.handleSetLineThrough()),(S.key==="z"||S.keyCode===90)&&O)return S.preventDefault(),l.handleUndo();if((S.key==="y"||S.keyCode===89)&&O)return S.preventDefault(),l.handleRedo();if((S.key==="."||S.keyCode===190)&&O&&z)return S.preventDefault(),l.handleSetFontSize("increase");if((S.key===","||S.keyCode===188)&&O&&z)return S.preventDefault(),l.handleSetFontSize("decrease")},l.handleUndo=function(){var S=l.state,O=S.past,z=S.present,re=S.future;if(O.length!==0){var oe=O[O.length-1],ae=O.slice(0,O.length-1),ve=[z].concat(f(re));1+ae.length+ve.length>ot&&ve.pop(),l.setState({past:ae,present:oe,future:ve})}},l.handleRedo=function(){var S=l.state,O=S.past,z=S.present,re=S.future;if(re.length!==0){var oe=re[0],ae=re.slice(1),ve=[].concat(f(O),[z]);1+ve.length+ae.length>ot&&ve.shift(),l.setState({past:ve,present:oe,future:ae})}},l.handleCopy=function(S){var O=l.getPresentState(),z=O.paras,re=O.selection;if(!Ke(re)){var oe=Ge(re,"forwards"),ae=ue(z,oe,!0),ve=ae.HTML,je=ae.text;S.clipboardData.setData("text/html",ve),S.clipboardData.setData("text/plain",je),S.preventDefault()}},l.handleCut=function(S){var O=l.getPresentState(),z=O.paras,re=O.selection;if(!Ke(re)){var oe=Ge(re,"forwards"),ae=ue(z,oe);S.clipboardData.setData("text/html",ae);var ve=F(z,oe),je=ve.paras,ke=ve.selection;l.setParasAndSelection(je,ke),S.preventDefault()}},l.handlePaste=function(S){S.preventDefault();var O=A.clipboard.stripOutsidePastedStyle,z=S.clipboardData.getData("text/html").replace(/^<meta.*?>/,""),re=Oe(z);O&&!re?l.insertPastedAsPlainText(S):l.insertPastedAsHTML(S)},l.insertPastedAsHTML=function(S){var O=l.getPresentState(),z=O.paras,re=O.selection,oe=Ge(re,"forwards"),ae=S.clipboardData.getData("text/html").replace(/^<meta.*?>/,"");if(ae){var ve=or(ae),je=ft(z,ve,oe),ke=je.paras,$e=je.selection;l.setParasAndSelection(ke,$e)}},l.insertPastedAsPlainText=function(S){var O=l.getPresentState(),z=O.paras,re=O.selection,oe=Ge(re,"forwards"),ae=S.clipboardData.getData("text/plain"),ve=Xt(z,ae,oe),je=ve.paras,ke=ve.selection;l.setParasAndSelection(je,ke)},l.lastFocusStyle=null,l.isInputtingComposition=!1,l.state={past:[],present:{paras:b.store.paras,selection:l.getInitialSelection(b.store)},future:[]},l}return E(d,[{key:"componentDidMount",value:function(){var l=this;this.buildEditorBridge(this.props.editorBridgeBuilder),setTimeout(function(){return l.restoreSelection().then(l.popSelectionChange)},0)}},{key:"componentDidUpdate",value:function(){var l=this;this.$editor.childNodes.length===0&&this.manuallyUpdate(),this.restoreSelection().catch(function(S){console.warn(S),l.manuallyUpdate()}).then(this.popSelectionChange)}},{key:"render",value:function(){var l=this,S=this.getPresentState(),O=S.paras;return v.createElement("div",{contentEditable:!0,dangerouslySetInnerHTML:{__html:ue(O)},ref:function(re){return l.$editor=re},className:L,style:this.props.style,onKeyDown:this.handleKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onInput:this.handleInput,onSelect:this.handleSelectionChange,onCopy:this.handleCopy,onCut:this.handleCut,onPaste:this.handlePaste})}}]),d}(v.PureComponent);Vt.propTypes={style:w().object,store:w().object,onSelectionChange:w().func,onContentChange:w().func,editorBridgeBuilder:w().func};var Zt={getStore:function(){},setAttr:function(){}},Cr=function(d){return function(){return d()}},Wr=function(d){return function(b,l,S){return d(b,l,S)}},Ur=function(d,b){Zt.getStore=Cr(d),Zt.setAttr=Wr(b)},Xr=function(q){a(d,q);function d(){return i(this,d),_(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return E(d,[{key:"render",value:function(){return v.createElement(Vt,n({},this.props,{editorBridgeBuilder:Ur}))}}]),d}(v.Component),Yr=null},95890:(G,N,t)=>{"use strict";t.d(N,{Sm:()=>a,WX:()=>h,XC:()=>E,e7:()=>n,k:()=>_});var v=t(7485),D=t(26250),w=t.n(D),L=t(77359),p=t.n(L);const R=()=>/(Macintosh)/i.test(navigator.userAgent),o=new Map;function i(f){if(!f)return;let A=o.get(f);if(A!==void 0)return A;const y=f.split("+");if(R()){const s=e=>e==="mod"?"\u2318":e==="alt"?"\u2325":e==="shift"?"\u21E7":e==="ctrl"?"\u2303":e==="backspace"?"\u232B":e==="del"?"Delete":e.charAt(0).toUpperCase()+e.slice(1);A=y.map(s).join("")}else{const s=e=>e==="mod"?"Ctrl":e.toLowerCase()==="alt"?"Alt":e.toLowerCase()==="shift"?"Shift":e.toLowerCase()==="ctrl"?"Ctrl":e==="backspace"?"Backspace":e==="del"?"Delete":e.toLowerCase()==="return"?"Enter":e.charAt(0).toUpperCase()+e.slice(1);A=y.map(s).join("+")}return o.set(f,A),A}const E=(0,v.createContext)(void 0);var n;(function(f){f[f.Normal=0]="Normal",f[f.Mode=100]="Mode",f[f.FloatingPanel=200]="FloatingPanel",f[f.Input=201]="Input",f[f.TextEditor=300]="TextEditor",f[f.BlockingPanel=400]="BlockingPanel"})(n||(n={}));class a{constructor(){this.keys=new Map,this.globalKeys=new Map,this.sheetsBound=new Set}createHandler(A,y){return y===void 0&&(y=!1),s=>this.invoke(A,y)}invoke(A,y){y===void 0&&(y=!1);const s=y?this.globalKeys.get(A):this.keys.get(A);return s&&s.length>0?(s[0].keys[A](),!1):!0}bind(A){if(A.isGlobal)for(const[y]of Object.entries(A.keys)){const s=this.globalKeys.get(y);if(s)s.push(A),s.sort((e,r)=>r.priority-e.priority);else{const e=this.createHandler(y,!0);w().bindGlobal(y,e),this.globalKeys.set(y,[A])}}else for(const[y]of Object.entries(A.keys)){const s=this.keys.get(y);if(s)s.push(A),s.sort((e,r)=>r.priority-e.priority);else{const e=this.createHandler(y);w().bind(y,e),this.keys.set(y,[A])}}this.sheetsBound.add(A)}unbind(A){A.isGlobal?this.globalKeys.forEach((y,s)=>{p().remove(y,e=>e===A)}):this.keys.forEach((y,s)=>{p().remove(y,e=>e===A)}),this.sheetsBound.delete(A)}pause(){w().pause()}unpause(){w().unpause()}}function _(f){const A=(0,v.useContext)(E);return(0,v.useEffect)(()=>{A.pause();const y=s=>{s.key==="Escape"&&!s.shiftKey&&!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),f.dismiss())};return document.addEventListener("keydown",y),()=>{A.unpause(),document.removeEventListener("keydown",y)}}),null}const h=(0,v.memo)(f=>{const A=(0,v.useContext)(E);return(0,v.useEffect)(()=>(A.bind(f.sheet),()=>{A.unbind(f.sheet)})),null})},75985:(G,N,t)=>{(function(){var v=t(55983),D=t(97279).utf8,w=t(85884),L=t(97279).bin,p=function(R,o){R.constructor==String?o&&o.encoding==="binary"?R=L.stringToBytes(R):R=D.stringToBytes(R):w(R)?R=Array.prototype.slice.call(R,0):!Array.isArray(R)&&R.constructor!==Uint8Array&&(R=R.toString());for(var i=v.bytesToWords(R),E=R.length*8,n=1732584193,a=-271733879,_=-1732584194,h=271733878,f=0;f<i.length;f++)i[f]=(i[f]<<8|i[f]>>>24)&16711935|(i[f]<<24|i[f]>>>8)&4278255360;i[E>>>5]|=128<<E%32,i[(E+64>>>9<<4)+14]=E;for(var A=p._ff,y=p._gg,s=p._hh,e=p._ii,f=0;f<i.length;f+=16){var r=n,c=a,m=_,P=h;n=A(n,a,_,h,i[f+0],7,-680876936),h=A(h,n,a,_,i[f+1],12,-389564586),_=A(_,h,n,a,i[f+2],17,606105819),a=A(a,_,h,n,i[f+3],22,-1044525330),n=A(n,a,_,h,i[f+4],7,-176418897),h=A(h,n,a,_,i[f+5],12,1200080426),_=A(_,h,n,a,i[f+6],17,-1473231341),a=A(a,_,h,n,i[f+7],22,-45705983),n=A(n,a,_,h,i[f+8],7,1770035416),h=A(h,n,a,_,i[f+9],12,-1958414417),_=A(_,h,n,a,i[f+10],17,-42063),a=A(a,_,h,n,i[f+11],22,-1990404162),n=A(n,a,_,h,i[f+12],7,1804603682),h=A(h,n,a,_,i[f+13],12,-40341101),_=A(_,h,n,a,i[f+14],17,-1502002290),a=A(a,_,h,n,i[f+15],22,1236535329),n=y(n,a,_,h,i[f+1],5,-165796510),h=y(h,n,a,_,i[f+6],9,-1069501632),_=y(_,h,n,a,i[f+11],14,643717713),a=y(a,_,h,n,i[f+0],20,-373897302),n=y(n,a,_,h,i[f+5],5,-701558691),h=y(h,n,a,_,i[f+10],9,38016083),_=y(_,h,n,a,i[f+15],14,-660478335),a=y(a,_,h,n,i[f+4],20,-405537848),n=y(n,a,_,h,i[f+9],5,568446438),h=y(h,n,a,_,i[f+14],9,-1019803690),_=y(_,h,n,a,i[f+3],14,-187363961),a=y(a,_,h,n,i[f+8],20,1163531501),n=y(n,a,_,h,i[f+13],5,-1444681467),h=y(h,n,a,_,i[f+2],9,-51403784),_=y(_,h,n,a,i[f+7],14,1735328473),a=y(a,_,h,n,i[f+12],20,-1926607734),n=s(n,a,_,h,i[f+5],4,-378558),h=s(h,n,a,_,i[f+8],11,-2022574463),_=s(_,h,n,a,i[f+11],16,1839030562),a=s(a,_,h,n,i[f+14],23,-35309556),n=s(n,a,_,h,i[f+1],4,-1530992060),h=s(h,n,a,_,i[f+4],11,1272893353),_=s(_,h,n,a,i[f+7],16,-155497632),a=s(a,_,h,n,i[f+10],23,-1094730640),n=s(n,a,_,h,i[f+13],4,681279174),h=s(h,n,a,_,i[f+0],11,-358537222),_=s(_,h,n,a,i[f+3],16,-722521979),a=s(a,_,h,n,i[f+6],23,76029189),n=s(n,a,_,h,i[f+9],4,-640364487),h=s(h,n,a,_,i[f+12],11,-421815835),_=s(_,h,n,a,i[f+15],16,530742520),a=s(a,_,h,n,i[f+2],23,-995338651),n=e(n,a,_,h,i[f+0],6,-198630844),h=e(h,n,a,_,i[f+7],10,1126891415),_=e(_,h,n,a,i[f+14],15,-1416354905),a=e(a,_,h,n,i[f+5],21,-57434055),n=e(n,a,_,h,i[f+12],6,1700485571),h=e(h,n,a,_,i[f+3],10,-1894986606),_=e(_,h,n,a,i[f+10],15,-1051523),a=e(a,_,h,n,i[f+1],21,-2054922799),n=e(n,a,_,h,i[f+8],6,1873313359),h=e(h,n,a,_,i[f+15],10,-30611744),_=e(_,h,n,a,i[f+6],15,-1560198380),a=e(a,_,h,n,i[f+13],21,1309151649),n=e(n,a,_,h,i[f+4],6,-145523070),h=e(h,n,a,_,i[f+11],10,-1120210379),_=e(_,h,n,a,i[f+2],15,718787259),a=e(a,_,h,n,i[f+9],21,-343485551),n=n+r>>>0,a=a+c>>>0,_=_+m>>>0,h=h+P>>>0}return v.endian([n,a,_,h])};p._ff=function(R,o,i,E,n,a,_){var h=R+(o&i|~o&E)+(n>>>0)+_;return(h<<a|h>>>32-a)+o},p._gg=function(R,o,i,E,n,a,_){var h=R+(o&E|i&~E)+(n>>>0)+_;return(h<<a|h>>>32-a)+o},p._hh=function(R,o,i,E,n,a,_){var h=R+(o^i^E)+(n>>>0)+_;return(h<<a|h>>>32-a)+o},p._ii=function(R,o,i,E,n,a,_){var h=R+(i^(o|~E))+(n>>>0)+_;return(h<<a|h>>>32-a)+o},p._blocksize=16,p._digestsize=16,G.exports=function(R,o){if(R==null)throw new Error("Illegal argument "+R);var i=v.wordsToBytes(p(R,o));return o&&o.asBytes?i:o&&o.asString?L.bytesToString(i):v.bytesToHex(i)}})()},46198:(G,N,t)=>{"use strict";function v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(D){console.error(D)}}v(),G.exports=t(23801)},89870:(G,N,t)=>{"use strict";t.d(N,{$j:()=>v.$j,I0:()=>v.I0,v9:()=>v.v9,wU:()=>v.wU,zt:()=>v.zt});var v=t(79973),D=t(86312),w=t(26521);(0,w.F)(D.m)},7485:(G,N,t)=>{"use strict";G.exports=t(67887)},84515:G=>{"use strict";G.exports=canvg},29750:G=>{"use strict";G.exports=dompurify},75177:G=>{"use strict";G.exports=html2canvas}},Rr={};function Me(G){var N=Rr[G];if(N!==void 0)return N.exports;var t=Rr[G]={id:G,loaded:!1,exports:{}};return Br[G].call(t.exports,t,t.exports,Me),t.loaded=!0,t.exports}Me.m=Br,Me.amdO={},(()=>{var G=[];Me.O=(N,t,v,D)=>{if(t){D=D||0;for(var w=G.length;w>0&&G[w-1][2]>D;w--)G[w]=G[w-1];G[w]=[t,v,D];return}for(var L=1/0,w=0;w<G.length;w++){for(var[t,v,D]=G[w],p=!0,R=0;R<t.length;R++)(D&!1||L>=D)&&Object.keys(Me.O).every(_=>Me.O[_](t[R]))?t.splice(R--,1):(p=!1,D<L&&(L=D));if(p){G.splice(w--,1);var o=v();o!==void 0&&(N=o)}}return N}})(),Me.n=G=>{var N=G&&G.__esModule?()=>G.default:()=>G;return Me.d(N,{a:N}),N},(()=>{var G=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,N;Me.t=function(t,v){if(v&1&&(t=this(t)),v&8||typeof t=="object"&&t&&(v&4&&t.__esModule||v&16&&typeof t.then=="function"))return t;var D=Object.create(null);Me.r(D);var w={};N=N||[null,G({}),G([]),G(G)];for(var L=v&2&&t;typeof L=="object"&&!~N.indexOf(L);L=G(L))Object.getOwnPropertyNames(L).forEach(p=>w[p]=()=>t[p]);return w.default=()=>t,Me.d(D,w),D}})(),Me.d=(G,N)=>{for(var t in N)Me.o(N,t)&&!Me.o(G,t)&&Object.defineProperty(G,t,{enumerable:!0,get:N[t]})},Me.f={},Me.e=G=>Promise.all(Object.keys(Me.f).reduce((N,t)=>(Me.f[t](G,N),N),[])),Me.u=G=>""+G+"-"+{164:"d249aec7fd06ee975777",848:"c3d75225cce5d9e0627d",856:"8986ecd50179140e6f2b"}[G]+".js",Me.miniCssF=G=>{},Me.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(G){if(typeof window=="object")return window}}(),Me.hmd=G=>(G=Object.create(G),G.children||(G.children=[]),Object.defineProperty(G,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+G.id)}}),G),Me.o=(G,N)=>Object.prototype.hasOwnProperty.call(G,N),(()=>{var G={},N="@mockingbot/mb-proto:";Me.l=(t,v,D,w)=>{if(G[t]){G[t].push(v);return}var L,p;if(D!==void 0)for(var R=document.getElementsByTagName("script"),o=0;o<R.length;o++){var i=R[o];if(i.getAttribute("src")==t||i.getAttribute("data-webpack")==N+D){L=i;break}}L||(p=!0,L=document.createElement("script"),L.charset="utf-8",L.timeout=120,Me.nc&&L.setAttribute("nonce",Me.nc),L.setAttribute("data-webpack",N+D),L.src=t),G[t]=[v];var E=(a,_)=>{L.onerror=L.onload=null,clearTimeout(n);var h=G[t];if(delete G[t],L.parentNode&&L.parentNode.removeChild(L),h&&h.forEach(f=>f(_)),a)return a(_)},n=setTimeout(E.bind(null,void 0,{type:"timeout",target:L}),12e4);L.onerror=E.bind(null,L.onerror),L.onload=E.bind(null,L.onload),p&&document.head.appendChild(L)}})(),Me.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},Me.nmd=G=>(G.paths=[],G.children||(G.children=[]),G),Me.j=96,Me.p="/mb-proto2/",(()=>{var G={96:0};Me.f.j=(v,D)=>{var w=Me.o(G,v)?G[v]:void 0;if(w!==0)if(w)D.push(w[2]);else{var L=new Promise((i,E)=>w=G[v]=[i,E]);D.push(w[2]=L);var p=Me.p+Me.u(v),R=new Error,o=i=>{if(Me.o(G,v)&&(w=G[v],w!==0&&(G[v]=void 0),w)){var E=i&&(i.type==="load"?"missing":i.type),n=i&&i.target&&i.target.src;R.message="Loading chunk "+v+` failed.
(`+E+": "+n+")",R.name="ChunkLoadError",R.type=E,R.request=n,w[1](R)}};Me.l(p,o,"chunk-"+v,v)}},Me.O.j=v=>G[v]===0;var N=(v,D)=>{var[w,L,p]=D,R,o,i=0;if(w.some(n=>G[n]!==0)){for(R in L)Me.o(L,R)&&(Me.m[R]=L[R]);if(p)var E=p(Me)}for(v&&v(D);i<w.length;i++)o=w[i],Me.o(G,o)&&G[o]&&G[o][0](),G[o]=0;return Me.O(E)},t=self.webpackChunk_mockingbot_mb_proto=self.webpackChunk_mockingbot_mb_proto||[];t.forEach(N.bind(null,0)),t.push=N.bind(null,t.push.bind(t))})(),Me.nc=void 0,Me.O(void 0,[736],()=>Me(76557)),Me.O(void 0,[736],()=>Me(57539)),Me.O(void 0,[736],()=>Me(53310));var kr=Me.O(void 0,[736],()=>Me(6301));kr=Me.O(kr)})();

//# sourceMappingURL=preview-html-zip-787486a8cd4c2e62a8d9.js.map